var ig=Object.defineProperty;var ag=(t,e,n)=>e in t?ig(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Tt=(t,e,n)=>(ag(t,typeof e!="symbol"?e+"":e,n),n);function sg(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ks(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function og(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Ff={exports:{}},Xs={},Af={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pa=Symbol.for("react.element"),lg=Symbol.for("react.portal"),ug=Symbol.for("react.fragment"),cg=Symbol.for("react.strict_mode"),hg=Symbol.for("react.profiler"),dg=Symbol.for("react.provider"),fg=Symbol.for("react.context"),pg=Symbol.for("react.forward_ref"),gg=Symbol.for("react.suspense"),mg=Symbol.for("react.memo"),vg=Symbol.for("react.lazy"),xh=Symbol.iterator;function yg(t){return t===null||typeof t!="object"?null:(t=xh&&t[xh]||t["@@iterator"],typeof t=="function"?t:null)}var Lf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},If=Object.assign,Uf={};function si(t,e,n){this.props=t,this.context=e,this.refs=Uf,this.updater=n||Lf}si.prototype.isReactComponent={};si.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};si.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Gf(){}Gf.prototype=si.prototype;function rc(t,e,n){this.props=t,this.context=e,this.refs=Uf,this.updater=n||Lf}var ic=rc.prototype=new Gf;ic.constructor=rc;If(ic,si.prototype);ic.isPureReactComponent=!0;var kh=Array.isArray,jf=Object.prototype.hasOwnProperty,ac={current:null},zf={key:!0,ref:!0,__self:!0,__source:!0};function Vf(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)jf.call(e,r)&&!zf.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:pa,type:t,key:a,ref:s,props:i,_owner:ac.current}}function _g(t,e){return{$$typeof:pa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sc(t){return typeof t=="object"&&t!==null&&t.$$typeof===pa}function Sg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Eh=/\/+/g;function ll(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Sg(""+t.key):e.toString(36)}function Za(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case pa:case lg:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+ll(s,0):r,kh(i)?(n="",t!=null&&(n=t.replace(Eh,"$&/")+"/"),Za(i,e,n,"",function(u){return u})):i!=null&&(sc(i)&&(i=_g(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Eh,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",kh(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+ll(a,o);s+=Za(a,e,n,l,i)}else if(l=yg(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+ll(a,o++),s+=Za(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Pa(t,e,n){if(t==null)return t;var r=[],i=0;return Za(t,r,"","",function(a){return e.call(n,a,i++)}),r}function Cg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var et={current:null},es={transition:null},wg={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:es,ReactCurrentOwner:ac};J.Children={map:Pa,forEach:function(t,e,n){Pa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pa(t,function(){e++}),e},toArray:function(t){return Pa(t,function(e){return e})||[]},only:function(t){if(!sc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=si;J.Fragment=ug;J.Profiler=hg;J.PureComponent=rc;J.StrictMode=cg;J.Suspense=gg;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wg;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=If({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=ac.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)jf.call(e,l)&&!zf.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:pa,type:t.type,key:i,ref:a,props:r,_owner:s}};J.createContext=function(t){return t={$$typeof:fg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dg,_context:t},t.Consumer=t};J.createElement=Vf;J.createFactory=function(t){var e=Vf.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:pg,render:t}};J.isValidElement=sc;J.lazy=function(t){return{$$typeof:vg,_payload:{_status:-1,_result:t},_init:Cg}};J.memo=function(t,e){return{$$typeof:mg,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=es.transition;es.transition={};try{t()}finally{es.transition=e}};J.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};J.useCallback=function(t,e){return et.current.useCallback(t,e)};J.useContext=function(t){return et.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return et.current.useDeferredValue(t)};J.useEffect=function(t,e){return et.current.useEffect(t,e)};J.useId=function(){return et.current.useId()};J.useImperativeHandle=function(t,e,n){return et.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return et.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return et.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return et.current.useMemo(t,e)};J.useReducer=function(t,e,n){return et.current.useReducer(t,e,n)};J.useRef=function(t){return et.current.useRef(t)};J.useState=function(t){return et.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return et.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return et.current.useTransition()};J.version="18.2.0";Af.exports=J;var I=Af.exports;const Ne=Ks(I),xg=sg({__proto__:null,default:Ne},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg=I,Eg=Symbol.for("react.element"),Pg=Symbol.for("react.fragment"),Tg=Object.prototype.hasOwnProperty,bg=kg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ng={key:!0,ref:!0,__self:!0,__source:!0};function $f(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Tg.call(e,r)&&!Ng.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Eg,type:t,key:a,ref:s,props:i,_owner:bg.current}}Xs.Fragment=Pg;Xs.jsx=$f;Xs.jsxs=$f;Ff.exports=Xs;var T=Ff.exports,Bf={exports:{}},mt={},Hf={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,G){var O=R.length;R.push(G);e:for(;0<O;){var L=O-1>>>1,B=R[L];if(0<i(B,G))R[L]=G,R[O]=B,O=L;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var G=R[0],O=R.pop();if(O!==G){R[0]=O;e:for(var L=0,B=R.length,re=B>>>1;L<re;){var Z=2*(L+1)-1,lt=R[Z],oe=Z+1,P=R[oe];if(0>i(lt,O))oe<B&&0>i(P,lt)?(R[L]=P,R[oe]=O,L=oe):(R[L]=lt,R[Z]=O,L=Z);else if(oe<B&&0>i(P,O))R[L]=P,R[oe]=O,L=oe;else break e}}return G}function i(R,G){var O=R.sortIndex-G.sortIndex;return O!==0?O:R.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],h=1,v=null,p=3,m=!1,d=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function c(R){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=R)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function g(R){if(_=!1,c(R),!d)if(n(l)!==null)d=!0,W(S);else{var G=n(u);G!==null&&K(g,G.startTime-R)}}function S(R,G){d=!1,_&&(_=!1,y(w),w=-1),m=!0;var O=p;try{for(c(G),v=n(l);v!==null&&(!(v.expirationTime>G)||R&&!b());){var L=v.callback;if(typeof L=="function"){v.callback=null,p=v.priorityLevel;var B=L(v.expirationTime<=G);G=t.unstable_now(),typeof B=="function"?v.callback=B:v===n(l)&&r(l),c(G)}else r(l);v=n(l)}if(v!==null)var re=!0;else{var Z=n(u);Z!==null&&K(g,Z.startTime-G),re=!1}return re}finally{v=null,p=O,m=!1}}var x=!1,E=null,w=-1,N=5,k=-1;function b(){return!(t.unstable_now()-k<N)}function A(){if(E!==null){var R=t.unstable_now();k=R;var G=!0;try{G=E(!0,R)}finally{G?F():(x=!1,E=null)}}else x=!1}var F;if(typeof f=="function")F=function(){f(A)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,U=V.port2;V.port1.onmessage=A,F=function(){U.postMessage(null)}}else F=function(){C(A,0)};function W(R){E=R,x||(x=!0,F())}function K(R,G){w=C(function(){R(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){d||m||(d=!0,W(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var O=p;p=G;try{return R()}finally{p=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,G){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var O=p;p=R;try{return G()}finally{p=O}},t.unstable_scheduleCallback=function(R,G,O){var L=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?L+O:L):O=L,R){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=O+B,R={id:h++,callback:G,priorityLevel:R,startTime:O,expirationTime:B,sortIndex:-1},O>L?(R.sortIndex=O,e(u,R),n(l)===null&&R===n(u)&&(_?(y(w),w=-1):_=!0,K(g,O-L))):(R.sortIndex=B,e(l,R),d||m||(d=!0,W(S))),R},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(R){var G=p;return function(){var O=p;p=G;try{return R.apply(this,arguments)}finally{p=O}}}})(Wf);Hf.exports=Wf;var Rg=Hf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf=I,gt=Rg;function M(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xf=new Set,Hi={};function fr(t,e){Qr(t,e),Qr(t+"Capture",e)}function Qr(t,e){for(Hi[t]=e,t=0;t<e.length;t++)Xf.add(e[t])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jl=Object.prototype.hasOwnProperty,Mg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ph={},Th={};function Og(t){return Jl.call(Th,t)?!0:Jl.call(Ph,t)?!1:Mg.test(t)?Th[t]=!0:(Ph[t]=!0,!1)}function Dg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Fg(t,e,n,r){if(e===null||typeof e>"u"||Dg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tt(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$e[t]=new tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$e[e]=new tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$e[t]=new tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$e[t]=new tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$e[t]=new tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$e[t]=new tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$e[t]=new tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$e[t]=new tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$e[t]=new tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var oc=/[\-:]([a-z])/g;function lc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(oc,lc);$e[e]=new tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(oc,lc);$e[e]=new tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(oc,lc);$e[e]=new tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$e[t]=new tt(t,1,!1,t.toLowerCase(),null,!1,!1)});$e.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$e[t]=new tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function uc(t,e,n,r){var i=$e.hasOwnProperty(e)?$e[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Fg(e,n,i,r)&&(n=null),r||i===null?Og(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hn=Kf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ta=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),Mr=Symbol.for("react.fragment"),cc=Symbol.for("react.strict_mode"),Zl=Symbol.for("react.profiler"),Yf=Symbol.for("react.provider"),Qf=Symbol.for("react.context"),hc=Symbol.for("react.forward_ref"),eu=Symbol.for("react.suspense"),tu=Symbol.for("react.suspense_list"),dc=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),qf=Symbol.for("react.offscreen"),bh=Symbol.iterator;function vi(t){return t===null||typeof t!="object"?null:(t=bh&&t[bh]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,ul;function Mi(t){if(ul===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ul=e&&e[1]||""}return`
`+ul+t}var cl=!1;function hl(t,e){if(!t||cl)return"";cl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{cl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Mi(t):""}function Ag(t){switch(t.tag){case 5:return Mi(t.type);case 16:return Mi("Lazy");case 13:return Mi("Suspense");case 19:return Mi("SuspenseList");case 0:case 2:case 15:return t=hl(t.type,!1),t;case 11:return t=hl(t.type.render,!1),t;case 1:return t=hl(t.type,!0),t;default:return""}}function nu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mr:return"Fragment";case Rr:return"Portal";case Zl:return"Profiler";case cc:return"StrictMode";case eu:return"Suspense";case tu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Qf:return(t.displayName||"Context")+".Consumer";case Yf:return(t._context.displayName||"Context")+".Provider";case hc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dc:return e=t.displayName||null,e!==null?e:nu(t.type)||"Memo";case wn:e=t._payload,t=t._init;try{return nu(t(e))}catch{}}return null}function Lg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nu(e);case 8:return e===cc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Un(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ig(t){var e=Jf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ba(t){t._valueTracker||(t._valueTracker=Ig(t))}function Zf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Jf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function gs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ru(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Nh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Un(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function e0(t,e){e=e.checked,e!=null&&uc(t,"checked",e,!1)}function iu(t,e){e0(t,e);var n=Un(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?au(t,e.type,n):e.hasOwnProperty("defaultValue")&&au(t,e.type,Un(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function au(t,e,n){(e!=="number"||gs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Oi=Array.isArray;function Br(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Un(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function su(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(M(92));if(Oi(n)){if(1<n.length)throw Error(M(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Un(n)}}function t0(t,e){var n=Un(e.value),r=Un(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Oh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function n0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ou(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?n0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Na,r0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Na=Na||document.createElement("div"),Na.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Na.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ug=["Webkit","ms","Moz","O"];Object.keys(Ai).forEach(function(t){Ug.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ai[e]=Ai[t]})});function i0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ai.hasOwnProperty(t)&&Ai[t]?(""+e).trim():e+"px"}function a0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=i0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Gg=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lu(t,e){if(e){if(Gg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function uu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=null;function fc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hu=null,Hr=null,Wr=null;function Dh(t){if(t=va(t)){if(typeof hu!="function")throw Error(M(280));var e=t.stateNode;e&&(e=Zs(e),hu(t.stateNode,t.type,e))}}function s0(t){Hr?Wr?Wr.push(t):Wr=[t]:Hr=t}function o0(){if(Hr){var t=Hr,e=Wr;if(Wr=Hr=null,Dh(t),e)for(t=0;t<e.length;t++)Dh(e[t])}}function l0(t,e){return t(e)}function u0(){}var dl=!1;function c0(t,e,n){if(dl)return t(e,n);dl=!0;try{return l0(t,e,n)}finally{dl=!1,(Hr!==null||Wr!==null)&&(u0(),o0())}}function Ki(t,e){var n=t.stateNode;if(n===null)return null;var r=Zs(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(M(231,e,typeof n));return n}var du=!1;if(on)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){du=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{du=!1}function jg(t,e,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Li=!1,ms=null,vs=!1,fu=null,zg={onError:function(t){Li=!0,ms=t}};function Vg(t,e,n,r,i,a,s,o,l){Li=!1,ms=null,jg.apply(zg,arguments)}function $g(t,e,n,r,i,a,s,o,l){if(Vg.apply(this,arguments),Li){if(Li){var u=ms;Li=!1,ms=null}else throw Error(M(198));vs||(vs=!0,fu=u)}}function pr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function h0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fh(t){if(pr(t)!==t)throw Error(M(188))}function Bg(t){var e=t.alternate;if(!e){if(e=pr(t),e===null)throw Error(M(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Fh(i),t;if(a===r)return Fh(i),e;a=a.sibling}throw Error(M(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?t:e}function d0(t){return t=Bg(t),t!==null?f0(t):null}function f0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=f0(t);if(e!==null)return e;t=t.sibling}return null}var p0=gt.unstable_scheduleCallback,Ah=gt.unstable_cancelCallback,Hg=gt.unstable_shouldYield,Wg=gt.unstable_requestPaint,Te=gt.unstable_now,Kg=gt.unstable_getCurrentPriorityLevel,pc=gt.unstable_ImmediatePriority,g0=gt.unstable_UserBlockingPriority,ys=gt.unstable_NormalPriority,Xg=gt.unstable_LowPriority,m0=gt.unstable_IdlePriority,Ys=null,$t=null;function Yg(t){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Ys,t,void 0,(t.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:Jg,Qg=Math.log,qg=Math.LN2;function Jg(t){return t>>>=0,t===0?32:31-(Qg(t)/qg|0)|0}var Ra=64,Ma=4194304;function Di(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _s(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Di(o):(a&=s,a!==0&&(r=Di(a)))}else s=n&~i,s!==0?r=Di(s):a!==0&&(r=Di(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ft(e),i=1<<n,r|=t[n],e&=~i;return r}function Zg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Ft(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=Zg(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function pu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function v0(){var t=Ra;return Ra<<=1,!(Ra&4194240)&&(Ra=64),t}function fl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ga(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ft(e),t[e]=n}function t2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ft(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function gc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ft(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ie=0;function y0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _0,mc,S0,C0,w0,gu=!1,Oa=[],Nn=null,Rn=null,Mn=null,Xi=new Map,Yi=new Map,kn=[],n2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lh(t,e){switch(t){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":Xi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yi.delete(e.pointerId)}}function _i(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=va(e),e!==null&&mc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function r2(t,e,n,r,i){switch(e){case"focusin":return Nn=_i(Nn,t,e,n,r,i),!0;case"dragenter":return Rn=_i(Rn,t,e,n,r,i),!0;case"mouseover":return Mn=_i(Mn,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Xi.set(a,_i(Xi.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Yi.set(a,_i(Yi.get(a)||null,t,e,n,r,i)),!0}return!1}function x0(t){var e=tr(t.target);if(e!==null){var n=pr(e);if(n!==null){if(e=n.tag,e===13){if(e=h0(n),e!==null){t.blockedOn=e,w0(t.priority,function(){S0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ts(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cu=r,n.target.dispatchEvent(r),cu=null}else return e=va(n),e!==null&&mc(e),t.blockedOn=n,!1;e.shift()}return!0}function Ih(t,e,n){ts(t)&&n.delete(e)}function i2(){gu=!1,Nn!==null&&ts(Nn)&&(Nn=null),Rn!==null&&ts(Rn)&&(Rn=null),Mn!==null&&ts(Mn)&&(Mn=null),Xi.forEach(Ih),Yi.forEach(Ih)}function Si(t,e){t.blockedOn===e&&(t.blockedOn=null,gu||(gu=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,i2)))}function Qi(t){function e(i){return Si(i,t)}if(0<Oa.length){Si(Oa[0],t);for(var n=1;n<Oa.length;n++){var r=Oa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Nn!==null&&Si(Nn,t),Rn!==null&&Si(Rn,t),Mn!==null&&Si(Mn,t),Xi.forEach(e),Yi.forEach(e),n=0;n<kn.length;n++)r=kn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kn.length&&(n=kn[0],n.blockedOn===null);)x0(n),n.blockedOn===null&&kn.shift()}var Kr=hn.ReactCurrentBatchConfig,Ss=!0;function a2(t,e,n,r){var i=ie,a=Kr.transition;Kr.transition=null;try{ie=1,vc(t,e,n,r)}finally{ie=i,Kr.transition=a}}function s2(t,e,n,r){var i=ie,a=Kr.transition;Kr.transition=null;try{ie=4,vc(t,e,n,r)}finally{ie=i,Kr.transition=a}}function vc(t,e,n,r){if(Ss){var i=mu(t,e,n,r);if(i===null)xl(t,e,r,Cs,n),Lh(t,r);else if(r2(i,t,e,n,r))r.stopPropagation();else if(Lh(t,r),e&4&&-1<n2.indexOf(t)){for(;i!==null;){var a=va(i);if(a!==null&&_0(a),a=mu(t,e,n,r),a===null&&xl(t,e,r,Cs,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else xl(t,e,r,null,n)}}var Cs=null;function mu(t,e,n,r){if(Cs=null,t=fc(r),t=tr(t),t!==null)if(e=pr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=h0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cs=t,null}function k0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kg()){case pc:return 1;case g0:return 4;case ys:case Xg:return 16;case m0:return 536870912;default:return 16}default:return 16}}var Pn=null,yc=null,ns=null;function E0(){if(ns)return ns;var t,e=yc,n=e.length,r,i="value"in Pn?Pn.value:Pn.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return ns=i.slice(t,1<r?1-r:void 0)}function rs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Da(){return!0}function Uh(){return!1}function vt(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Da:Uh,this.isPropagationStopped=Uh,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),e}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=vt(oi),ma=Se({},oi,{view:0,detail:0}),o2=vt(ma),pl,gl,Ci,Qs=Se({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(pl=t.screenX-Ci.screenX,gl=t.screenY-Ci.screenY):gl=pl=0,Ci=t),pl)},movementY:function(t){return"movementY"in t?t.movementY:gl}}),Gh=vt(Qs),l2=Se({},Qs,{dataTransfer:0}),u2=vt(l2),c2=Se({},ma,{relatedTarget:0}),ml=vt(c2),h2=Se({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),d2=vt(h2),f2=Se({},oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),p2=vt(f2),g2=Se({},oi,{data:0}),jh=vt(g2),m2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=y2[t])?!!e[t]:!1}function Sc(){return _2}var S2=Se({},ma,{key:function(t){if(t.key){var e=m2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?v2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sc,charCode:function(t){return t.type==="keypress"?rs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),C2=vt(S2),w2=Se({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zh=vt(w2),x2=Se({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sc}),k2=vt(x2),E2=Se({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),P2=vt(E2),T2=Se({},Qs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),b2=vt(T2),N2=[9,13,27,32],Cc=on&&"CompositionEvent"in window,Ii=null;on&&"documentMode"in document&&(Ii=document.documentMode);var R2=on&&"TextEvent"in window&&!Ii,P0=on&&(!Cc||Ii&&8<Ii&&11>=Ii),Vh=" ",$h=!1;function T0(t,e){switch(t){case"keyup":return N2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Or=!1;function M2(t,e){switch(t){case"compositionend":return b0(e);case"keypress":return e.which!==32?null:($h=!0,Vh);case"textInput":return t=e.data,t===Vh&&$h?null:t;default:return null}}function O2(t,e){if(Or)return t==="compositionend"||!Cc&&T0(t,e)?(t=E0(),ns=yc=Pn=null,Or=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return P0&&e.locale!=="ko"?null:e.data;default:return null}}var D2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!D2[t.type]:e==="textarea"}function N0(t,e,n,r){s0(r),e=ws(e,"onChange"),0<e.length&&(n=new _c("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ui=null,qi=null;function F2(t){j0(t,0)}function qs(t){var e=Ar(t);if(Zf(e))return t}function A2(t,e){if(t==="change")return e}var R0=!1;if(on){var vl;if(on){var yl="oninput"in document;if(!yl){var Hh=document.createElement("div");Hh.setAttribute("oninput","return;"),yl=typeof Hh.oninput=="function"}vl=yl}else vl=!1;R0=vl&&(!document.documentMode||9<document.documentMode)}function Wh(){Ui&&(Ui.detachEvent("onpropertychange",M0),qi=Ui=null)}function M0(t){if(t.propertyName==="value"&&qs(qi)){var e=[];N0(e,qi,t,fc(t)),c0(F2,e)}}function L2(t,e,n){t==="focusin"?(Wh(),Ui=e,qi=n,Ui.attachEvent("onpropertychange",M0)):t==="focusout"&&Wh()}function I2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qs(qi)}function U2(t,e){if(t==="click")return qs(e)}function G2(t,e){if(t==="input"||t==="change")return qs(e)}function j2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var It=typeof Object.is=="function"?Object.is:j2;function Ji(t,e){if(It(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Jl.call(e,i)||!It(t[i],e[i]))return!1}return!0}function Kh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xh(t,e){var n=Kh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kh(n)}}function O0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?O0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function D0(){for(var t=window,e=gs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gs(t.document)}return e}function wc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function z2(t){var e=D0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&O0(n.ownerDocument.documentElement,n)){if(r!==null&&wc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=Xh(n,a);var s=Xh(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var V2=on&&"documentMode"in document&&11>=document.documentMode,Dr=null,vu=null,Gi=null,yu=!1;function Yh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yu||Dr==null||Dr!==gs(r)||(r=Dr,"selectionStart"in r&&wc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gi&&Ji(Gi,r)||(Gi=r,r=ws(vu,"onSelect"),0<r.length&&(e=new _c("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Dr)))}function Fa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fr={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionend:Fa("Transition","TransitionEnd")},_l={},F0={};on&&(F0=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function Js(t){if(_l[t])return _l[t];if(!Fr[t])return t;var e=Fr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in F0)return _l[t]=e[n];return t}var A0=Js("animationend"),L0=Js("animationiteration"),I0=Js("animationstart"),U0=Js("transitionend"),G0=new Map,Qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(t,e){G0.set(t,e),fr(e,[t])}for(var Sl=0;Sl<Qh.length;Sl++){var Cl=Qh[Sl],$2=Cl.toLowerCase(),B2=Cl[0].toUpperCase()+Cl.slice(1);zn($2,"on"+B2)}zn(A0,"onAnimationEnd");zn(L0,"onAnimationIteration");zn(I0,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(U0,"onTransitionEnd");Qr("onMouseEnter",["mouseout","mouseover"]);Qr("onMouseLeave",["mouseout","mouseover"]);Qr("onPointerEnter",["pointerout","pointerover"]);Qr("onPointerLeave",["pointerout","pointerover"]);fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fi));function qh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$g(r,e,void 0,t),t.currentTarget=null}function j0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;qh(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;qh(i,o,u),a=l}}}if(vs)throw t=fu,vs=!1,fu=null,t}function de(t,e){var n=e[xu];n===void 0&&(n=e[xu]=new Set);var r=t+"__bubble";n.has(r)||(z0(e,t,2,!1),n.add(r))}function wl(t,e,n){var r=0;e&&(r|=4),z0(n,t,r,e)}var Aa="_reactListening"+Math.random().toString(36).slice(2);function Zi(t){if(!t[Aa]){t[Aa]=!0,Xf.forEach(function(n){n!=="selectionchange"&&(H2.has(n)||wl(n,!1,t),wl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Aa]||(e[Aa]=!0,wl("selectionchange",!1,e))}}function z0(t,e,n,r){switch(k0(e)){case 1:var i=a2;break;case 4:i=s2;break;default:i=vc}n=i.bind(null,e,n,t),i=void 0,!du||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xl(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=tr(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}c0(function(){var u=a,h=fc(n),v=[];e:{var p=G0.get(t);if(p!==void 0){var m=_c,d=t;switch(t){case"keypress":if(rs(n)===0)break e;case"keydown":case"keyup":m=C2;break;case"focusin":d="focus",m=ml;break;case"focusout":d="blur",m=ml;break;case"beforeblur":case"afterblur":m=ml;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=u2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=k2;break;case A0:case L0:case I0:m=d2;break;case U0:m=P2;break;case"scroll":m=o2;break;case"wheel":m=b2;break;case"copy":case"cut":case"paste":m=p2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=zh}var _=(e&4)!==0,C=!_&&t==="scroll",y=_?p!==null?p+"Capture":null:p;_=[];for(var f=u,c;f!==null;){c=f;var g=c.stateNode;if(c.tag===5&&g!==null&&(c=g,y!==null&&(g=Ki(f,y),g!=null&&_.push(ea(f,g,c)))),C)break;f=f.return}0<_.length&&(p=new m(p,d,null,n,h),v.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==cu&&(d=n.relatedTarget||n.fromElement)&&(tr(d)||d[ln]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(d=n.relatedTarget||n.toElement,m=u,d=d?tr(d):null,d!==null&&(C=pr(d),d!==C||d.tag!==5&&d.tag!==6)&&(d=null)):(m=null,d=u),m!==d)){if(_=Gh,g="onMouseLeave",y="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(_=zh,g="onPointerLeave",y="onPointerEnter",f="pointer"),C=m==null?p:Ar(m),c=d==null?p:Ar(d),p=new _(g,f+"leave",m,n,h),p.target=C,p.relatedTarget=c,g=null,tr(h)===u&&(_=new _(y,f+"enter",d,n,h),_.target=c,_.relatedTarget=C,g=_),C=g,m&&d)t:{for(_=m,y=d,f=0,c=_;c;c=Pr(c))f++;for(c=0,g=y;g;g=Pr(g))c++;for(;0<f-c;)_=Pr(_),f--;for(;0<c-f;)y=Pr(y),c--;for(;f--;){if(_===y||y!==null&&_===y.alternate)break t;_=Pr(_),y=Pr(y)}_=null}else _=null;m!==null&&Jh(v,p,m,_,!1),d!==null&&C!==null&&Jh(v,C,d,_,!0)}}e:{if(p=u?Ar(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var S=A2;else if(Bh(p))if(R0)S=G2;else{S=I2;var x=L2}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=U2);if(S&&(S=S(t,u))){N0(v,S,n,h);break e}x&&x(t,p,u),t==="focusout"&&(x=p._wrapperState)&&x.controlled&&p.type==="number"&&au(p,"number",p.value)}switch(x=u?Ar(u):window,t){case"focusin":(Bh(x)||x.contentEditable==="true")&&(Dr=x,vu=u,Gi=null);break;case"focusout":Gi=vu=Dr=null;break;case"mousedown":yu=!0;break;case"contextmenu":case"mouseup":case"dragend":yu=!1,Yh(v,n,h);break;case"selectionchange":if(V2)break;case"keydown":case"keyup":Yh(v,n,h)}var E;if(Cc)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Or?T0(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(P0&&n.locale!=="ko"&&(Or||w!=="onCompositionStart"?w==="onCompositionEnd"&&Or&&(E=E0()):(Pn=h,yc="value"in Pn?Pn.value:Pn.textContent,Or=!0)),x=ws(u,w),0<x.length&&(w=new jh(w,t,null,n,h),v.push({event:w,listeners:x}),E?w.data=E:(E=b0(n),E!==null&&(w.data=E)))),(E=R2?M2(t,n):O2(t,n))&&(u=ws(u,"onBeforeInput"),0<u.length&&(h=new jh("onBeforeInput","beforeinput",null,n,h),v.push({event:h,listeners:u}),h.data=E))}j0(v,e)})}function ea(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ws(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ki(t,n),a!=null&&r.unshift(ea(t,a,i)),a=Ki(t,e),a!=null&&r.push(ea(t,a,i))),t=t.return}return r}function Pr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jh(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Ki(n,a),l!=null&&s.unshift(ea(n,l,o))):i||(l=Ki(n,a),l!=null&&s.push(ea(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var W2=/\r\n?/g,K2=/\u0000|\uFFFD/g;function Zh(t){return(typeof t=="string"?t:""+t).replace(W2,`
`).replace(K2,"")}function La(t,e,n){if(e=Zh(e),Zh(t)!==e&&n)throw Error(M(425))}function xs(){}var _u=null,Su=null;function Cu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wu=typeof setTimeout=="function"?setTimeout:void 0,X2=typeof clearTimeout=="function"?clearTimeout:void 0,ed=typeof Promise=="function"?Promise:void 0,Y2=typeof queueMicrotask=="function"?queueMicrotask:typeof ed<"u"?function(t){return ed.resolve(null).then(t).catch(Q2)}:wu;function Q2(t){setTimeout(function(){throw t})}function kl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Qi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qi(e)}function On(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function td(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var li=Math.random().toString(36).slice(2),zt="__reactFiber$"+li,ta="__reactProps$"+li,ln="__reactContainer$"+li,xu="__reactEvents$"+li,q2="__reactListeners$"+li,J2="__reactHandles$"+li;function tr(t){var e=t[zt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ln]||n[zt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=td(t);t!==null;){if(n=t[zt])return n;t=td(t)}return e}t=n,n=t.parentNode}return null}function va(t){return t=t[zt]||t[ln],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ar(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function Zs(t){return t[ta]||null}var ku=[],Lr=-1;function Vn(t){return{current:t}}function fe(t){0>Lr||(t.current=ku[Lr],ku[Lr]=null,Lr--)}function ce(t,e){Lr++,ku[Lr]=t.current,t.current=e}var Gn={},Xe=Vn(Gn),at=Vn(!1),sr=Gn;function qr(t,e){var n=t.type.contextTypes;if(!n)return Gn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function st(t){return t=t.childContextTypes,t!=null}function ks(){fe(at),fe(Xe)}function nd(t,e,n){if(Xe.current!==Gn)throw Error(M(168));ce(Xe,e),ce(at,n)}function V0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(M(108,Lg(t)||"Unknown",i));return Se({},n,r)}function Es(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gn,sr=Xe.current,ce(Xe,t),ce(at,at.current),!0}function rd(t,e,n){var r=t.stateNode;if(!r)throw Error(M(169));n?(t=V0(t,e,sr),r.__reactInternalMemoizedMergedChildContext=t,fe(at),fe(Xe),ce(Xe,t)):fe(at),ce(at,n)}var tn=null,eo=!1,El=!1;function $0(t){tn===null?tn=[t]:tn.push(t)}function Z2(t){eo=!0,$0(t)}function $n(){if(!El&&tn!==null){El=!0;var t=0,e=ie;try{var n=tn;for(ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}tn=null,eo=!1}catch(i){throw tn!==null&&(tn=tn.slice(t+1)),p0(pc,$n),i}finally{ie=e,El=!1}}return null}var Ir=[],Ur=0,Ps=null,Ts=0,St=[],Ct=0,or=null,nn=1,rn="";function Zn(t,e){Ir[Ur++]=Ts,Ir[Ur++]=Ps,Ps=t,Ts=e}function B0(t,e,n){St[Ct++]=nn,St[Ct++]=rn,St[Ct++]=or,or=t;var r=nn;t=rn;var i=32-Ft(r)-1;r&=~(1<<i),n+=1;var a=32-Ft(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,nn=1<<32-Ft(e)+i|n<<i|r,rn=a+t}else nn=1<<a|n<<i|r,rn=t}function xc(t){t.return!==null&&(Zn(t,1),B0(t,1,0))}function kc(t){for(;t===Ps;)Ps=Ir[--Ur],Ir[Ur]=null,Ts=Ir[--Ur],Ir[Ur]=null;for(;t===or;)or=St[--Ct],St[Ct]=null,rn=St[--Ct],St[Ct]=null,nn=St[--Ct],St[Ct]=null}var ft=null,dt=null,ge=!1,Dt=null;function H0(t,e){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function id(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ft=t,dt=On(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ft=t,dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=or!==null?{id:nn,overflow:rn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ft=t,dt=null,!0):!1;default:return!1}}function Eu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pu(t){if(ge){var e=dt;if(e){var n=e;if(!id(t,e)){if(Eu(t))throw Error(M(418));e=On(n.nextSibling);var r=ft;e&&id(t,e)?H0(r,n):(t.flags=t.flags&-4097|2,ge=!1,ft=t)}}else{if(Eu(t))throw Error(M(418));t.flags=t.flags&-4097|2,ge=!1,ft=t}}}function ad(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ft=t}function Ia(t){if(t!==ft)return!1;if(!ge)return ad(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cu(t.type,t.memoizedProps)),e&&(e=dt)){if(Eu(t))throw W0(),Error(M(418));for(;e;)H0(t,e),e=On(e.nextSibling)}if(ad(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dt=On(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dt=null}}else dt=ft?On(t.stateNode.nextSibling):null;return!0}function W0(){for(var t=dt;t;)t=On(t.nextSibling)}function Jr(){dt=ft=null,ge=!1}function Ec(t){Dt===null?Dt=[t]:Dt.push(t)}var em=hn.ReactCurrentBatchConfig;function Mt(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var bs=Vn(null),Ns=null,Gr=null,Pc=null;function Tc(){Pc=Gr=Ns=null}function bc(t){var e=bs.current;fe(bs),t._currentValue=e}function Tu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xr(t,e){Ns=t,Pc=Gr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(it=!0),t.firstContext=null)}function kt(t){var e=t._currentValue;if(Pc!==t)if(t={context:t,memoizedValue:e,next:null},Gr===null){if(Ns===null)throw Error(M(308));Gr=t,Ns.dependencies={lanes:0,firstContext:t}}else Gr=Gr.next=t;return e}var nr=null;function Nc(t){nr===null?nr=[t]:nr.push(t)}function K0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Nc(e)):(n.next=i.next,i.next=n),e.interleaved=n,un(t,r)}function un(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xn=!1;function Rc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function an(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Dn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,un(t,n)}return i=r.interleaved,i===null?(e.next=e,Nc(r)):(e.next=i.next,i.next=e),r.interleaved=e,un(t,n)}function is(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gc(t,n)}}function sd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rs(t,e,n,r){var i=t.updateQueue;xn=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==s&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(a!==null){var v=i.baseState;s=0,h=u=l=null,o=a;do{var p=o.lane,m=o.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var d=t,_=o;switch(p=e,m=n,_.tag){case 1:if(d=_.payload,typeof d=="function"){v=d.call(m,v,p);break e}v=d;break e;case 3:d.flags=d.flags&-65537|128;case 0:if(d=_.payload,p=typeof d=="function"?d.call(m,v,p):d,p==null)break e;v=Se({},v,p);break e;case 2:xn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=m,l=v):h=h.next=m,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(l=v),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);ur|=s,t.lanes=s,t.memoizedState=v}}function od(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(M(191,i));i.call(r)}}}var Y0=new Kf.Component().refs;function bu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var to={isMounted:function(t){return(t=t._reactInternals)?pr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ze(),i=An(t),a=an(r,i);a.payload=e,n!=null&&(a.callback=n),e=Dn(t,a,i),e!==null&&(At(e,t,i,r),is(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ze(),i=An(t),a=an(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Dn(t,a,i),e!==null&&(At(e,t,i,r),is(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ze(),r=An(t),i=an(n,r);i.tag=2,e!=null&&(i.callback=e),e=Dn(t,i,r),e!==null&&(At(e,t,r,n),is(e,t,r))}};function ld(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Ji(n,r)||!Ji(i,a):!0}function Q0(t,e,n){var r=!1,i=Gn,a=e.contextType;return typeof a=="object"&&a!==null?a=kt(a):(i=st(e)?sr:Xe.current,r=e.contextTypes,a=(r=r!=null)?qr(t,i):Gn),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=to,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function ud(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&to.enqueueReplaceState(e,e.state,null)}function Nu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Y0,Rc(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=kt(a):(a=st(e)?sr:Xe.current,i.context=qr(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(bu(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&to.enqueueReplaceState(i,i.state,null),Rs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function wi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;o===Y0&&(o=i.refs={}),s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,t))}return t}function Ua(t,e){throw t=Object.prototype.toString.call(e),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cd(t){var e=t._init;return e(t._payload)}function q0(t){function e(y,f){if(t){var c=y.deletions;c===null?(y.deletions=[f],y.flags|=16):c.push(f)}}function n(y,f){if(!t)return null;for(;f!==null;)e(y,f),f=f.sibling;return null}function r(y,f){for(y=new Map;f!==null;)f.key!==null?y.set(f.key,f):y.set(f.index,f),f=f.sibling;return y}function i(y,f){return y=Ln(y,f),y.index=0,y.sibling=null,y}function a(y,f,c){return y.index=c,t?(c=y.alternate,c!==null?(c=c.index,c<f?(y.flags|=2,f):c):(y.flags|=2,f)):(y.flags|=1048576,f)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,f,c,g){return f===null||f.tag!==6?(f=Ol(c,y.mode,g),f.return=y,f):(f=i(f,c),f.return=y,f)}function l(y,f,c,g){var S=c.type;return S===Mr?h(y,f,c.props.children,g,c.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===wn&&cd(S)===f.type)?(g=i(f,c.props),g.ref=wi(y,f,c),g.return=y,g):(g=cs(c.type,c.key,c.props,null,y.mode,g),g.ref=wi(y,f,c),g.return=y,g)}function u(y,f,c,g){return f===null||f.tag!==4||f.stateNode.containerInfo!==c.containerInfo||f.stateNode.implementation!==c.implementation?(f=Dl(c,y.mode,g),f.return=y,f):(f=i(f,c.children||[]),f.return=y,f)}function h(y,f,c,g,S){return f===null||f.tag!==7?(f=ar(c,y.mode,g,S),f.return=y,f):(f=i(f,c),f.return=y,f)}function v(y,f,c){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ol(""+f,y.mode,c),f.return=y,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ta:return c=cs(f.type,f.key,f.props,null,y.mode,c),c.ref=wi(y,null,f),c.return=y,c;case Rr:return f=Dl(f,y.mode,c),f.return=y,f;case wn:var g=f._init;return v(y,g(f._payload),c)}if(Oi(f)||vi(f))return f=ar(f,y.mode,c,null),f.return=y,f;Ua(y,f)}return null}function p(y,f,c,g){var S=f!==null?f.key:null;if(typeof c=="string"&&c!==""||typeof c=="number")return S!==null?null:o(y,f,""+c,g);if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Ta:return c.key===S?l(y,f,c,g):null;case Rr:return c.key===S?u(y,f,c,g):null;case wn:return S=c._init,p(y,f,S(c._payload),g)}if(Oi(c)||vi(c))return S!==null?null:h(y,f,c,g,null);Ua(y,c)}return null}function m(y,f,c,g,S){if(typeof g=="string"&&g!==""||typeof g=="number")return y=y.get(c)||null,o(f,y,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ta:return y=y.get(g.key===null?c:g.key)||null,l(f,y,g,S);case Rr:return y=y.get(g.key===null?c:g.key)||null,u(f,y,g,S);case wn:var x=g._init;return m(y,f,c,x(g._payload),S)}if(Oi(g)||vi(g))return y=y.get(c)||null,h(f,y,g,S,null);Ua(f,g)}return null}function d(y,f,c,g){for(var S=null,x=null,E=f,w=f=0,N=null;E!==null&&w<c.length;w++){E.index>w?(N=E,E=null):N=E.sibling;var k=p(y,E,c[w],g);if(k===null){E===null&&(E=N);break}t&&E&&k.alternate===null&&e(y,E),f=a(k,f,w),x===null?S=k:x.sibling=k,x=k,E=N}if(w===c.length)return n(y,E),ge&&Zn(y,w),S;if(E===null){for(;w<c.length;w++)E=v(y,c[w],g),E!==null&&(f=a(E,f,w),x===null?S=E:x.sibling=E,x=E);return ge&&Zn(y,w),S}for(E=r(y,E);w<c.length;w++)N=m(E,y,w,c[w],g),N!==null&&(t&&N.alternate!==null&&E.delete(N.key===null?w:N.key),f=a(N,f,w),x===null?S=N:x.sibling=N,x=N);return t&&E.forEach(function(b){return e(y,b)}),ge&&Zn(y,w),S}function _(y,f,c,g){var S=vi(c);if(typeof S!="function")throw Error(M(150));if(c=S.call(c),c==null)throw Error(M(151));for(var x=S=null,E=f,w=f=0,N=null,k=c.next();E!==null&&!k.done;w++,k=c.next()){E.index>w?(N=E,E=null):N=E.sibling;var b=p(y,E,k.value,g);if(b===null){E===null&&(E=N);break}t&&E&&b.alternate===null&&e(y,E),f=a(b,f,w),x===null?S=b:x.sibling=b,x=b,E=N}if(k.done)return n(y,E),ge&&Zn(y,w),S;if(E===null){for(;!k.done;w++,k=c.next())k=v(y,k.value,g),k!==null&&(f=a(k,f,w),x===null?S=k:x.sibling=k,x=k);return ge&&Zn(y,w),S}for(E=r(y,E);!k.done;w++,k=c.next())k=m(E,y,w,k.value,g),k!==null&&(t&&k.alternate!==null&&E.delete(k.key===null?w:k.key),f=a(k,f,w),x===null?S=k:x.sibling=k,x=k);return t&&E.forEach(function(A){return e(y,A)}),ge&&Zn(y,w),S}function C(y,f,c,g){if(typeof c=="object"&&c!==null&&c.type===Mr&&c.key===null&&(c=c.props.children),typeof c=="object"&&c!==null){switch(c.$$typeof){case Ta:e:{for(var S=c.key,x=f;x!==null;){if(x.key===S){if(S=c.type,S===Mr){if(x.tag===7){n(y,x.sibling),f=i(x,c.props.children),f.return=y,y=f;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===wn&&cd(S)===x.type){n(y,x.sibling),f=i(x,c.props),f.ref=wi(y,x,c),f.return=y,y=f;break e}n(y,x);break}else e(y,x);x=x.sibling}c.type===Mr?(f=ar(c.props.children,y.mode,g,c.key),f.return=y,y=f):(g=cs(c.type,c.key,c.props,null,y.mode,g),g.ref=wi(y,f,c),g.return=y,y=g)}return s(y);case Rr:e:{for(x=c.key;f!==null;){if(f.key===x)if(f.tag===4&&f.stateNode.containerInfo===c.containerInfo&&f.stateNode.implementation===c.implementation){n(y,f.sibling),f=i(f,c.children||[]),f.return=y,y=f;break e}else{n(y,f);break}else e(y,f);f=f.sibling}f=Dl(c,y.mode,g),f.return=y,y=f}return s(y);case wn:return x=c._init,C(y,f,x(c._payload),g)}if(Oi(c))return d(y,f,c,g);if(vi(c))return _(y,f,c,g);Ua(y,c)}return typeof c=="string"&&c!==""||typeof c=="number"?(c=""+c,f!==null&&f.tag===6?(n(y,f.sibling),f=i(f,c),f.return=y,y=f):(n(y,f),f=Ol(c,y.mode,g),f.return=y,y=f),s(y)):n(y,f)}return C}var Zr=q0(!0),J0=q0(!1),ya={},Bt=Vn(ya),na=Vn(ya),ra=Vn(ya);function rr(t){if(t===ya)throw Error(M(174));return t}function Mc(t,e){switch(ce(ra,e),ce(na,t),ce(Bt,ya),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ou(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ou(e,t)}fe(Bt),ce(Bt,e)}function ei(){fe(Bt),fe(na),fe(ra)}function Z0(t){rr(ra.current);var e=rr(Bt.current),n=ou(e,t.type);e!==n&&(ce(na,t),ce(Bt,n))}function Oc(t){na.current===t&&(fe(Bt),fe(na))}var ve=Vn(0);function Ms(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pl=[];function Dc(){for(var t=0;t<Pl.length;t++)Pl[t]._workInProgressVersionPrimary=null;Pl.length=0}var as=hn.ReactCurrentDispatcher,Tl=hn.ReactCurrentBatchConfig,lr=0,_e=null,De=null,Ie=null,Os=!1,ji=!1,ia=0,tm=0;function Be(){throw Error(M(321))}function Fc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!It(t[n],e[n]))return!1;return!0}function Ac(t,e,n,r,i,a){if(lr=a,_e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,as.current=t===null||t.memoizedState===null?am:sm,t=n(r,i),ji){a=0;do{if(ji=!1,ia=0,25<=a)throw Error(M(301));a+=1,Ie=De=null,e.updateQueue=null,as.current=om,t=n(r,i)}while(ji)}if(as.current=Ds,e=De!==null&&De.next!==null,lr=0,Ie=De=_e=null,Os=!1,e)throw Error(M(300));return t}function Lc(){var t=ia!==0;return ia=0,t}function jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?_e.memoizedState=Ie=t:Ie=Ie.next=t,Ie}function Et(){if(De===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=Ie===null?_e.memoizedState:Ie.next;if(e!==null)Ie=e,De=t;else{if(t===null)throw Error(M(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ie===null?_e.memoizedState=Ie=t:Ie=Ie.next=t}return Ie}function aa(t,e){return typeof e=="function"?e(t):e}function bl(t){var e=Et(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var r=De,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var h=u.lane;if((lr&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var v={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=v,s=r):l=l.next=v,_e.lanes|=h,ur|=h}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,It(r,e.memoizedState)||(it=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,_e.lanes|=a,ur|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Nl(t){var e=Et(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);It(a,e.memoizedState)||(it=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function e1(){}function t1(t,e){var n=_e,r=Et(),i=e(),a=!It(r.memoizedState,i);if(a&&(r.memoizedState=i,it=!0),r=r.queue,Ic(i1.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Ie!==null&&Ie.memoizedState.tag&1){if(n.flags|=2048,sa(9,r1.bind(null,n,r,i,e),void 0,null),Ue===null)throw Error(M(349));lr&30||n1(n,e,i)}return i}function n1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function r1(t,e,n,r){e.value=n,e.getSnapshot=r,a1(e)&&s1(t)}function i1(t,e,n){return n(function(){a1(e)&&s1(t)})}function a1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!It(t,n)}catch{return!0}}function s1(t){var e=un(t,1);e!==null&&At(e,t,1,-1)}function hd(t){var e=jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:t},e.queue=t,t=t.dispatch=im.bind(null,_e,t),[e.memoizedState,t]}function sa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function o1(){return Et().memoizedState}function ss(t,e,n,r){var i=jt();_e.flags|=t,i.memoizedState=sa(1|e,n,void 0,r===void 0?null:r)}function no(t,e,n,r){var i=Et();r=r===void 0?null:r;var a=void 0;if(De!==null){var s=De.memoizedState;if(a=s.destroy,r!==null&&Fc(r,s.deps)){i.memoizedState=sa(e,n,a,r);return}}_e.flags|=t,i.memoizedState=sa(1|e,n,a,r)}function dd(t,e){return ss(8390656,8,t,e)}function Ic(t,e){return no(2048,8,t,e)}function l1(t,e){return no(4,2,t,e)}function u1(t,e){return no(4,4,t,e)}function c1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function h1(t,e,n){return n=n!=null?n.concat([t]):null,no(4,4,c1.bind(null,e,t),n)}function Uc(){}function d1(t,e){var n=Et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function f1(t,e){var n=Et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function p1(t,e,n){return lr&21?(It(n,e)||(n=v0(),_e.lanes|=n,ur|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,it=!0),t.memoizedState=n)}function nm(t,e){var n=ie;ie=n!==0&&4>n?n:4,t(!0);var r=Tl.transition;Tl.transition={};try{t(!1),e()}finally{ie=n,Tl.transition=r}}function g1(){return Et().memoizedState}function rm(t,e,n){var r=An(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},m1(t))v1(e,n);else if(n=K0(t,e,n,r),n!==null){var i=Ze();At(n,t,r,i),y1(n,e,r)}}function im(t,e,n){var r=An(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(m1(t))v1(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,It(o,s)){var l=e.interleaved;l===null?(i.next=i,Nc(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=K0(t,e,i,r),n!==null&&(i=Ze(),At(n,t,r,i),y1(n,e,r))}}function m1(t){var e=t.alternate;return t===_e||e!==null&&e===_e}function v1(t,e){ji=Os=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function y1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gc(t,n)}}var Ds={readContext:kt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},am={readContext:kt,useCallback:function(t,e){return jt().memoizedState=[t,e===void 0?null:e],t},useContext:kt,useEffect:dd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ss(4194308,4,c1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ss(4194308,4,t,e)},useInsertionEffect:function(t,e){return ss(4,2,t,e)},useMemo:function(t,e){var n=jt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rm.bind(null,_e,t),[r.memoizedState,t]},useRef:function(t){var e=jt();return t={current:t},e.memoizedState=t},useState:hd,useDebugValue:Uc,useDeferredValue:function(t){return jt().memoizedState=t},useTransition:function(){var t=hd(!1),e=t[0];return t=nm.bind(null,t[1]),jt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_e,i=jt();if(ge){if(n===void 0)throw Error(M(407));n=n()}else{if(n=e(),Ue===null)throw Error(M(349));lr&30||n1(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,dd(i1.bind(null,r,a,t),[t]),r.flags|=2048,sa(9,r1.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=jt(),e=Ue.identifierPrefix;if(ge){var n=rn,r=nn;n=(r&~(1<<32-Ft(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ia++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tm++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sm={readContext:kt,useCallback:d1,useContext:kt,useEffect:Ic,useImperativeHandle:h1,useInsertionEffect:l1,useLayoutEffect:u1,useMemo:f1,useReducer:bl,useRef:o1,useState:function(){return bl(aa)},useDebugValue:Uc,useDeferredValue:function(t){var e=Et();return p1(e,De.memoizedState,t)},useTransition:function(){var t=bl(aa)[0],e=Et().memoizedState;return[t,e]},useMutableSource:e1,useSyncExternalStore:t1,useId:g1,unstable_isNewReconciler:!1},om={readContext:kt,useCallback:d1,useContext:kt,useEffect:Ic,useImperativeHandle:h1,useInsertionEffect:l1,useLayoutEffect:u1,useMemo:f1,useReducer:Nl,useRef:o1,useState:function(){return Nl(aa)},useDebugValue:Uc,useDeferredValue:function(t){var e=Et();return De===null?e.memoizedState=t:p1(e,De.memoizedState,t)},useTransition:function(){var t=Nl(aa)[0],e=Et().memoizedState;return[t,e]},useMutableSource:e1,useSyncExternalStore:t1,useId:g1,unstable_isNewReconciler:!1};function ti(t,e){try{var n="",r=e;do n+=Ag(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Rl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ru(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lm=typeof WeakMap=="function"?WeakMap:Map;function _1(t,e,n){n=an(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){As||(As=!0,ju=r),Ru(t,e)},n}function S1(t,e,n){n=an(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ru(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ru(t,e),typeof r!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function fd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lm;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=wm.bind(null,t,e,n),e.then(t,t))}function pd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gd(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=an(-1,1),e.tag=2,Dn(n,e,1))),n.lanes|=1),t)}var um=hn.ReactCurrentOwner,it=!1;function qe(t,e,n,r){e.child=t===null?J0(e,null,n,r):Zr(e,t.child,n,r)}function md(t,e,n,r,i){n=n.render;var a=e.ref;return Xr(e,i),r=Ac(t,e,n,r,a,i),n=Lc(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cn(t,e,i)):(ge&&n&&xc(e),e.flags|=1,qe(t,e,r,i),e.child)}function vd(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!Wc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,C1(t,e,a,r,i)):(t=cs(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ji,n(s,r)&&t.ref===e.ref)return cn(t,e,i)}return e.flags|=1,t=Ln(a,r),t.ref=e.ref,t.return=e,e.child=t}function C1(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Ji(a,r)&&t.ref===e.ref)if(it=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(it=!0);else return e.lanes=t.lanes,cn(t,e,i)}return Mu(t,e,n,r,i)}function w1(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(zr,ct),ct|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(zr,ct),ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ce(zr,ct),ct|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,ce(zr,ct),ct|=r;return qe(t,e,i,n),e.child}function x1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Mu(t,e,n,r,i){var a=st(n)?sr:Xe.current;return a=qr(e,a),Xr(e,i),n=Ac(t,e,n,r,a,i),r=Lc(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cn(t,e,i)):(ge&&r&&xc(e),e.flags|=1,qe(t,e,n,i),e.child)}function yd(t,e,n,r,i){if(st(n)){var a=!0;Es(e)}else a=!1;if(Xr(e,i),e.stateNode===null)os(t,e),Q0(e,n,r),Nu(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=kt(u):(u=st(n)?sr:Xe.current,u=qr(e,u));var h=n.getDerivedStateFromProps,v=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";v||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&ud(e,s,r,u),xn=!1;var p=e.memoizedState;s.state=p,Rs(e,r,s,i),l=e.memoizedState,o!==r||p!==l||at.current||xn?(typeof h=="function"&&(bu(e,n,h,r),l=e.memoizedState),(o=xn||ld(e,n,o,r,p,l,u))?(v||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,X0(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Mt(e.type,o),s.props=u,v=e.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=kt(l):(l=st(n)?sr:Xe.current,l=qr(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==v||p!==l)&&ud(e,s,r,l),xn=!1,p=e.memoizedState,s.state=p,Rs(e,r,s,i);var d=e.memoizedState;o!==v||p!==d||at.current||xn?(typeof m=="function"&&(bu(e,n,m,r),d=e.memoizedState),(u=xn||ld(e,n,u,r,p,d,l)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,d,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,d,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=d),s.props=r,s.state=d,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Ou(t,e,n,r,a,i)}function Ou(t,e,n,r,i,a){x1(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&rd(e,n,!1),cn(t,e,a);r=e.stateNode,um.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Zr(e,t.child,null,a),e.child=Zr(e,null,o,a)):qe(t,e,o,a),e.memoizedState=r.state,i&&rd(e,n,!0),e.child}function k1(t){var e=t.stateNode;e.pendingContext?nd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nd(t,e.context,!1),Mc(t,e.containerInfo)}function _d(t,e,n,r,i){return Jr(),Ec(i),e.flags|=256,qe(t,e,n,r),e.child}var Du={dehydrated:null,treeContext:null,retryLane:0};function Fu(t){return{baseLanes:t,cachePool:null,transitions:null}}function E1(t,e,n){var r=e.pendingProps,i=ve.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ce(ve,i&1),t===null)return Pu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=ao(s,r,0,null),t=ar(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Fu(n),e.memoizedState=Du,t):Gc(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return cm(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ln(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Ln(o,a):(a=ar(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=Du,r}return a=t.child,t=a.sibling,r=Ln(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Gc(t,e){return e=ao({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ga(t,e,n,r){return r!==null&&Ec(r),Zr(e,t.child,null,n),t=Gc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cm(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=Rl(Error(M(422))),Ga(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=ao({mode:"visible",children:r.children},i,0,null),a=ar(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Zr(e,t.child,null,s),e.child.memoizedState=Fu(s),e.memoizedState=Du,a);if(!(e.mode&1))return Ga(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(M(419)),r=Rl(a,r,void 0),Ga(t,e,s,r)}if(o=(s&t.childLanes)!==0,it||o){if(r=Ue,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,un(t,i),At(r,t,i,-1))}return Hc(),r=Rl(Error(M(421))),Ga(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=xm.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,dt=On(i.nextSibling),ft=e,ge=!0,Dt=null,t!==null&&(St[Ct++]=nn,St[Ct++]=rn,St[Ct++]=or,nn=t.id,rn=t.overflow,or=e),e=Gc(e,r.children),e.flags|=4096,e)}function Sd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tu(t.return,e,n)}function Ml(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function P1(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(qe(t,e,r.children,n),r=ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sd(t,n,e);else if(t.tag===19)Sd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ce(ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ms(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ml(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ms(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ml(e,!0,n,null,a);break;case"together":Ml(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function os(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ur|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(M(153));if(e.child!==null){for(t=e.child,n=Ln(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ln(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hm(t,e,n){switch(e.tag){case 3:k1(e),Jr();break;case 5:Z0(e);break;case 1:st(e.type)&&Es(e);break;case 4:Mc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ce(bs,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ce(ve,ve.current&1),e.flags|=128,null):n&e.child.childLanes?E1(t,e,n):(ce(ve,ve.current&1),t=cn(t,e,n),t!==null?t.sibling:null);ce(ve,ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return P1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(ve,ve.current),r)break;return null;case 22:case 23:return e.lanes=0,w1(t,e,n)}return cn(t,e,n)}var T1,Au,b1,N1;T1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Au=function(){};b1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,rr(Bt.current);var a=null;switch(n){case"input":i=ru(t,i),r=ru(t,r),a=[];break;case"select":i=Se({},i,{value:void 0}),r=Se({},r,{value:void 0}),a=[];break;case"textarea":i=su(t,i),r=su(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xs)}lu(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hi.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&de("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};N1=function(t,e,n,r){n!==r&&(e.flags|=4)};function xi(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function He(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dm(t,e,n){var r=e.pendingProps;switch(kc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(e),null;case 1:return st(e.type)&&ks(),He(e),null;case 3:return r=e.stateNode,ei(),fe(at),fe(Xe),Dc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ia(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dt!==null&&($u(Dt),Dt=null))),Au(t,e),He(e),null;case 5:Oc(e);var i=rr(ra.current);if(n=e.type,t!==null&&e.stateNode!=null)b1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(M(166));return He(e),null}if(t=rr(Bt.current),Ia(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[zt]=e,r[ta]=a,t=(e.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(i=0;i<Fi.length;i++)de(Fi[i],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":Nh(r,a),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},de("invalid",r);break;case"textarea":Mh(r,a),de("invalid",r)}lu(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&La(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&La(r.textContent,o,t),i=["children",""+o]):Hi.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&de("scroll",r)}switch(n){case"input":ba(r),Rh(r,a,!0);break;case"textarea":ba(r),Oh(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=xs)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=n0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[zt]=e,t[ta]=r,T1(t,e,!1,!1),e.stateNode=t;e:{switch(s=uu(n,r),n){case"dialog":de("cancel",t),de("close",t),i=r;break;case"iframe":case"object":case"embed":de("load",t),i=r;break;case"video":case"audio":for(i=0;i<Fi.length;i++)de(Fi[i],t);i=r;break;case"source":de("error",t),i=r;break;case"img":case"image":case"link":de("error",t),de("load",t),i=r;break;case"details":de("toggle",t),i=r;break;case"input":Nh(t,r),i=ru(t,r),de("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Se({},r,{value:void 0}),de("invalid",t);break;case"textarea":Mh(t,r),i=su(t,r),de("invalid",t);break;default:i=r}lu(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?a0(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&r0(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wi(t,l):typeof l=="number"&&Wi(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Hi.hasOwnProperty(a)?l!=null&&a==="onScroll"&&de("scroll",t):l!=null&&uc(t,a,l,s))}switch(n){case"input":ba(t),Rh(t,r,!1);break;case"textarea":ba(t),Oh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Un(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Br(t,!!r.multiple,a,!1):r.defaultValue!=null&&Br(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return He(e),null;case 6:if(t&&e.stateNode!=null)N1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(M(166));if(n=rr(ra.current),rr(Bt.current),Ia(e)){if(r=e.stateNode,n=e.memoizedProps,r[zt]=e,(a=r.nodeValue!==n)&&(t=ft,t!==null))switch(t.tag){case 3:La(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&La(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zt]=e,e.stateNode=r}return He(e),null;case 13:if(fe(ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&dt!==null&&e.mode&1&&!(e.flags&128))W0(),Jr(),e.flags|=98560,a=!1;else if(a=Ia(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(M(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(M(317));a[zt]=e}else Jr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;He(e),a=!1}else Dt!==null&&($u(Dt),Dt=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ve.current&1?Fe===0&&(Fe=3):Hc())),e.updateQueue!==null&&(e.flags|=4),He(e),null);case 4:return ei(),Au(t,e),t===null&&Zi(e.stateNode.containerInfo),He(e),null;case 10:return bc(e.type._context),He(e),null;case 17:return st(e.type)&&ks(),He(e),null;case 19:if(fe(ve),a=e.memoizedState,a===null)return He(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)xi(a,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ms(t),s!==null){for(e.flags|=128,xi(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ce(ve,ve.current&1|2),e.child}t=t.sibling}a.tail!==null&&Te()>ni&&(e.flags|=128,r=!0,xi(a,!1),e.lanes=4194304)}else{if(!r)if(t=Ms(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!ge)return He(e),null}else 2*Te()-a.renderingStartTime>ni&&n!==1073741824&&(e.flags|=128,r=!0,xi(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Te(),e.sibling=null,n=ve.current,ce(ve,r?n&1|2:n&1),e):(He(e),null);case 22:case 23:return Bc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ct&1073741824&&(He(e),e.subtreeFlags&6&&(e.flags|=8192)):He(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function fm(t,e){switch(kc(e),e.tag){case 1:return st(e.type)&&ks(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ei(),fe(at),fe(Xe),Dc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Oc(e),null;case 13:if(fe(ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(M(340));Jr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fe(ve),null;case 4:return ei(),null;case 10:return bc(e.type._context),null;case 22:case 23:return Bc(),null;case 24:return null;default:return null}}var ja=!1,Ke=!1,pm=typeof WeakSet=="function"?WeakSet:Set,j=null;function jr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(t,e,r)}else n.current=null}function Lu(t,e,n){try{n()}catch(r){we(t,e,r)}}var Cd=!1;function gm(t,e){if(_u=Ss,t=D0(),wc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,h=0,v=t,p=null;t:for(;;){for(var m;v!==n||i!==0&&v.nodeType!==3||(o=s+i),v!==a||r!==0&&v.nodeType!==3||(l=s+r),v.nodeType===3&&(s+=v.nodeValue.length),(m=v.firstChild)!==null;)p=v,v=m;for(;;){if(v===t)break t;if(p===n&&++u===i&&(o=s),p===a&&++h===r&&(l=s),(m=v.nextSibling)!==null)break;v=p,p=v.parentNode}v=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Su={focusedElem:t,selectionRange:n},Ss=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var d=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var _=d.memoizedProps,C=d.memoizedState,y=e.stateNode,f=y.getSnapshotBeforeUpdate(e.elementType===e.type?_:Mt(e.type,_),C);y.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var c=e.stateNode.containerInfo;c.nodeType===1?c.textContent="":c.nodeType===9&&c.documentElement&&c.removeChild(c.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(g){we(e,e.return,g)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return d=Cd,Cd=!1,d}function zi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Lu(e,n,a)}i=i.next}while(i!==r)}}function ro(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Iu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function R1(t){var e=t.alternate;e!==null&&(t.alternate=null,R1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zt],delete e[ta],delete e[xu],delete e[q2],delete e[J2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function M1(t){return t.tag===5||t.tag===3||t.tag===4}function wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||M1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xs));else if(r!==4&&(t=t.child,t!==null))for(Uu(t,e,n),t=t.sibling;t!==null;)Uu(t,e,n),t=t.sibling}function Gu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gu(t,e,n),t=t.sibling;t!==null;)Gu(t,e,n),t=t.sibling}var je=null,Ot=!1;function vn(t,e,n){for(n=n.child;n!==null;)O1(t,e,n),n=n.sibling}function O1(t,e,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Ys,n)}catch{}switch(n.tag){case 5:Ke||jr(n,e);case 6:var r=je,i=Ot;je=null,vn(t,e,n),je=r,Ot=i,je!==null&&(Ot?(t=je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(Ot?(t=je,n=n.stateNode,t.nodeType===8?kl(t.parentNode,n):t.nodeType===1&&kl(t,n),Qi(t)):kl(je,n.stateNode));break;case 4:r=je,i=Ot,je=n.stateNode.containerInfo,Ot=!0,vn(t,e,n),je=r,Ot=i;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Lu(n,e,s),i=i.next}while(i!==r)}vn(t,e,n);break;case 1:if(!Ke&&(jr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){we(n,e,o)}vn(t,e,n);break;case 21:vn(t,e,n);break;case 22:n.mode&1?(Ke=(r=Ke)||n.memoizedState!==null,vn(t,e,n),Ke=r):vn(t,e,n);break;default:vn(t,e,n)}}function xd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pm),e.forEach(function(r){var i=km.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:je=o.stateNode,Ot=!1;break e;case 3:je=o.stateNode.containerInfo,Ot=!0;break e;case 4:je=o.stateNode.containerInfo,Ot=!0;break e}o=o.return}if(je===null)throw Error(M(160));O1(a,s,i),je=null,Ot=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){we(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)D1(e,t),e=e.sibling}function D1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bt(e,t),Gt(t),r&4){try{zi(3,t,t.return),ro(3,t)}catch(_){we(t,t.return,_)}try{zi(5,t,t.return)}catch(_){we(t,t.return,_)}}break;case 1:bt(e,t),Gt(t),r&512&&n!==null&&jr(n,n.return);break;case 5:if(bt(e,t),Gt(t),r&512&&n!==null&&jr(n,n.return),t.flags&32){var i=t.stateNode;try{Wi(i,"")}catch(_){we(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&e0(i,a),uu(o,s);var u=uu(o,a);for(s=0;s<l.length;s+=2){var h=l[s],v=l[s+1];h==="style"?a0(i,v):h==="dangerouslySetInnerHTML"?r0(i,v):h==="children"?Wi(i,v):uc(i,h,v,u)}switch(o){case"input":iu(i,a);break;case"textarea":t0(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Br(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?Br(i,!!a.multiple,a.defaultValue,!0):Br(i,!!a.multiple,a.multiple?[]:"",!1))}i[ta]=a}catch(_){we(t,t.return,_)}}break;case 6:if(bt(e,t),Gt(t),r&4){if(t.stateNode===null)throw Error(M(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(_){we(t,t.return,_)}}break;case 3:if(bt(e,t),Gt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qi(e.containerInfo)}catch(_){we(t,t.return,_)}break;case 4:bt(e,t),Gt(t);break;case 13:bt(e,t),Gt(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Vc=Te())),r&4&&xd(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ke=(u=Ke)||h,bt(e,t),Ke=u):bt(e,t),Gt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(j=t,h=t.child;h!==null;){for(v=j=h;j!==null;){switch(p=j,m=p.child,p.tag){case 0:case 11:case 14:case 15:zi(4,p,p.return);break;case 1:jr(p,p.return);var d=p.stateNode;if(typeof d.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,d.props=e.memoizedProps,d.state=e.memoizedState,d.componentWillUnmount()}catch(_){we(r,n,_)}}break;case 5:jr(p,p.return);break;case 22:if(p.memoizedState!==null){Ed(v);continue}}m!==null?(m.return=p,j=m):Ed(v)}h=h.sibling}e:for(h=null,v=t;;){if(v.tag===5){if(h===null){h=v;try{i=v.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=v.stateNode,l=v.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=i0("display",s))}catch(_){we(t,t.return,_)}}}else if(v.tag===6){if(h===null)try{v.stateNode.nodeValue=u?"":v.memoizedProps}catch(_){we(t,t.return,_)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;h===v&&(h=null),v=v.return}h===v&&(h=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:bt(e,t),Gt(t),r&4&&xd(t);break;case 21:break;default:bt(e,t),Gt(t)}}function Gt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(M1(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wi(i,""),r.flags&=-33);var a=wd(t);Gu(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=wd(t);Uu(t,o,s);break;default:throw Error(M(161))}}catch(l){we(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mm(t,e,n){j=t,F1(t)}function F1(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var i=j,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ja;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ke;o=ja;var u=Ke;if(ja=s,(Ke=l)&&!u)for(j=i;j!==null;)s=j,l=s.child,s.tag===22&&s.memoizedState!==null?Pd(i):l!==null?(l.return=s,j=l):Pd(i);for(;a!==null;)j=a,F1(a),a=a.sibling;j=i,ja=o,Ke=u}kd(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,j=a):kd(t)}}function kd(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ke||ro(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ke)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&od(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}od(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var v=h.dehydrated;v!==null&&Qi(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Ke||e.flags&512&&Iu(e)}catch(p){we(e,e.return,p)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function Ed(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function Pd(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ro(4,e)}catch(l){we(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){we(e,i,l)}}var a=e.return;try{Iu(e)}catch(l){we(e,a,l)}break;case 5:var s=e.return;try{Iu(e)}catch(l){we(e,s,l)}}}catch(l){we(e,e.return,l)}if(e===t){j=null;break}var o=e.sibling;if(o!==null){o.return=e.return,j=o;break}j=e.return}}var vm=Math.ceil,Fs=hn.ReactCurrentDispatcher,jc=hn.ReactCurrentOwner,xt=hn.ReactCurrentBatchConfig,te=0,Ue=null,Me=null,Ve=0,ct=0,zr=Vn(0),Fe=0,oa=null,ur=0,io=0,zc=0,Vi=null,rt=null,Vc=0,ni=1/0,Zt=null,As=!1,ju=null,Fn=null,za=!1,Tn=null,Ls=0,$i=0,zu=null,ls=-1,us=0;function Ze(){return te&6?Te():ls!==-1?ls:ls=Te()}function An(t){return t.mode&1?te&2&&Ve!==0?Ve&-Ve:em.transition!==null?(us===0&&(us=v0()),us):(t=ie,t!==0||(t=window.event,t=t===void 0?16:k0(t.type)),t):1}function At(t,e,n,r){if(50<$i)throw $i=0,zu=null,Error(M(185));ga(t,n,r),(!(te&2)||t!==Ue)&&(t===Ue&&(!(te&2)&&(io|=n),Fe===4&&En(t,Ve)),ot(t,r),n===1&&te===0&&!(e.mode&1)&&(ni=Te()+500,eo&&$n()))}function ot(t,e){var n=t.callbackNode;e2(t,e);var r=_s(t,t===Ue?Ve:0);if(r===0)n!==null&&Ah(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ah(n),e===1)t.tag===0?Z2(Td.bind(null,t)):$0(Td.bind(null,t)),Y2(function(){!(te&6)&&$n()}),n=null;else{switch(y0(r)){case 1:n=pc;break;case 4:n=g0;break;case 16:n=ys;break;case 536870912:n=m0;break;default:n=ys}n=V1(n,A1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function A1(t,e){if(ls=-1,us=0,te&6)throw Error(M(327));var n=t.callbackNode;if(Yr()&&t.callbackNode!==n)return null;var r=_s(t,t===Ue?Ve:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Is(t,r);else{e=r;var i=te;te|=2;var a=I1();(Ue!==t||Ve!==e)&&(Zt=null,ni=Te()+500,ir(t,e));do try{Sm();break}catch(o){L1(t,o)}while(!0);Tc(),Fs.current=a,te=i,Me!==null?e=0:(Ue=null,Ve=0,e=Fe)}if(e!==0){if(e===2&&(i=pu(t),i!==0&&(r=i,e=Vu(t,i))),e===1)throw n=oa,ir(t,0),En(t,r),ot(t,Te()),n;if(e===6)En(t,r);else{if(i=t.current.alternate,!(r&30)&&!ym(i)&&(e=Is(t,r),e===2&&(a=pu(t),a!==0&&(r=a,e=Vu(t,a))),e===1))throw n=oa,ir(t,0),En(t,r),ot(t,Te()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(M(345));case 2:er(t,rt,Zt);break;case 3:if(En(t,r),(r&130023424)===r&&(e=Vc+500-Te(),10<e)){if(_s(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ze(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wu(er.bind(null,t,rt,Zt),e);break}er(t,rt,Zt);break;case 4:if(En(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Ft(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vm(r/1960))-r,10<r){t.timeoutHandle=wu(er.bind(null,t,rt,Zt),r);break}er(t,rt,Zt);break;case 5:er(t,rt,Zt);break;default:throw Error(M(329))}}}return ot(t,Te()),t.callbackNode===n?A1.bind(null,t):null}function Vu(t,e){var n=Vi;return t.current.memoizedState.isDehydrated&&(ir(t,e).flags|=256),t=Is(t,e),t!==2&&(e=rt,rt=n,e!==null&&$u(e)),t}function $u(t){rt===null?rt=t:rt.push.apply(rt,t)}function ym(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!It(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function En(t,e){for(e&=~zc,e&=~io,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ft(e),r=1<<n;t[n]=-1,e&=~r}}function Td(t){if(te&6)throw Error(M(327));Yr();var e=_s(t,0);if(!(e&1))return ot(t,Te()),null;var n=Is(t,e);if(t.tag!==0&&n===2){var r=pu(t);r!==0&&(e=r,n=Vu(t,r))}if(n===1)throw n=oa,ir(t,0),En(t,e),ot(t,Te()),n;if(n===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,er(t,rt,Zt),ot(t,Te()),null}function $c(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(ni=Te()+500,eo&&$n())}}function cr(t){Tn!==null&&Tn.tag===0&&!(te&6)&&Yr();var e=te;te|=1;var n=xt.transition,r=ie;try{if(xt.transition=null,ie=1,t)return t()}finally{ie=r,xt.transition=n,te=e,!(te&6)&&$n()}}function Bc(){ct=zr.current,fe(zr)}function ir(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,X2(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(kc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ks();break;case 3:ei(),fe(at),fe(Xe),Dc();break;case 5:Oc(r);break;case 4:ei();break;case 13:fe(ve);break;case 19:fe(ve);break;case 10:bc(r.type._context);break;case 22:case 23:Bc()}n=n.return}if(Ue=t,Me=t=Ln(t.current,null),Ve=ct=e,Fe=0,oa=null,zc=io=ur=0,rt=Vi=null,nr!==null){for(e=0;e<nr.length;e++)if(n=nr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}nr=null}return t}function L1(t,e){do{var n=Me;try{if(Tc(),as.current=Ds,Os){for(var r=_e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Os=!1}if(lr=0,Ie=De=_e=null,ji=!1,ia=0,jc.current=null,n===null||n.return===null){Fe=1,oa=e,Me=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=Ve,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,v=h.tag;if(!(h.mode&1)&&(v===0||v===11||v===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=pd(s);if(m!==null){m.flags&=-257,gd(m,s,o,a,e),m.mode&1&&fd(a,u,e),e=m,l=u;var d=e.updateQueue;if(d===null){var _=new Set;_.add(l),e.updateQueue=_}else d.add(l);break e}else{if(!(e&1)){fd(a,u,e),Hc();break e}l=Error(M(426))}}else if(ge&&o.mode&1){var C=pd(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),gd(C,s,o,a,e),Ec(ti(l,o));break e}}a=l=ti(l,o),Fe!==4&&(Fe=2),Vi===null?Vi=[a]:Vi.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=_1(a,l,e);sd(a,y);break e;case 1:o=l;var f=a.type,c=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Fn===null||!Fn.has(c)))){a.flags|=65536,e&=-e,a.lanes|=e;var g=S1(a,o,e);sd(a,g);break e}}a=a.return}while(a!==null)}G1(n)}catch(S){e=S,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function I1(){var t=Fs.current;return Fs.current=Ds,t===null?Ds:t}function Hc(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),Ue===null||!(ur&268435455)&&!(io&268435455)||En(Ue,Ve)}function Is(t,e){var n=te;te|=2;var r=I1();(Ue!==t||Ve!==e)&&(Zt=null,ir(t,e));do try{_m();break}catch(i){L1(t,i)}while(!0);if(Tc(),te=n,Fs.current=r,Me!==null)throw Error(M(261));return Ue=null,Ve=0,Fe}function _m(){for(;Me!==null;)U1(Me)}function Sm(){for(;Me!==null&&!Hg();)U1(Me)}function U1(t){var e=z1(t.alternate,t,ct);t.memoizedProps=t.pendingProps,e===null?G1(t):Me=e,jc.current=null}function G1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fm(n,e),n!==null){n.flags&=32767,Me=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fe=6,Me=null;return}}else if(n=dm(n,e,ct),n!==null){Me=n;return}if(e=e.sibling,e!==null){Me=e;return}Me=e=t}while(e!==null);Fe===0&&(Fe=5)}function er(t,e,n){var r=ie,i=xt.transition;try{xt.transition=null,ie=1,Cm(t,e,n,r)}finally{xt.transition=i,ie=r}return null}function Cm(t,e,n,r){do Yr();while(Tn!==null);if(te&6)throw Error(M(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(t2(t,a),t===Ue&&(Me=Ue=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||za||(za=!0,V1(ys,function(){return Yr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=xt.transition,xt.transition=null;var s=ie;ie=1;var o=te;te|=4,jc.current=null,gm(t,n),D1(n,t),z2(Su),Ss=!!_u,Su=_u=null,t.current=n,mm(n),Wg(),te=o,ie=s,xt.transition=a}else t.current=n;if(za&&(za=!1,Tn=t,Ls=i),a=t.pendingLanes,a===0&&(Fn=null),Yg(n.stateNode),ot(t,Te()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(As)throw As=!1,t=ju,ju=null,t;return Ls&1&&t.tag!==0&&Yr(),a=t.pendingLanes,a&1?t===zu?$i++:($i=0,zu=t):$i=0,$n(),null}function Yr(){if(Tn!==null){var t=y0(Ls),e=xt.transition,n=ie;try{if(xt.transition=null,ie=16>t?16:t,Tn===null)var r=!1;else{if(t=Tn,Tn=null,Ls=0,te&6)throw Error(M(331));var i=te;for(te|=4,j=t.current;j!==null;){var a=j,s=a.child;if(j.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(j=u;j!==null;){var h=j;switch(h.tag){case 0:case 11:case 15:zi(8,h,a)}var v=h.child;if(v!==null)v.return=h,j=v;else for(;j!==null;){h=j;var p=h.sibling,m=h.return;if(R1(h),h===u){j=null;break}if(p!==null){p.return=m,j=p;break}j=m}}}var d=a.alternate;if(d!==null){var _=d.child;if(_!==null){d.child=null;do{var C=_.sibling;_.sibling=null,_=C}while(_!==null)}}j=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,j=s;else e:for(;j!==null;){if(a=j,a.flags&2048)switch(a.tag){case 0:case 11:case 15:zi(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,j=y;break e}j=a.return}}var f=t.current;for(j=f;j!==null;){s=j;var c=s.child;if(s.subtreeFlags&2064&&c!==null)c.return=s,j=c;else e:for(s=f;j!==null;){if(o=j,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ro(9,o)}}catch(S){we(o,o.return,S)}if(o===s){j=null;break e}var g=o.sibling;if(g!==null){g.return=o.return,j=g;break e}j=o.return}}if(te=i,$n(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Ys,t)}catch{}r=!0}return r}finally{ie=n,xt.transition=e}}return!1}function bd(t,e,n){e=ti(n,e),e=_1(t,e,1),t=Dn(t,e,1),e=Ze(),t!==null&&(ga(t,1,e),ot(t,e))}function we(t,e,n){if(t.tag===3)bd(t,t,n);else for(;e!==null;){if(e.tag===3){bd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fn===null||!Fn.has(r))){t=ti(n,t),t=S1(e,t,1),e=Dn(e,t,1),t=Ze(),e!==null&&(ga(e,1,t),ot(e,t));break}}e=e.return}}function wm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ze(),t.pingedLanes|=t.suspendedLanes&n,Ue===t&&(Ve&n)===n&&(Fe===4||Fe===3&&(Ve&130023424)===Ve&&500>Te()-Vc?ir(t,0):zc|=n),ot(t,e)}function j1(t,e){e===0&&(t.mode&1?(e=Ma,Ma<<=1,!(Ma&130023424)&&(Ma=4194304)):e=1);var n=Ze();t=un(t,e),t!==null&&(ga(t,e,n),ot(t,n))}function xm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),j1(t,n)}function km(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(e),j1(t,n)}var z1;z1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||at.current)it=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return it=!1,hm(t,e,n);it=!!(t.flags&131072)}else it=!1,ge&&e.flags&1048576&&B0(e,Ts,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;os(t,e),t=e.pendingProps;var i=qr(e,Xe.current);Xr(e,n),i=Ac(null,e,r,t,i,n);var a=Lc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,st(r)?(a=!0,Es(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rc(e),i.updater=to,e.stateNode=i,i._reactInternals=e,Nu(e,r,t,n),e=Ou(null,e,r,!0,a,n)):(e.tag=0,ge&&a&&xc(e),qe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(os(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Pm(r),t=Mt(r,t),i){case 0:e=Mu(null,e,r,t,n);break e;case 1:e=yd(null,e,r,t,n);break e;case 11:e=md(null,e,r,t,n);break e;case 14:e=vd(null,e,r,Mt(r.type,t),n);break e}throw Error(M(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),Mu(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),yd(t,e,r,i,n);case 3:e:{if(k1(e),t===null)throw Error(M(387));r=e.pendingProps,a=e.memoizedState,i=a.element,X0(t,e),Rs(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=ti(Error(M(423)),e),e=_d(t,e,r,n,i);break e}else if(r!==i){i=ti(Error(M(424)),e),e=_d(t,e,r,n,i);break e}else for(dt=On(e.stateNode.containerInfo.firstChild),ft=e,ge=!0,Dt=null,n=J0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jr(),r===i){e=cn(t,e,n);break e}qe(t,e,r,n)}e=e.child}return e;case 5:return Z0(e),t===null&&Pu(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,Cu(r,i)?s=null:a!==null&&Cu(r,a)&&(e.flags|=32),x1(t,e),qe(t,e,s,n),e.child;case 6:return t===null&&Pu(e),null;case 13:return E1(t,e,n);case 4:return Mc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zr(e,null,r,n):qe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),md(t,e,r,i,n);case 7:return qe(t,e,e.pendingProps,n),e.child;case 8:return qe(t,e,e.pendingProps.children,n),e.child;case 12:return qe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,ce(bs,r._currentValue),r._currentValue=s,a!==null)if(It(a.value,s)){if(a.children===i.children&&!at.current){e=cn(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=an(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Tu(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(M(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Tu(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}qe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xr(e,n),i=kt(i),r=r(i),e.flags|=1,qe(t,e,r,n),e.child;case 14:return r=e.type,i=Mt(r,e.pendingProps),i=Mt(r.type,i),vd(t,e,r,i,n);case 15:return C1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),os(t,e),e.tag=1,st(r)?(t=!0,Es(e)):t=!1,Xr(e,n),Q0(e,r,i),Nu(e,r,i,n),Ou(null,e,r,!0,t,n);case 19:return P1(t,e,n);case 22:return w1(t,e,n)}throw Error(M(156,e.tag))};function V1(t,e){return p0(t,e)}function Em(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(t,e,n,r){return new Em(t,e,n,r)}function Wc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pm(t){if(typeof t=="function")return Wc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hc)return 11;if(t===dc)return 14}return 2}function Ln(t,e){var n=t.alternate;return n===null?(n=wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cs(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")Wc(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Mr:return ar(n.children,i,a,e);case cc:s=8,i|=8;break;case Zl:return t=wt(12,n,e,i|2),t.elementType=Zl,t.lanes=a,t;case eu:return t=wt(13,n,e,i),t.elementType=eu,t.lanes=a,t;case tu:return t=wt(19,n,e,i),t.elementType=tu,t.lanes=a,t;case qf:return ao(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Yf:s=10;break e;case Qf:s=9;break e;case hc:s=11;break e;case dc:s=14;break e;case wn:s=16,r=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return e=wt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function ar(t,e,n,r){return t=wt(7,t,r,e),t.lanes=n,t}function ao(t,e,n,r){return t=wt(22,t,r,e),t.elementType=qf,t.lanes=n,t.stateNode={isHidden:!1},t}function Ol(t,e,n){return t=wt(6,t,null,e),t.lanes=n,t}function Dl(t,e,n){return e=wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Tm(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fl(0),this.expirationTimes=fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kc(t,e,n,r,i,a,s,o,l){return t=new Tm(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=wt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rc(a),t}function bm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $1(t){if(!t)return Gn;t=t._reactInternals;e:{if(pr(t)!==t||t.tag!==1)throw Error(M(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(st(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(t.tag===1){var n=t.type;if(st(n))return V0(t,n,e)}return e}function B1(t,e,n,r,i,a,s,o,l){return t=Kc(n,r,!0,t,i,a,s,o,l),t.context=$1(null),n=t.current,r=Ze(),i=An(n),a=an(r,i),a.callback=e??null,Dn(n,a,i),t.current.lanes=i,ga(t,i,r),ot(t,r),t}function so(t,e,n,r){var i=e.current,a=Ze(),s=An(i);return n=$1(n),e.context===null?e.context=n:e.pendingContext=n,e=an(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Dn(i,e,s),t!==null&&(At(t,i,s,a),is(t,i,s)),s}function Us(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xc(t,e){Nd(t,e),(t=t.alternate)&&Nd(t,e)}function Nm(){return null}var H1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yc(t){this._internalRoot=t}oo.prototype.render=Yc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(M(409));so(t,e,null,null)};oo.prototype.unmount=Yc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cr(function(){so(null,t,null,null)}),e[ln]=null}};function oo(t){this._internalRoot=t}oo.prototype.unstable_scheduleHydration=function(t){if(t){var e=C0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kn.length&&e!==0&&e<kn[n].priority;n++);kn.splice(n,0,t),n===0&&x0(t)}};function Qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rd(){}function Rm(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Us(s);a.call(u)}}var s=B1(e,r,t,0,null,!1,!1,"",Rd);return t._reactRootContainer=s,t[ln]=s.current,Zi(t.nodeType===8?t.parentNode:t),cr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Us(l);o.call(u)}}var l=Kc(t,0,!1,null,null,!1,!1,"",Rd);return t._reactRootContainer=l,t[ln]=l.current,Zi(t.nodeType===8?t.parentNode:t),cr(function(){so(e,l,n,r)}),l}function uo(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Us(s);o.call(l)}}so(e,s,t,i)}else s=Rm(n,e,t,i,r);return Us(s)}_0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Di(e.pendingLanes);n!==0&&(gc(e,n|1),ot(e,Te()),!(te&6)&&(ni=Te()+500,$n()))}break;case 13:cr(function(){var r=un(t,1);if(r!==null){var i=Ze();At(r,t,1,i)}}),Xc(t,1)}};mc=function(t){if(t.tag===13){var e=un(t,134217728);if(e!==null){var n=Ze();At(e,t,134217728,n)}Xc(t,134217728)}};S0=function(t){if(t.tag===13){var e=An(t),n=un(t,e);if(n!==null){var r=Ze();At(n,t,e,r)}Xc(t,e)}};C0=function(){return ie};w0=function(t,e){var n=ie;try{return ie=t,e()}finally{ie=n}};hu=function(t,e,n){switch(e){case"input":if(iu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zs(r);if(!i)throw Error(M(90));Zf(r),iu(r,i)}}}break;case"textarea":t0(t,n);break;case"select":e=n.value,e!=null&&Br(t,!!n.multiple,e,!1)}};l0=$c;u0=cr;var Mm={usingClientEntryPoint:!1,Events:[va,Ar,Zs,s0,o0,$c]},ki={findFiberByHostInstance:tr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Om={bundleType:ki.bundleType,version:ki.version,rendererPackageName:ki.rendererPackageName,rendererConfig:ki.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=d0(t),t===null?null:t.stateNode},findFiberByHostInstance:ki.findFiberByHostInstance||Nm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Va=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Va.isDisabled&&Va.supportsFiber)try{Ys=Va.inject(Om),$t=Va}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mm;mt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qc(e))throw Error(M(200));return bm(t,e,null,n)};mt.createRoot=function(t,e){if(!Qc(t))throw Error(M(299));var n=!1,r="",i=H1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Kc(t,1,!1,null,null,n,!1,r,i),t[ln]=e.current,Zi(t.nodeType===8?t.parentNode:t),new Yc(e)};mt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=d0(e),t=t===null?null:t.stateNode,t};mt.flushSync=function(t){return cr(t)};mt.hydrate=function(t,e,n){if(!lo(e))throw Error(M(200));return uo(null,t,e,!0,n)};mt.hydrateRoot=function(t,e,n){if(!Qc(t))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=H1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=B1(e,null,t,1,n??null,i,!1,a,s),t[ln]=e.current,Zi(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new oo(e)};mt.render=function(t,e,n){if(!lo(e))throw Error(M(200));return uo(null,t,e,!1,n)};mt.unmountComponentAtNode=function(t){if(!lo(t))throw Error(M(40));return t._reactRootContainer?(cr(function(){uo(null,null,t,!1,function(){t._reactRootContainer=null,t[ln]=null})}),!0):!1};mt.unstable_batchedUpdates=$c;mt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lo(n))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return uo(t,e,n,!1,r)};mt.version="18.2.0-next-9e3b772b8-20220608";function W1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W1)}catch(t){console.error(t)}}W1(),Bf.exports=mt;var qc=Bf.exports,K1,Md=qc;K1=Md.createRoot,Md.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function la(){return la=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},la.apply(this,arguments)}var bn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bn||(bn={}));const Od="popstate";function Dm(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return Bu("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Gs(i)}return Am(e,n,null,t)}function be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Fm(){return Math.random().toString(36).substr(2,8)}function Dd(t,e){return{usr:t.state,key:t.key,idx:e}}function Bu(t,e,n,r){return n===void 0&&(n=null),la({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ui(e):e,{state:n,key:e&&e.key||r||Fm()})}function Gs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ui(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Am(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=bn.Pop,l=null,u=h();u==null&&(u=0,s.replaceState(la({},s.state,{idx:u}),""));function h(){return(s.state||{idx:null}).idx}function v(){o=bn.Pop;let C=h(),y=C==null?null:C-u;u=C,l&&l({action:o,location:_.location,delta:y})}function p(C,y){o=bn.Push;let f=Bu(_.location,C,y);n&&n(f,C),u=h()+1;let c=Dd(f,u),g=_.createHref(f);try{s.pushState(c,"",g)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(g)}a&&l&&l({action:o,location:_.location,delta:1})}function m(C,y){o=bn.Replace;let f=Bu(_.location,C,y);n&&n(f,C),u=h();let c=Dd(f,u),g=_.createHref(f);s.replaceState(c,"",g),a&&l&&l({action:o,location:_.location,delta:0})}function d(C){let y=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof C=="string"?C:Gs(C);return be(y,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,y)}let _={get action(){return o},get location(){return t(i,s)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Od,v),l=C,()=>{i.removeEventListener(Od,v),l=null}},createHref(C){return e(i,C)},createURL:d,encodeLocation(C){let y=d(C);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:m,go(C){return s.go(C)}};return _}var Fd;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Fd||(Fd={}));function Lm(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ui(e):e,i=Zc(r.pathname||"/",n);if(i==null)return null;let a=X1(t);Im(a);let s=null;for(let o=0;s==null&&o<a.length;++o)s=Wm(a[o],Ym(i));return s}function X1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=In([r,l.relativePath]),h=n.concat(l);a.children&&a.children.length>0&&(be(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),X1(a.children,e,h,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Bm(u,a.index),routesMeta:h})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of Y1(a.path))i(a,s,l)}),e}function Y1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=Y1(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Im(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Hm(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Um=/^:[\w-]+$/,Gm=3,jm=2,zm=1,Vm=10,$m=-2,Ad=t=>t==="*";function Bm(t,e){let n=t.split("/"),r=n.length;return n.some(Ad)&&(r+=$m),e&&(r+=jm),n.filter(i=>!Ad(i)).reduce((i,a)=>i+(Um.test(a)?Gm:a===""?zm:Vm),r)}function Hm(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Wm(t,e){let{routesMeta:n}=t,r={},i="/",a=[];for(let s=0;s<n.length;++s){let o=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=Km({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u);if(!h)return null;Object.assign(r,h.params);let v=o.route;a.push({params:r,pathname:In([i,h.pathname]),pathnameBase:ev(In([i,h.pathnameBase])),route:v}),h.pathnameBase!=="/"&&(i=In([i,h.pathnameBase]))}return a}function Km(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Xm(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,h,v)=>{let{paramName:p,isOptional:m}=h;if(p==="*"){let _=o[v]||"";s=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const d=o[v];return m&&!d?u[p]=void 0:u[p]=Qm(d||"",p),u},{}),pathname:a,pathnameBase:s,pattern:t}}function Xm(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Jc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Ym(t){try{return decodeURI(t)}catch(e){return Jc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Qm(t,e){try{return decodeURIComponent(t)}catch(n){return Jc(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Zc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function qm(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ui(t):t;return{pathname:n?n.startsWith("/")?n:Jm(n,e):e,search:tv(r),hash:nv(i)}}function Jm(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fl(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zm(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eh(t,e){let n=Zm(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function th(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ui(t):(i=la({},t),be(!i.pathname||!i.pathname.includes("?"),Fl("?","pathname","search",i)),be(!i.pathname||!i.pathname.includes("#"),Fl("#","pathname","hash",i)),be(!i.search||!i.search.includes("#"),Fl("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let v=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),v-=1;i.pathname=p.join("/")}o=v>=0?e[v]:"/"}let l=qm(i,o),u=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const In=t=>t.join("/").replace(/\/\/+/g,"/"),ev=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tv=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nv=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Q1=["post","put","patch","delete"];new Set(Q1);const iv=["get",...Q1];new Set(iv);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ua(){return ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ua.apply(this,arguments)}const nh=I.createContext(null),av=I.createContext(null),Bn=I.createContext(null),co=I.createContext(null),Hn=I.createContext({outlet:null,matches:[],isDataRoute:!1}),q1=I.createContext(null);function sv(t,e){let{relative:n}=e===void 0?{}:e;ci()||be(!1);let{basename:r,navigator:i}=I.useContext(Bn),{hash:a,pathname:s,search:o}=ep(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:In([r,s])),i.createHref({pathname:l,search:o,hash:a})}function ci(){return I.useContext(co)!=null}function _a(){return ci()||be(!1),I.useContext(co).location}function J1(t){I.useContext(Bn).static||I.useLayoutEffect(t)}function Z1(){let{isDataRoute:t}=I.useContext(Hn);return t?_v():ov()}function ov(){ci()||be(!1);let t=I.useContext(nh),{basename:e,future:n,navigator:r}=I.useContext(Bn),{matches:i}=I.useContext(Hn),{pathname:a}=_a(),s=JSON.stringify(eh(i,n.v7_relativeSplatPath)),o=I.useRef(!1);return J1(()=>{o.current=!0}),I.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let v=th(u,JSON.parse(s),a,h.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:In([e,v.pathname])),(h.replace?r.replace:r.push)(v,h.state,h)},[e,r,s,a,t])}function ep(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=I.useContext(Bn),{matches:i}=I.useContext(Hn),{pathname:a}=_a(),s=JSON.stringify(eh(i,r.v7_relativeSplatPath));return I.useMemo(()=>th(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function lv(t,e){return uv(t,e)}function uv(t,e,n,r){ci()||be(!1);let{navigator:i}=I.useContext(Bn),{matches:a}=I.useContext(Hn),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=_a(),h;if(e){var v;let C=typeof e=="string"?ui(e):e;l==="/"||(v=C.pathname)!=null&&v.startsWith(l)||be(!1),h=C}else h=u;let p=h.pathname||"/",m=l==="/"?p:p.slice(l.length)||"/",d=Lm(t,{pathname:m}),_=pv(d&&d.map(C=>Object.assign({},C,{params:Object.assign({},o,C.params),pathname:In([l,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?l:In([l,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,n,r);return e&&_?I.createElement(co.Provider,{value:{location:ua({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:bn.Pop}},_):_}function cv(){let t=yv(),e=rv(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,null)}const hv=I.createElement(cv,null);class dv extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(Hn.Provider,{value:this.props.routeContext},I.createElement(q1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fv(t){let{routeContext:e,match:n,children:r}=t,i=I.useContext(nh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(Hn.Provider,{value:e},r)}function pv(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if((a=n)!=null&&a.errors)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let h=s.findIndex(v=>v.route.id&&(o==null?void 0:o[v.route.id]));h>=0||be(!1),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<s.length;h++){let v=s[h];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(u=h),v.route.id){let{loaderData:p,errors:m}=n,d=v.route.loader&&p[v.route.id]===void 0&&(!m||m[v.route.id]===void 0);if(v.route.lazy||d){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,v,p)=>{let m,d=!1,_=null,C=null;n&&(m=o&&v.route.id?o[v.route.id]:void 0,_=v.route.errorElement||hv,l&&(u<0&&p===0?(Sv("route-fallback",!1),d=!0,C=null):u===p&&(d=!0,C=v.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,p+1)),f=()=>{let c;return m?c=_:d?c=C:v.route.Component?c=I.createElement(v.route.Component,null):v.route.element?c=v.route.element:c=h,I.createElement(fv,{match:v,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:c})};return n&&(v.route.ErrorBoundary||v.route.errorElement||p===0)?I.createElement(dv,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:f(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):f()},null)}var tp=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(tp||{}),js=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(js||{});function gv(t){let e=I.useContext(nh);return e||be(!1),e}function mv(t){let e=I.useContext(av);return e||be(!1),e}function vv(t){let e=I.useContext(Hn);return e||be(!1),e}function np(t){let e=vv(),n=e.matches[e.matches.length-1];return n.route.id||be(!1),n.route.id}function yv(){var t;let e=I.useContext(q1),n=mv(js.UseRouteError),r=np(js.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _v(){let{router:t}=gv(tp.UseNavigateStable),e=np(js.UseNavigateStable),n=I.useRef(!1);return J1(()=>{n.current=!0}),I.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ua({fromRouteId:e},a)))},[t,e])}const Ld={};function Sv(t,e,n){!e&&!Ld[t]&&(Ld[t]=!0)}function Cv(t){let{to:e,replace:n,state:r,relative:i}=t;ci()||be(!1);let{future:a,static:s}=I.useContext(Bn),{matches:o}=I.useContext(Hn),{pathname:l}=_a(),u=Z1(),h=th(e,eh(o,a.v7_relativeSplatPath),l,i==="path"),v=JSON.stringify(h);return I.useEffect(()=>u(JSON.parse(v),{replace:n,state:r,relative:i}),[u,v,i,n,r]),null}function hs(t){be(!1)}function wv(t){let{basename:e="/",children:n=null,location:r,navigationType:i=bn.Pop,navigator:a,static:s=!1,future:o}=t;ci()&&be(!1);let l=e.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:l,navigator:a,static:s,future:ua({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=ui(r));let{pathname:h="/",search:v="",hash:p="",state:m=null,key:d="default"}=r,_=I.useMemo(()=>{let C=Zc(h,l);return C==null?null:{location:{pathname:C,search:v,hash:p,state:m,key:d},navigationType:i}},[l,h,v,p,m,d,i]);return _==null?null:I.createElement(Bn.Provider,{value:u},I.createElement(co.Provider,{children:n,value:_}))}function xv(t){let{children:e,location:n}=t;return lv(Hu(e),n)}new Promise(()=>{});function Hu(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(r,i)=>{if(!I.isValidElement(r))return;let a=[...e,i];if(r.type===I.Fragment){n.push.apply(n,Hu(r.props.children,a));return}r.type!==hs&&be(!1),!r.props.index||!r.props.children||be(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Hu(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wu.apply(this,arguments)}function kv(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ev(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Pv(t,e){return t.button===0&&(!e||e==="_self")&&!Ev(t)}const Tv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],bv="6";try{window.__reactRouterVersion=bv}catch{}const Nv="startTransition",Id=xg[Nv];function Rv(t){let{basename:e,children:n,future:r,window:i}=t,a=I.useRef();a.current==null&&(a.current=Dm({window:i,v5Compat:!0}));let s=a.current,[o,l]=I.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},h=I.useCallback(v=>{u&&Id?Id(()=>l(v)):l(v)},[l,u]);return I.useLayoutEffect(()=>s.listen(h),[s,h]),I.createElement(wv,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const Mv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ov=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dv=I.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:h,unstable_viewTransition:v}=e,p=kv(e,Tv),{basename:m}=I.useContext(Bn),d,_=!1;if(typeof u=="string"&&Ov.test(u)&&(d=u,Mv))try{let c=new URL(window.location.href),g=u.startsWith("//")?new URL(c.protocol+u):new URL(u),S=Zc(g.pathname,m);g.origin===c.origin&&S!=null?u=S+g.search+g.hash:_=!0}catch{}let C=sv(u,{relative:i}),y=Fv(u,{replace:s,state:o,target:l,preventScrollReset:h,relative:i,unstable_viewTransition:v});function f(c){r&&r(c),c.defaultPrevented||y(c)}return I.createElement("a",Wu({},p,{href:d||C,onClick:_||a?r:f,ref:n,target:l}))});var Ud;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ud||(Ud={}));var Gd;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Gd||(Gd={}));function Fv(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,unstable_viewTransition:o}=e===void 0?{}:e,l=Z1(),u=_a(),h=ep(t,{relative:s});return I.useCallback(v=>{if(Pv(v,n)){v.preventDefault();let p=r!==void 0?r:Gs(u)===Gs(h);l(t,{replace:p,state:i,preventScrollReset:a,relative:s,unstable_viewTransition:o})}},[u,l,h,r,i,n,t,a,s,o])}class Je extends Ne.Component{render(){return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"d-inline-block "+this.props.className,children:[T.jsx("button",{className:"btn circle-btn add-caption-btn "+(this.props.disabled?"disabled":""),onClick:this.props.onClick,children:T.jsx("span",{className:this.props.iconClassName})}),this.props.text?T.jsx("div",{className:"badge",children:T.jsxs("span",{children:[" ",this.props.text," "]})}):""]})})}}class jd extends Ne.Component{constructor(n){super(n);Tt(this,"fileInput");this.fileInput=I.createRef(),this.changeHandler=this.changeHandler.bind(this),this.redirectToInput=this.redirectToInput.bind(this)}changeHandler(n){var i;const r=n.target;if(this.props.onChange&&((i=r.files)!=null&&i.length)){const a=r.files[0];this.props.onChange(a)}}redirectToInput(){var n;(n=this.fileInput.current)==null||n.click()}render(){const n=this.props.filename,r=n?`[${n}] click to rechoose`:"choose a file";return T.jsxs("div",{className:"form-group file-input-wrapper",children:[T.jsx("input",{type:"file",ref:this.fileInput,className:"d-none",onChange:this.changeHandler}),T.jsx("button",{className:"rounded font-weight-bold btn btn-info w-100 virtual-file-input",onClick:i=>this.redirectToInput(),children:T.jsxs("span",{children:[" ",r," "]})})]})}}function rp(t){const e=new CustomEvent("toast",{detail:t});window.dispatchEvent(e)}class Av extends Ne.Component{constructor(e){super(e),this.state={isOpen:!1,timerId:0,lastMessage:{kind:"success",message:"",duration:0}},this.disableToast=this.disableToast.bind(this),this.cancelToast=this.cancelToast.bind(this),this.cancelTimer=this.cancelTimer.bind(this)}cancelTimer(){this.state.timerId&&(clearTimeout(this.state.timerId),this.setState({timerId:0}))}cancelToast(){this.cancelTimer(),this.setState({isOpen:!1})}disableToast(e){this.cancelTimer(),this.setState({timerId:window.setTimeout(this.cancelToast,e)})}componentDidMount(){window.addEventListener("toast",e=>{this.setState({lastMessage:e.detail,isOpen:!0}),this.disableToast(e.detail.duration)})}componentWillUnmount(){}render(){const e=this.state;return T.jsx(T.Fragment,{children:T.jsxs("div",{className:`fixed-bottom m-4 alert alert-${e.lastMessage.kind} ${e.isOpen?"":"d-none"}`,children:[T.jsx("button",{className:"close",onClick:this.cancelToast,children:"×"}),T.jsx("strong",{children:e.lastMessage.message})]})})}}class zd{constructor(e){Tt(this,"data");this.data=e}getData(){return this.data}setData(e){this.data=e}}const zs={videoUrl:new zd(""),subtitles:new zd([])};function Qt(t,e=2){let n=1;for(;n<=e;){const r=Math.pow(10,n);if(t>=r)n++;else break}return"0".repeat(e-n)+String(t)}function hr(t,e){const n=Math.floor(t%1*1e3),r=Math.floor(t%60),i=Math.floor(t%3600/60),a=Math.floor(t/3600);return e==="minute"?`${Qt(i)}:${Qt(r)}`:e==="minute+ms"?`${Qt(i)}:${Qt(r)}.${Qt(n,3)}`:e==="complete"?`${Qt(a)}:${Qt(i)}:${Qt(r)},${Qt(n,3)}`:""}function Ku(t){const e=Number(t.slice(0,2)),n=Number(t.slice(3,5)),r=Number(t.slice(6,8)),i=Number(t.slice(9));return e*60*60+n*60+r+i/1e3}let $a;const Lv=new Uint8Array(16);function Iv(){if(!$a&&($a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $a(Lv)}const Ge=[];for(let t=0;t<256;++t)Ge.push((t+256).toString(16).slice(1));function Uv(t,e=0){return Ge[t[e+0]]+Ge[t[e+1]]+Ge[t[e+2]]+Ge[t[e+3]]+"-"+Ge[t[e+4]]+Ge[t[e+5]]+"-"+Ge[t[e+6]]+Ge[t[e+7]]+"-"+Ge[t[e+8]]+Ge[t[e+9]]+"-"+Ge[t[e+10]]+Ge[t[e+11]]+Ge[t[e+12]]+Ge[t[e+13]]+Ge[t[e+14]]+Ge[t[e+15]]}const Gv=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Vd={randomUUID:Gv};function Vs(t,e,n){if(Vd.randomUUID&&!e&&!t)return Vd.randomUUID();t=t||{};const r=t.random||(t.rng||Iv)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return Uv(r)}function jv(t,e){return t.start>e.start?1:e.start>t.start?-1:0}function zv(t,e){return t.start===e.start&&t.end===e.end&&t.content===e.content}function Vv(t){return t.map((e,n)=>`${n+1}
${hr(e.start,"complete")} --> ${hr(e.end,"complete")}
${e.content}`).join(`

`)}function $v(t){return Array.from(t.matchAll(/\d+\n([\d,:]{12}) --> ([\d,:]{12})\n(.+?)(?=\d+\n[\d,:]{12}|$)/gs)).map(n=>({start:Ku(n[1]),end:Ku(n[2]),content:n[3].trim(),hash:Vs()}))}function Bv(){return Object.fromEntries(new URLSearchParams(window.location.search).entries())}class Hv extends Ne.Component{constructor(e){super(e),this.state={subtitleUrl:"",videoUrl:"",canPass:!1,subtitleFname:"",videoFname:""},this.handler=this.handler.bind(this),this.loadCaptions=this.loadCaptions.bind(this),this.loadVideo=this.loadVideo.bind(this),this.checkValidation=this.checkValidation.bind(this)}componentDidMount(){let e=Bv(),n=e.subtitle??"",r=e.video??"";this.loadVideo(r,r),this.loadCaptions(n,n)}async loadCaptions(e,n){if(e==="")return;const r=await fetch(e),i=await r.text();zs.subtitles.setData($v(i)),this.setState({subtitleUrl:e,subtitleFname:n})}loadVideo(e,n){zs.videoUrl.setData(e),this.setState({videoUrl:e,videoFname:n})}handler(e,n){const r=URL.createObjectURL(e);n==="video"?this.loadVideo(r,e.name):this.loadCaptions(r,e.name)}checkValidation(){this.state.videoUrl?this.setState({canPass:!0}):rp({kind:"danger",message:"select a video first",duration:5e3})}render(){return this.state.canPass?T.jsx(Cv,{to:"/studio"}):T.jsxs(T.Fragment,{children:[T.jsx("h2",{className:"page-title",children:" Intro "}),T.jsxs("div",{className:"wrapper",children:[T.jsxs("div",{className:"alert alert-secondary",children:["consider",T.jsx(Dv,{to:"/help",children:" help page "}),"for learning app features & shortcuts"]}),T.jsxs("div",{children:[T.jsx("span",{children:" video file: "}),T.jsx(jd,{onChange:e=>this.handler(e,"video"),filename:this.state.videoFname})]}),T.jsxs("div",{className:"alert alert-info",children:["you can check supported video formats",T.jsx("a",{href:"https://en.wikipedia.org/wiki/HTML5_video",target:"blank",children:" here "})]}),T.jsxs("div",{className:"mt-3",children:[T.jsx("span",{children:" subtitle file: "}),T.jsx(jd,{onChange:e=>this.handler(e,"subtitle"),filename:this.state.subtitleFname})]}),T.jsx("div",{className:"alert alert-warning",children:"if you don't select a subtitle file, we make new one"}),T.jsx("div",{className:"center",children:T.jsx("button",{className:"btn btn-success font-weight-bold",onClick:this.checkValidation,children:"go to studio!"})})]}),T.jsx("footer",{className:"p-2 w-100 d-flex justify-content-center",children:T.jsxs("a",{href:"https://github.com/hamidb80/subtitle-editor/",target:"blank",className:"d-flex align-items-center",children:[T.jsx("span",{className:"fab fa-github github-logo"}),T.jsx("span",{className:"pb-1 mx-2",children:" project link on github "})]})})]})}}var ho={exports:{}},ip={},ap={exports:{}},Wv="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Kv=Wv,Xv=Kv;function sp(){}function op(){}op.resetWarningCache=sp;var Yv=function(){function t(r,i,a,s,o,l){if(l!==Xv){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:op,resetWarningCache:sp};return n.PropTypes=n,n};ap.exports=Yv();var lp=ap.exports;function up(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=up(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function $d(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=up(t))&&(r&&(r+=" "),r+=e);return r}const Qv=Object.freeze(Object.defineProperty({__proto__:null,clsx:$d,default:$d},Symbol.toStringTag,{value:"Module"})),qv=og(Qv);var ke={},Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.dontSetMe=n3;Wt.findInArray=Jv;Wt.int=t3;Wt.isFunction=Zv;Wt.isNum=e3;function Jv(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function Zv(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function e3(t){return typeof t=="number"&&!isNaN(t)}function t3(t){return parseInt(t,10)}function n3(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.browserPrefixToKey=hp;gr.browserPrefixToStyle=r3;gr.default=void 0;gr.getPrefix=cp;const Al=["Moz","Webkit","O","ms"];function cp(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<Al.length;r++)if(hp(e,Al[r])in n)return Al[r];return""}function hp(t,e){return e?"".concat(e).concat(i3(t)):t}function r3(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function i3(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}gr.default=cp();Object.defineProperty(ke,"__esModule",{value:!0});ke.addClassName=pp;ke.addEvent=o3;ke.addUserSelectStyles=y3;ke.createCSSTransform=p3;ke.createSVGTransform=g3;ke.getTouch=m3;ke.getTouchIdentifier=v3;ke.getTranslation=rh;ke.innerHeight=h3;ke.innerWidth=d3;ke.matchesSelector=fp;ke.matchesSelectorAndParentsTo=s3;ke.offsetXYFromParent=f3;ke.outerHeight=u3;ke.outerWidth=c3;ke.removeClassName=gp;ke.removeEvent=l3;ke.removeUserSelectStyles=_3;var pt=Wt,Bd=a3(gr);function dp(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(dp=function(r){return r?n:e})(t)}function a3(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=dp(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}let Ba="";function fp(t,e){return Ba||(Ba=(0,pt.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,pt.isFunction)(t[n])})),(0,pt.isFunction)(t[Ba])?t[Ba](e):!1}function s3(t,e,n){let r=t;do{if(fp(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function o3(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function l3(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function u3(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,pt.int)(n.borderTopWidth),e+=(0,pt.int)(n.borderBottomWidth),e}function c3(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,pt.int)(n.borderLeftWidth),e+=(0,pt.int)(n.borderRightWidth),e}function h3(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,pt.int)(n.paddingTop),e-=(0,pt.int)(n.paddingBottom),e}function d3(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,pt.int)(n.paddingLeft),e-=(0,pt.int)(n.paddingRight),e}function f3(t,e,n){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),a=(t.clientX+e.scrollLeft-i.left)/n,s=(t.clientY+e.scrollTop-i.top)/n;return{x:a,y:s}}function p3(t,e){const n=rh(t,e,"px");return{[(0,Bd.browserPrefixToKey)("transform",Bd.default)]:n}}function g3(t,e){return rh(t,e,"")}function rh(t,e,n){let{x:r,y:i}=t,a="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(e){const s="".concat(typeof e.x=="string"?e.x:e.x+n),o="".concat(typeof e.y=="string"?e.y:e.y+n);a="translate(".concat(s,", ").concat(o,")")+a}return a}function m3(t,e){return t.targetTouches&&(0,pt.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,pt.findInArray)(t.changedTouches,n=>e===n.identifier)}function v3(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function y3(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&pp(t.body,"react-draggable-transparent-selection")}function _3(t){if(t)try{if(t.body&&gp(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function pp(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function gp(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.canDragX=w3;Kt.canDragY=x3;Kt.createCoreData=E3;Kt.createDraggableData=P3;Kt.getBoundPosition=S3;Kt.getControlPosition=k3;Kt.snapToGrid=C3;var ut=Wt,Vr=ke;function S3(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:T3(r);const i=ih(t);if(typeof r=="string"){const{ownerDocument:a}=i,s=a.defaultView;let o;if(r==="parent"?o=i.parentNode:o=a.querySelector(r),!(o instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=o,u=s.getComputedStyle(i),h=s.getComputedStyle(l);r={left:-i.offsetLeft+(0,ut.int)(h.paddingLeft)+(0,ut.int)(u.marginLeft),top:-i.offsetTop+(0,ut.int)(h.paddingTop)+(0,ut.int)(u.marginTop),right:(0,Vr.innerWidth)(l)-(0,Vr.outerWidth)(i)-i.offsetLeft+(0,ut.int)(h.paddingRight)-(0,ut.int)(u.marginRight),bottom:(0,Vr.innerHeight)(l)-(0,Vr.outerHeight)(i)-i.offsetTop+(0,ut.int)(h.paddingBottom)-(0,ut.int)(u.marginBottom)}}return(0,ut.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,ut.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,ut.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,ut.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function C3(t,e,n){const r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]}function w3(t){return t.props.axis==="both"||t.props.axis==="x"}function x3(t){return t.props.axis==="both"||t.props.axis==="y"}function k3(t,e,n){const r=typeof e=="number"?(0,Vr.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const i=ih(n),a=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Vr.offsetXYFromParent)(r||t,a,n.props.scale)}function E3(t,e,n){const r=!(0,ut.isNum)(t.lastX),i=ih(t);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:i,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function P3(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function T3(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function ih(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var fo={},po={};Object.defineProperty(po,"__esModule",{value:!0});po.default=b3;function b3(){}Object.defineProperty(fo,"__esModule",{value:!0});fo.default=void 0;var Ll=R3(I),nt=ah(lp),N3=ah(qc),We=ke,yn=Kt,Il=Wt,Ei=ah(po);function ah(t){return t&&t.__esModule?t:{default:t}}function mp(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(mp=function(r){return r?n:e})(t)}function R3(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=mp(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}function Qe(t,e,n){return e=M3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M3(t){var e=O3(t,"string");return typeof e=="symbol"?e:String(e)}function O3(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Nt={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let _n=Nt.mouse,go=class extends Ll.Component{constructor(){super(...arguments),Qe(this,"dragging",!1),Qe(this,"lastX",NaN),Qe(this,"lastY",NaN),Qe(this,"touchIdentifier",null),Qe(this,"mounted",!1),Qe(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,We.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,We.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const i=(0,We.getTouchIdentifier)(e);this.touchIdentifier=i;const a=(0,yn.getControlPosition)(e,i,this);if(a==null)return;const{x:s,y:o}=a,l=(0,yn.createCoreData)(this,s,o);(0,Ei.default)("DraggableCore: handleDragStart: %j",l),(0,Ei.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,We.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=o,(0,We.addEvent)(r,_n.move,this.handleDrag),(0,We.addEvent)(r,_n.stop,this.handleDragStop))}),Qe(this,"handleDrag",e=>{const n=(0,yn.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let o=r-this.lastX,l=i-this.lastY;if([o,l]=(0,yn.snapToGrid)(this.props.grid,o,l),!o&&!l)return;r=this.lastX+o,i=this.lastY+l}const a=(0,yn.createCoreData)(this,r,i);if((0,Ei.default)("DraggableCore: handleDrag: %j",a),this.props.onDrag(e,a)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=i}),Qe(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,yn.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,u=i-this.lastY||0;[l,u]=(0,yn.snapToGrid)(this.props.grid,l,u),r=this.lastX+l,i=this.lastY+u}const a=(0,yn.createCoreData)(this,r,i);if(this.props.onStop(e,a)===!1||this.mounted===!1)return!1;const o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,We.removeUserSelectStyles)(o.ownerDocument),(0,Ei.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,Ei.default)("DraggableCore: Removing handlers"),(0,We.removeEvent)(o.ownerDocument,_n.move,this.handleDrag),(0,We.removeEvent)(o.ownerDocument,_n.stop,this.handleDragStop))}),Qe(this,"onMouseDown",e=>(_n=Nt.mouse,this.handleDragStart(e))),Qe(this,"onMouseUp",e=>(_n=Nt.mouse,this.handleDragStop(e))),Qe(this,"onTouchStart",e=>(_n=Nt.touch,this.handleDragStart(e))),Qe(this,"onTouchEnd",e=>(_n=Nt.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,We.addEvent)(e,Nt.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,We.removeEvent)(n,Nt.mouse.move,this.handleDrag),(0,We.removeEvent)(n,Nt.touch.move,this.handleDrag),(0,We.removeEvent)(n,Nt.mouse.stop,this.handleDragStop),(0,We.removeEvent)(n,Nt.touch.stop,this.handleDragStop),(0,We.removeEvent)(e,Nt.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,We.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:N3.default.findDOMNode(this)}render(){return Ll.cloneElement(Ll.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};fo.default=go;Qe(go,"displayName","DraggableCore");Qe(go,"propTypes",{allowAnyClick:nt.default.bool,children:nt.default.node.isRequired,disabled:nt.default.bool,enableUserSelectHack:nt.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:nt.default.arrayOf(nt.default.number),handle:nt.default.string,cancel:nt.default.string,nodeRef:nt.default.object,onStart:nt.default.func,onDrag:nt.default.func,onStop:nt.default.func,onMouseDown:nt.default.func,scale:nt.default.number,className:Il.dontSetMe,style:Il.dontSetMe,transform:Il.dontSetMe});Qe(go,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=p(I),n=h(lp),r=h(qc),i=h(qv),a=ke,s=Kt,o=Wt,l=h(fo),u=h(po);function h(f){return f&&f.__esModule?f:{default:f}}function v(f){if(typeof WeakMap!="function")return null;var c=new WeakMap,g=new WeakMap;return(v=function(S){return S?g:c})(f)}function p(f,c){if(!c&&f&&f.__esModule)return f;if(f===null||typeof f!="object"&&typeof f!="function")return{default:f};var g=v(c);if(g&&g.has(f))return g.get(f);var S={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in f)if(E!=="default"&&Object.prototype.hasOwnProperty.call(f,E)){var w=x?Object.getOwnPropertyDescriptor(f,E):null;w&&(w.get||w.set)?Object.defineProperty(S,E,w):S[E]=f[E]}return S.default=f,g&&g.set(f,S),S}function m(){return m=Object.assign?Object.assign.bind():function(f){for(var c=1;c<arguments.length;c++){var g=arguments[c];for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(f[S]=g[S])}return f},m.apply(this,arguments)}function d(f,c,g){return c=_(c),c in f?Object.defineProperty(f,c,{value:g,enumerable:!0,configurable:!0,writable:!0}):f[c]=g,f}function _(f){var c=C(f,"string");return typeof c=="symbol"?c:String(c)}function C(f,c){if(typeof f!="object"||f===null)return f;var g=f[Symbol.toPrimitive];if(g!==void 0){var S=g.call(f,c||"default");if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(f)}class y extends e.Component{static getDerivedStateFromProps(c,g){let{position:S}=c,{prevPropsPosition:x}=g;return S&&(!x||S.x!==x.x||S.y!==x.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:S,prevPropsPosition:x}),{x:S.x,y:S.y,prevPropsPosition:{...S}}):null}constructor(c){super(c),d(this,"onDragStart",(g,S)=>{if((0,u.default)("Draggable: onDragStart: %j",S),this.props.onStart(g,(0,s.createDraggableData)(this,S))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),d(this,"onDrag",(g,S)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",S);const x=(0,s.createDraggableData)(this,S),E={x:x.x,y:x.y,slackX:0,slackY:0};if(this.props.bounds){const{x:N,y:k}=E;E.x+=this.state.slackX,E.y+=this.state.slackY;const[b,A]=(0,s.getBoundPosition)(this,E.x,E.y);E.x=b,E.y=A,E.slackX=this.state.slackX+(N-E.x),E.slackY=this.state.slackY+(k-E.y),x.x=E.x,x.y=E.y,x.deltaX=E.x-this.state.x,x.deltaY=E.y-this.state.y}if(this.props.onDrag(g,x)===!1)return!1;this.setState(E)}),d(this,"onDragStop",(g,S)=>{if(!this.state.dragging||this.props.onStop(g,(0,s.createDraggableData)(this,S))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",S);const E={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:N,y:k}=this.props.position;E.x=N,E.y=k}this.setState(E)}),this.state={dragging:!1,dragged:!1,x:c.position?c.position.x:c.defaultPosition.x,y:c.position?c.position.y:c.defaultPosition.y,prevPropsPosition:{...c.position},slackX:0,slackY:0,isElementSVG:!1},c.position&&!(c.onDrag||c.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var c,g;return(c=(g=this.props)===null||g===void 0||(g=g.nodeRef)===null||g===void 0?void 0:g.current)!==null&&c!==void 0?c:r.default.findDOMNode(this)}render(){const{axis:c,bounds:g,children:S,defaultPosition:x,defaultClassName:E,defaultClassNameDragging:w,defaultClassNameDragged:N,position:k,positionOffset:b,scale:A,...F}=this.props;let V={},U=null;const K=!!!k||this.state.dragging,R=k||x,G={x:(0,s.canDragX)(this)&&K?this.state.x:R.x,y:(0,s.canDragY)(this)&&K?this.state.y:R.y};this.state.isElementSVG?U=(0,a.createSVGTransform)(G,b):V=(0,a.createCSSTransform)(G,b);const O=(0,i.default)(S.props.className||"",E,{[w]:this.state.dragging,[N]:this.state.dragged});return e.createElement(l.default,m({},F,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(S),{className:O,style:{...S.props.style,...V},transform:U}))}}t.default=y,d(y,"displayName","Draggable"),d(y,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),d(y,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(ip);const{default:vp,DraggableCore:D3}=ip;ho.exports=vp;ho.exports.default=vp;ho.exports.DraggableCore=D3;var F3=ho.exports;const ds=Ks(F3),Ul=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Gl(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent("on".concat(e),n)}function Pi(t,e,n,r){t.removeEventListener?t.removeEventListener(e,n,r):t.detachEvent&&t.detachEvent("on".concat(e),n)}function yp(t,e){const n=e.slice(0,e.length-1);for(let r=0;r<n.length;r++)n[r]=t[n[r].toLowerCase()];return n}function _p(t){typeof t!="string"&&(t=""),t=t.replace(/\s/g,"");const e=t.split(",");let n=e.lastIndexOf("");for(;n>=0;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}function A3(t,e){const n=t.length>=e.length?t:e,r=t.length>=e.length?e:t;let i=!0;for(let a=0;a<n.length;a++)r.indexOf(n[a])===-1&&(i=!1);return i}const ca={backspace:8,"⌫":8,tab:9,clear:12,enter:13,"↩":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":Ul?173:189,"=":Ul?61:187,";":Ul?59:186,"'":222,"[":219,"]":221,"\\":220},Ht={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},Xu={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},ze={16:!1,18:!1,17:!1,91:!1},ye={};for(let t=1;t<20;t++)ca["f".concat(t)]=111+t;let ue=[],Bi=null,Sp="all";const en=new Map,Sa=t=>ca[t.toLowerCase()]||Ht[t.toLowerCase()]||t.toUpperCase().charCodeAt(0),L3=t=>Object.keys(ca).find(e=>ca[e]===t),I3=t=>Object.keys(Ht).find(e=>Ht[e]===t);function Cp(t){Sp=t||"all"}function ha(){return Sp||"all"}function U3(){return ue.slice(0)}function G3(){return ue.map(t=>L3(t)||I3(t)||String.fromCharCode(t))}function j3(){const t=[];return Object.keys(ye).forEach(e=>{ye[e].forEach(n=>{let{key:r,scope:i,mods:a,shortcut:s}=n;t.push({scope:i,shortcut:s,mods:a,keys:r.split("+").map(o=>Sa(o))})})}),t}function z3(t){const e=t.target||t.srcElement,{tagName:n}=e;let r=!0;const i=n==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(e.type);return(e.isContentEditable||(i||n==="TEXTAREA"||n==="SELECT")&&!e.readOnly)&&(r=!1),r}function V3(t){return typeof t=="string"&&(t=Sa(t)),ue.indexOf(t)!==-1}function $3(t,e){let n,r;t||(t=ha());for(const i in ye)if(Object.prototype.hasOwnProperty.call(ye,i))for(n=ye[i],r=0;r<n.length;)n[r].scope===t?n.splice(r,1).forEach(s=>{let{element:o}=s;return sh(o)}):r++;ha()===t&&Cp(e||"all")}function B3(t){let e=t.keyCode||t.which||t.charCode;const n=ue.indexOf(e);if(n>=0&&ue.splice(n,1),t.key&&t.key.toLowerCase()==="meta"&&ue.splice(0,ue.length),(e===93||e===224)&&(e=91),e in ze){ze[e]=!1;for(const r in Ht)Ht[r]===e&&(q[r]=!1)}}function wp(t){if(typeof t>"u")Object.keys(ye).forEach(i=>{Array.isArray(ye[i])&&ye[i].forEach(a=>Ha(a)),delete ye[i]}),sh(null);else if(Array.isArray(t))t.forEach(i=>{i.key&&Ha(i)});else if(typeof t=="object")t.key&&Ha(t);else if(typeof t=="string"){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];let[i,a]=n;typeof i=="function"&&(a=i,i=""),Ha({key:t,scope:i,method:a,splitKey:"+"})}}const Ha=t=>{let{key:e,scope:n,method:r,splitKey:i="+"}=t;_p(e).forEach(s=>{const o=s.split(i),l=o.length,u=o[l-1],h=u==="*"?"*":Sa(u);if(!ye[h])return;n||(n=ha());const v=l>1?yp(Ht,o):[],p=[];ye[h]=ye[h].filter(m=>{const _=(r?m.method===r:!0)&&m.scope===n&&A3(m.mods,v);return _&&p.push(m.element),!_}),p.forEach(m=>sh(m))})};function Hd(t,e,n,r){if(e.element!==r)return;let i;if(e.scope===n||e.scope==="all"){i=e.mods.length>0;for(const a in ze)Object.prototype.hasOwnProperty.call(ze,a)&&(!ze[a]&&e.mods.indexOf(+a)>-1||ze[a]&&e.mods.indexOf(+a)===-1)&&(i=!1);(e.mods.length===0&&!ze[16]&&!ze[18]&&!ze[17]&&!ze[91]||i||e.shortcut==="*")&&(e.keys=[],e.keys=e.keys.concat(ue),e.method(t,e)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0)))}}function Wd(t,e){const n=ye["*"];let r=t.keyCode||t.which||t.charCode;if(!q.filter.call(this,t))return;if((r===93||r===224)&&(r=91),ue.indexOf(r)===-1&&r!==229&&ue.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(o=>{const l=Xu[o];t[o]&&ue.indexOf(l)===-1?ue.push(l):!t[o]&&ue.indexOf(l)>-1?ue.splice(ue.indexOf(l),1):o==="metaKey"&&t[o]&&ue.length===3&&(t.ctrlKey||t.shiftKey||t.altKey||(ue=ue.slice(ue.indexOf(l))))}),r in ze){ze[r]=!0;for(const o in Ht)Ht[o]===r&&(q[o]=!0);if(!n)return}for(const o in ze)Object.prototype.hasOwnProperty.call(ze,o)&&(ze[o]=t[Xu[o]]);t.getModifierState&&!(t.altKey&&!t.ctrlKey)&&t.getModifierState("AltGraph")&&(ue.indexOf(17)===-1&&ue.push(17),ue.indexOf(18)===-1&&ue.push(18),ze[17]=!0,ze[18]=!0);const i=ha();if(n)for(let o=0;o<n.length;o++)n[o].scope===i&&(t.type==="keydown"&&n[o].keydown||t.type==="keyup"&&n[o].keyup)&&Hd(t,n[o],i,e);if(!(r in ye))return;const a=ye[r],s=a.length;for(let o=0;o<s;o++)if((t.type==="keydown"&&a[o].keydown||t.type==="keyup"&&a[o].keyup)&&a[o].key){const l=a[o],{splitKey:u}=l,h=l.key.split(u),v=[];for(let p=0;p<h.length;p++)v.push(Sa(h[p]));v.sort().join("")===ue.sort().join("")&&Hd(t,l,i,e)}}function q(t,e,n){ue=[];const r=_p(t);let i=[],a="all",s=document,o=0,l=!1,u=!0,h="+",v=!1,p=!1;for(n===void 0&&typeof e=="function"&&(n=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(a=e.scope),e.element&&(s=e.element),e.keyup&&(l=e.keyup),e.keydown!==void 0&&(u=e.keydown),e.capture!==void 0&&(v=e.capture),typeof e.splitKey=="string"&&(h=e.splitKey),e.single===!0&&(p=!0)),typeof e=="string"&&(a=e),p&&wp(t,a);o<r.length;o++)t=r[o].split(h),i=[],t.length>1&&(i=yp(Ht,t)),t=t[t.length-1],t=t==="*"?"*":Sa(t),t in ye||(ye[t]=[]),ye[t].push({keyup:l,keydown:u,scope:a,mods:i,shortcut:r[o],method:n,key:r[o],splitKey:h,element:s});if(typeof s<"u"&&window){if(!en.has(s)){const m=function(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;return Wd(_,s)},d=function(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;Wd(_,s),B3(_)};en.set(s,{keydownListener:m,keyupListenr:d,capture:v}),Gl(s,"keydown",m,v),Gl(s,"keyup",d,v)}if(!Bi){const m=()=>{ue=[]};Bi={listener:m,capture:v},Gl(window,"focus",m,v)}}}function H3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(ye).forEach(n=>{ye[n].filter(i=>i.scope===e&&i.shortcut===t).forEach(i=>{i&&i.method&&i.method()})})}function sh(t){const e=Object.values(ye).flat();if(e.findIndex(r=>{let{element:i}=r;return i===t})<0){const{keydownListener:r,keyupListenr:i,capture:a}=en.get(t)||{};r&&i&&(Pi(t,"keyup",i,a),Pi(t,"keydown",r,a),en.delete(t))}if((e.length<=0||en.size<=0)&&(Object.keys(en).forEach(i=>{const{keydownListener:a,keyupListenr:s,capture:o}=en.get(i)||{};a&&s&&(Pi(i,"keyup",s,o),Pi(i,"keydown",a,o),en.delete(i))}),en.clear(),Object.keys(ye).forEach(i=>delete ye[i]),Bi)){const{listener:i,capture:a}=Bi;Pi(window,"focus",i,a),Bi=null}}const jl={getPressedKeyString:G3,setScope:Cp,getScope:ha,deleteScope:$3,getPressedKeyCodes:U3,getAllKeyCodes:j3,isPressed:V3,filter:z3,trigger:H3,unbind:wp,keyMap:ca,modifier:Ht,modifierMap:Xu};for(const t in jl)Object.prototype.hasOwnProperty.call(jl,t)&&(q[t]=jl[t]);if(typeof window<"u"){const t=window.hotkeys;q.noConflict=e=>(e&&window.hotkeys===q&&(window.hotkeys=t),q),window.hotkeys=q}const Kd=(t,e)=>t>e?1:-1,W3=50,Xd=5,Yd=.5,$r=.5,Qd=.1,zl=4,Wa=10,K3=30,X3=100,Y3=32e3;class Q3 extends Ne.Component{constructor(n){super(n);Tt(this,"inputRef");this.state={lastCaption:null,newCaption:null,is_ltr:!0},this.inputRef=Ne.createRef(),this.onCaptionContentChanged=this.onCaptionContentChanged.bind(this),this.onCaptionTimeRangeChanged=this.onCaptionTimeRangeChanged.bind(this),this.handleCaptionChange=this.handleCaptionChange.bind(this),this.isCapInTimeRange=this.isCapInTimeRange.bind(this),this.handleKeypress=this.handleKeypress.bind(this)}componentDidMount(){q("alt+left",()=>{this.onCaptionTimeRangeChanged(-$r,0)}),q("ctrl+8",n=>{n.preventDefault(),this.onCaptionTimeRangeChanged(null,0)}),q("ctrl+9",n=>{n.preventDefault(),this.onCaptionTimeRangeChanged(0,null)}),q("ctrl+0",n=>{n.preventDefault(),this.setState({is_ltr:!this.state.is_ltr})}),q("enter",n=>{this.onCaptionContentChanged(n),this.handleCaptionChange()}),q("alt+right",()=>{this.onCaptionTimeRangeChanged(+$r,0)}),q("tab+left",n=>{n.preventDefault(),this.onCaptionTimeRangeChanged(0,-$r)}),q("tab+right",n=>{n.preventDefault(),this.onCaptionTimeRangeChanged(0,+$r)})}componentDidUpdate(){var n;if(!this.props.caption&&this.state.lastCaption||this.props.caption&&this.props.caption.hash!==((n=this.state.lastCaption)==null?void 0:n.hash)){this.handleCaptionChange();const r=this.props.caption===null?null:{...this.props.caption};this.setState({lastCaption:r?{...r}:null,newCaption:r?{...r}:null})}}isCapInTimeRange(n){return n>=0&&n<=this.props.totalTime}onCaptionContentChanged(n){var i;const r=this.state.newCaption;r!==null&&this.setState({newCaption:{...r,content:((i=this.inputRef.current)==null?void 0:i.value)||""}})}onCaptionTimeRangeChanged(n=0,r=0){const i=this.state.newCaption;i!==null&&(n===null?i.start=this.props.currentTime+.001:this.isCapInTimeRange(i.start+n)&&(i.start+=n),r===null?i.end=this.props.currentTime:this.isCapInTimeRange(i.end+r)&&(i.end+=r),i.start>i.end&&(r===0?i.end=i.start:i.start=i.end),this.setState({newCaption:i},this.handleCaptionChange))}handleCaptionChange(){if(!(this.state.lastCaption===null||this.state.newCaption===null)&&!zv(this.state.lastCaption,this.state.newCaption)){const n={...this.state.newCaption,hash:Vs()};this.setState({lastCaption:{...n},newCaption:{...n}},()=>this.props.onCaptionChanged(this.props.captionIndex,n))}}handleKeypress(n){var r;n=="Escape"&&((r=this.inputRef.current)==null||r.blur())}render(){var r,i,a;const n=this.props.caption;return n?(r=this.inputRef.current)==null||r.focus():(i=this.inputRef.current)==null||i.blur(),T.jsxs("div",{className:"caption-editor-wrapper",children:[n?T.jsx(Ja,{time:n.start,onChange:s=>{this.onCaptionTimeRangeChanged(s,0)}}):T.jsx(Ja,{time:0}),T.jsxs("div",{children:[T.jsx(Je,{disabled:n===null,onClick:()=>this.setState(s=>({is_ltr:!s.is_ltr})),iconClassName:"fas fa-align-"+(this.state.is_ltr?"left":"right")}),T.jsx("input",{type:"text",ref:this.inputRef,disabled:n===null,className:"form-control caption-editor "+(this.state.is_ltr?"ltr":"rtl"),value:((a=this.state.newCaption)==null?void 0:a.content)||"",onChange:this.onCaptionContentChanged,onKeyDown:s=>this.handleKeypress(s.code),onBlur:this.handleCaptionChange})]}),n?T.jsx(Ja,{time:n.end,onChange:s=>{this.onCaptionTimeRangeChanged(0,s)}}):T.jsx(Ja,{time:0})]})}}class q3 extends Ne.Component{constructor(e){super(e),this.getCaptionContent=this.getCaptionContent.bind(this)}getCaptionContent(){const e=this.props.currentTime,n=this.props.captions.find(r=>e>=r.start&&e<=r.end);return n?n.content:""}render(){const e=this.getCaptionContent();return T.jsx("div",{className:"caption-group",children:e===""?"":T.jsx("div",{className:"caption",children:e})})}}class J3 extends Ne.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){const n=this.props.onSelectNewTime;if(n){const r=e.currentTarget,i=e.pageX,a=r.offsetLeft,s=r.clientWidth,o=this.props.totalTime,l=(i-a)/s*o;n(l)}}render(){if(this.props.totalTime===void 0)return"";const e=this.props.currentTime/this.props.totalTime*100,n=hr(this.props.currentTime,"minute"),r=hr(this.props.totalTime,"minute");return T.jsxs("div",{className:"timeline "+this.props.className,onClick:this.handleClick,children:[T.jsxs("div",{className:"progress",children:[T.jsx("div",{className:"progress-bar",style:{width:`${e}%`}}),T.jsx("div",{className:"cursor"})]}),T.jsx("div",{className:"time-text-wrapper",children:T.jsxs("div",{className:"time-text",children:[T.jsxs("span",{children:[" ",n," "]}),T.jsx("span",{children:" - "}),T.jsxs("span",{children:[" ",r," "]})]})})]})}}const Z3=2;class e5 extends Ne.Component{constructor(n){super(n);Tt(this,"videoElementRef");Tt(this,"timer",0);Tt(this,"state");this.state={lastStart:0,showVideoControll:!1},this.videoElementRef=Ne.createRef(),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onError=this.onError.bind(this),this.setPlay=this.setPlay.bind(this),this.isPlaying=this.isPlaying.bind(this),this.disableVideoControllers=this.disableVideoControllers.bind(this),this.onDurationChanges=this.onDurationChanges.bind(this)}onDurationChanges(){var n;if(this.props.onDurationChanges){const r=((n=this.videoElementRef.current)==null?void 0:n.duration)||0;this.props.onDurationChanges(r)}}onTimeUpdate(n){if(this.props.onTimeUpdate){const r=n.currentTarget.currentTime;this.props.onTimeUpdate(r)}}onMouseMove(n){this.timer&&clearTimeout(this.timer),this.setState({showVideoControll:!0}),this.timer=+setTimeout(this.disableVideoControllers,Z3*1e3)}onError(n){this.props.onError&&this.props.onError(n)}disableVideoControllers(){clearTimeout(this.timer),this.setState({showVideoControll:!1})}setTime(n){const r=this.videoElementRef.current;r&&(r.currentTime=n)}shootTime(n){const r=this.videoElementRef.current;if(r){const i=r.currentTime;this.setTime(i+n)}}setPlay(n){var r,i;this.videoElementRef.current&&(n?(r=this.videoElementRef.current)==null||r.play():(i=this.videoElementRef.current)==null||i.pause())}togglePlay(){this.setPlay(!this.isPlaying())}isPlaying(){return!!(this.videoElementRef.current&&!this.videoElementRef.current.paused)}render(){const n=this.isPlaying();return T.jsx("div",{className:"video-player "+(this.state.showVideoControll?"show ":""),onMouseMove:this.onMouseMove,onMouseOut:this.disableVideoControllers,children:T.jsxs("div",{className:"video-screen",onContextMenu:r=>r.preventDefault(),children:[T.jsx("video",{height:this.props.height,onTimeUpdate:this.onTimeUpdate,ref:this.videoElementRef,src:this.props.videoUrl,autoPlay:!1,loop:!1,onDurationChange:this.onDurationChanges,onError:r=>this.onError(r)}),T.jsxs("div",{className:"video-state-controller",children:[T.jsx("div",{className:"part"}),T.jsx("div",{className:"part action-btn-group",children:T.jsx("div",{className:"action-btn play-pause",onClick:()=>this.setPlay(!n),children:T.jsx("span",{className:"icon fas fa-3x "+(n?"fa-pause":"fa-play")})})}),T.jsx("div",{className:"part"})]})]})})}}var oh={exports:{}},mo={},xp={},Y={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof wh<"u"?wh:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.3",isBrowser:n(),isUnminified:/param/.test((function(i){}).toString()),dblClickWindow:400,getAngle(i){return t.Konva.angleDeg?i*e:i},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(i){t.glob.Konva=i}};const r=i=>{t.Konva[i.prototype.getClassName()]=i};t._registerNode=r,t.Konva._injectGlobal(t.Konva)})(Y);var Ce={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=Y;class n{constructor(g=[1,0,0,1,0,0]){this.dirty=!1,this.m=g&&g.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(g){g.m[0]=this.m[0],g.m[1]=this.m[1],g.m[2]=this.m[2],g.m[3]=this.m[3],g.m[4]=this.m[4],g.m[5]=this.m[5]}point(g){var S=this.m;return{x:S[0]*g.x+S[2]*g.y+S[4],y:S[1]*g.x+S[3]*g.y+S[5]}}translate(g,S){return this.m[4]+=this.m[0]*g+this.m[2]*S,this.m[5]+=this.m[1]*g+this.m[3]*S,this}scale(g,S){return this.m[0]*=g,this.m[1]*=g,this.m[2]*=S,this.m[3]*=S,this}rotate(g){var S=Math.cos(g),x=Math.sin(g),E=this.m[0]*S+this.m[2]*x,w=this.m[1]*S+this.m[3]*x,N=this.m[0]*-x+this.m[2]*S,k=this.m[1]*-x+this.m[3]*S;return this.m[0]=E,this.m[1]=w,this.m[2]=N,this.m[3]=k,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(g,S){var x=this.m[0]+this.m[2]*S,E=this.m[1]+this.m[3]*S,w=this.m[2]+this.m[0]*g,N=this.m[3]+this.m[1]*g;return this.m[0]=x,this.m[1]=E,this.m[2]=w,this.m[3]=N,this}multiply(g){var S=this.m[0]*g.m[0]+this.m[2]*g.m[1],x=this.m[1]*g.m[0]+this.m[3]*g.m[1],E=this.m[0]*g.m[2]+this.m[2]*g.m[3],w=this.m[1]*g.m[2]+this.m[3]*g.m[3],N=this.m[0]*g.m[4]+this.m[2]*g.m[5]+this.m[4],k=this.m[1]*g.m[4]+this.m[3]*g.m[5]+this.m[5];return this.m[0]=S,this.m[1]=x,this.m[2]=E,this.m[3]=w,this.m[4]=N,this.m[5]=k,this}invert(){var g=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),S=this.m[3]*g,x=-this.m[1]*g,E=-this.m[2]*g,w=this.m[0]*g,N=g*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),k=g*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=S,this.m[1]=x,this.m[2]=E,this.m[3]=w,this.m[4]=N,this.m[5]=k,this}getMatrix(){return this.m}decompose(){var g=this.m[0],S=this.m[1],x=this.m[2],E=this.m[3],w=this.m[4],N=this.m[5],k=g*E-S*x;let b={x:w,y:N,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(g!=0||S!=0){var A=Math.sqrt(g*g+S*S);b.rotation=S>0?Math.acos(g/A):-Math.acos(g/A),b.scaleX=A,b.scaleY=k/A,b.skewX=(g*x+S*E)/k,b.skewY=0}else if(x!=0||E!=0){var F=Math.sqrt(x*x+E*E);b.rotation=Math.PI/2-(E>0?Math.acos(-x/F):-Math.acos(x/F)),b.scaleX=k/F,b.scaleY=F,b.skewX=0,b.skewY=(g*x+S*E)/k}return b.rotation=t.Util._getRotation(b.rotation),b}}t.Transform=n;var r="[object Array]",i="[object Number]",a="[object String]",s="[object Boolean]",o=Math.PI/180,l=180/Math.PI,u="#",h="",v="0",p="Konva warning: ",m="Konva error: ",d="rgb(",_={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},C=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,y=[];const f=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(c){setTimeout(c,60)};t.Util={_isElement(c){return!!(c&&c.nodeType==1)},_isFunction(c){return!!(c&&c.constructor&&c.call&&c.apply)},_isPlainObject(c){return!!c&&c.constructor===Object},_isArray(c){return Object.prototype.toString.call(c)===r},_isNumber(c){return Object.prototype.toString.call(c)===i&&!isNaN(c)&&isFinite(c)},_isString(c){return Object.prototype.toString.call(c)===a},_isBoolean(c){return Object.prototype.toString.call(c)===s},isObject(c){return c instanceof Object},isValidSelector(c){if(typeof c!="string")return!1;var g=c[0];return g==="#"||g==="."||g===g.toUpperCase()},_sign(c){return c===0||c>0?1:-1},requestAnimFrame(c){y.push(c),y.length===1&&f(function(){const g=y;y=[],g.forEach(function(S){S()})})},createCanvasElement(){var c=document.createElement("canvas");try{c.style=c.style||{}}catch{}return c},createImageElement(){return document.createElement("img")},_isInDocument(c){for(;c=c.parentNode;)if(c==document)return!0;return!1},_urlToImage(c,g){var S=t.Util.createImageElement();S.onload=function(){g(S)},S.src=c},_rgbToHex(c,g,S){return((1<<24)+(c<<16)+(g<<8)+S).toString(16).slice(1)},_hexToRgb(c){c=c.replace(u,h);var g=parseInt(c,16);return{r:g>>16&255,g:g>>8&255,b:g&255}},getRandomColor(){for(var c=(Math.random()*16777215<<0).toString(16);c.length<6;)c=v+c;return u+c},getRGB(c){var g;return c in _?(g=_[c],{r:g[0],g:g[1],b:g[2]}):c[0]===u?this._hexToRgb(c.substring(1)):c.substr(0,4)===d?(g=C.exec(c.replace(/ /g,"")),{r:parseInt(g[1],10),g:parseInt(g[2],10),b:parseInt(g[3],10)}):{r:0,g:0,b:0}},colorToRGBA(c){return c=c||"black",t.Util._namedColorToRBA(c)||t.Util._hex3ColorToRGBA(c)||t.Util._hex4ColorToRGBA(c)||t.Util._hex6ColorToRGBA(c)||t.Util._hex8ColorToRGBA(c)||t.Util._rgbColorToRGBA(c)||t.Util._rgbaColorToRGBA(c)||t.Util._hslColorToRGBA(c)},_namedColorToRBA(c){var g=_[c.toLowerCase()];return g?{r:g[0],g:g[1],b:g[2],a:1}:null},_rgbColorToRGBA(c){if(c.indexOf("rgb(")===0){c=c.match(/rgb\(([^)]+)\)/)[1];var g=c.split(/ *, */).map(Number);return{r:g[0],g:g[1],b:g[2],a:1}}},_rgbaColorToRGBA(c){if(c.indexOf("rgba(")===0){c=c.match(/rgba\(([^)]+)\)/)[1];var g=c.split(/ *, */).map((S,x)=>S.slice(-1)==="%"?x===3?parseInt(S)/100:parseInt(S)/100*255:Number(S));return{r:g[0],g:g[1],b:g[2],a:g[3]}}},_hex8ColorToRGBA(c){if(c[0]==="#"&&c.length===9)return{r:parseInt(c.slice(1,3),16),g:parseInt(c.slice(3,5),16),b:parseInt(c.slice(5,7),16),a:parseInt(c.slice(7,9),16)/255}},_hex6ColorToRGBA(c){if(c[0]==="#"&&c.length===7)return{r:parseInt(c.slice(1,3),16),g:parseInt(c.slice(3,5),16),b:parseInt(c.slice(5,7),16),a:1}},_hex4ColorToRGBA(c){if(c[0]==="#"&&c.length===5)return{r:parseInt(c[1]+c[1],16),g:parseInt(c[2]+c[2],16),b:parseInt(c[3]+c[3],16),a:parseInt(c[4]+c[4],16)/255}},_hex3ColorToRGBA(c){if(c[0]==="#"&&c.length===4)return{r:parseInt(c[1]+c[1],16),g:parseInt(c[2]+c[2],16),b:parseInt(c[3]+c[3],16),a:1}},_hslColorToRGBA(c){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(c)){const[g,...S]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(c),x=Number(S[0])/360,E=Number(S[1])/100,w=Number(S[2])/100;let N,k,b;if(E===0)return b=w*255,{r:Math.round(b),g:Math.round(b),b:Math.round(b),a:1};w<.5?N=w*(1+E):N=w+E-w*E;const A=2*w-N,F=[0,0,0];for(let V=0;V<3;V++)k=x+1/3*-(V-1),k<0&&k++,k>1&&k--,6*k<1?b=A+(N-A)*6*k:2*k<1?b=N:3*k<2?b=A+(N-A)*(2/3-k)*6:b=A,F[V]=b*255;return{r:Math.round(F[0]),g:Math.round(F[1]),b:Math.round(F[2]),a:1}}},haveIntersection(c,g){return!(g.x>c.x+c.width||g.x+g.width<c.x||g.y>c.y+c.height||g.y+g.height<c.y)},cloneObject(c){var g={};for(var S in c)this._isPlainObject(c[S])?g[S]=this.cloneObject(c[S]):this._isArray(c[S])?g[S]=this.cloneArray(c[S]):g[S]=c[S];return g},cloneArray(c){return c.slice(0)},degToRad(c){return c*o},radToDeg(c){return c*l},_degToRad(c){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(c)},_radToDeg(c){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(c)},_getRotation(c){return e.Konva.angleDeg?t.Util.radToDeg(c):c},_capitalize(c){return c.charAt(0).toUpperCase()+c.slice(1)},throw(c){throw new Error(m+c)},error(c){console.error(m+c)},warn(c){e.Konva.showWarnings&&console.warn(p+c)},each(c,g){for(var S in c)g(S,c[S])},_inRange(c,g,S){return g<=c&&c<S},_getProjectionToSegment(c,g,S,x,E,w){var N,k,b,A=(c-S)*(c-S)+(g-x)*(g-x);if(A==0)N=c,k=g,b=(E-S)*(E-S)+(w-x)*(w-x);else{var F=((E-c)*(S-c)+(w-g)*(x-g))/A;F<0?(N=c,k=g,b=(c-E)*(c-E)+(g-w)*(g-w)):F>1?(N=S,k=x,b=(S-E)*(S-E)+(x-w)*(x-w)):(N=c+F*(S-c),k=g+F*(x-g),b=(N-E)*(N-E)+(k-w)*(k-w))}return[N,k,b]},_getProjectionToLine(c,g,S){var x=t.Util.cloneObject(c),E=Number.MAX_VALUE;return g.forEach(function(w,N){if(!(!S&&N===g.length-1)){var k=g[(N+1)%g.length],b=t.Util._getProjectionToSegment(w.x,w.y,k.x,k.y,c.x,c.y),A=b[0],F=b[1],V=b[2];V<E&&(x.x=A,x.y=F,E=V)}}),x},_prepareArrayForTween(c,g,S){var x,E=[],w=[];if(c.length>g.length){var N=g;g=c,c=N}for(x=0;x<c.length;x+=2)E.push({x:c[x],y:c[x+1]});for(x=0;x<g.length;x+=2)w.push({x:g[x],y:g[x+1]});var k=[];return w.forEach(function(b){var A=t.Util._getProjectionToLine(b,E,S);k.push(A.x),k.push(A.y)}),k},_prepareToStringify(c){var g;c.visitedByCircularReferenceRemoval=!0;for(var S in c)if(c.hasOwnProperty(S)&&c[S]&&typeof c[S]=="object"){if(g=Object.getOwnPropertyDescriptor(c,S),c[S].visitedByCircularReferenceRemoval||t.Util._isElement(c[S]))if(g.configurable)delete c[S];else return null;else if(t.Util._prepareToStringify(c[S])===null)if(g.configurable)delete c[S];else return null}return delete c.visitedByCircularReferenceRemoval,c},_assign(c,g){for(var S in g)c[S]=g[S];return c},_getFirstPointerId(c){return c.touches?c.changedTouches[0].identifier:c.pointerId||999},releaseCanvas(...c){e.Konva.releaseCanvasOnDestroy&&c.forEach(g=>{g.width=0,g.height=0})},drawRoundedRectPath(c,g,S,x){let E=0,w=0,N=0,k=0;typeof x=="number"?E=w=N=k=Math.min(x,g/2,S/2):(E=Math.min(x[0]||0,g/2,S/2),w=Math.min(x[1]||0,g/2,S/2),k=Math.min(x[2]||0,g/2,S/2),N=Math.min(x[3]||0,g/2,S/2)),c.moveTo(E,0),c.lineTo(g-w,0),c.arc(g-w,w,w,Math.PI*3/2,0,!1),c.lineTo(g,S-k),c.arc(g-k,S-k,k,0,Math.PI/2,!1),c.lineTo(N,S),c.arc(N,S-N,N,Math.PI/2,Math.PI,!1),c.lineTo(0,E),c.arc(E,E,E,Math.PI,Math.PI*3/2,!1)}}})(Ce);var me={},X={},z={};Object.defineProperty(z,"__esModule",{value:!0});z.getComponentValidator=z.getBooleanValidator=z.getNumberArrayValidator=z.getFunctionValidator=z.getStringOrGradientValidator=z.getStringValidator=z.getNumberOrAutoValidator=z.getNumberOrArrayOfNumbersValidator=z.getNumberValidator=z.alphaComponent=z.RGBComponent=void 0;const dn=Y,xe=Ce;function fn(t){return xe.Util._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||xe.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function t5(t){return t>255?255:t<0?0:Math.round(t)}z.RGBComponent=t5;function n5(t){return t>1?1:t<1e-4?1e-4:t}z.alphaComponent=n5;function r5(){if(dn.Konva.isUnminified)return function(t,e){return xe.Util._isNumber(t)||xe.Util.warn(fn(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}z.getNumberValidator=r5;function i5(t){if(dn.Konva.isUnminified)return function(e,n){let r=xe.Util._isNumber(e),i=xe.Util._isArray(e)&&e.length==t;return!r&&!i&&xe.Util.warn(fn(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}z.getNumberOrArrayOfNumbersValidator=i5;function a5(){if(dn.Konva.isUnminified)return function(t,e){var n=xe.Util._isNumber(t),r=t==="auto";return n||r||xe.Util.warn(fn(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}z.getNumberOrAutoValidator=a5;function s5(){if(dn.Konva.isUnminified)return function(t,e){return xe.Util._isString(t)||xe.Util.warn(fn(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}z.getStringValidator=s5;function o5(){if(dn.Konva.isUnminified)return function(t,e){const n=xe.Util._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||xe.Util.warn(fn(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}z.getStringOrGradientValidator=o5;function l5(){if(dn.Konva.isUnminified)return function(t,e){return xe.Util._isFunction(t)||xe.Util.warn(fn(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}}z.getFunctionValidator=l5;function u5(){if(dn.Konva.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(xe.Util._isArray(t)?t.forEach(function(r){xe.Util._isNumber(r)||xe.Util.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):xe.Util.warn(fn(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}z.getNumberArrayValidator=u5;function c5(){if(dn.Konva.isUnminified)return function(t,e){var n=t===!0||t===!1;return n||xe.Util.warn(fn(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}z.getBooleanValidator=c5;function h5(t){if(dn.Konva.isUnminified)return function(e,n){return e==null||xe.Util.isObject(e)||xe.Util.warn(fn(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}z.getComponentValidator=h5;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=Ce,n=z;var r="get",i="set";t.Factory={addGetterSetter(a,s,o,l,u){t.Factory.addGetter(a,s,o),t.Factory.addSetter(a,s,l,u),t.Factory.addOverloadedGetterSetter(a,s)},addGetter(a,s,o){var l=r+e.Util._capitalize(s);a.prototype[l]=a.prototype[l]||function(){var u=this.attrs[s];return u===void 0?o:u}},addSetter(a,s,o,l){var u=i+e.Util._capitalize(s);a.prototype[u]||t.Factory.overWriteSetter(a,s,o,l)},overWriteSetter(a,s,o,l){var u=i+e.Util._capitalize(s);a.prototype[u]=function(h){return o&&h!==void 0&&h!==null&&(h=o.call(this,h,s)),this._setAttr(s,h),l&&l.call(this),this}},addComponentsGetterSetter(a,s,o,l,u){var h=o.length,v=e.Util._capitalize,p=r+v(s),m=i+v(s),d,_;a.prototype[p]=function(){var y={};for(d=0;d<h;d++)_=o[d],y[_]=this.getAttr(s+v(_));return y};var C=(0,n.getComponentValidator)(o);a.prototype[m]=function(y){var f=this.attrs[s],c;l&&(y=l.call(this,y)),C&&C.call(this,y,s);for(c in y)y.hasOwnProperty(c)&&this._setAttr(s+v(c),y[c]);return y||o.forEach(g=>{this._setAttr(s+v(g),void 0)}),this._fireChangeEvent(s,f,y),u&&u.call(this),this},t.Factory.addOverloadedGetterSetter(a,s)},addOverloadedGetterSetter(a,s){var o=e.Util._capitalize(s),l=i+o,u=r+o;a.prototype[s]=function(){return arguments.length?(this[l](arguments[0]),this):this[u]()}},addDeprecatedGetterSetter(a,s,o,l){e.Util.error("Adding deprecated "+s);var u=r+e.Util._capitalize(s),h=s+" property is deprecated and will be removed soon. Look at Konva change log for more information.";a.prototype[u]=function(){e.Util.error(h);var v=this.attrs[s];return v===void 0?o:v},t.Factory.addSetter(a,s,l,function(){e.Util.error(h)}),t.Factory.addOverloadedGetterSetter(a,s)},backCompat(a,s){e.Util.each(s,function(o,l){var u=a.prototype[l],h=r+e.Util._capitalize(o),v=i+e.Util._capitalize(o);function p(){u.apply(this,arguments),e.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}a.prototype[o]=p,a.prototype[h]=p,a.prototype[v]=p})},afterSetFilter(){this._filterUpToDate=!1}}})(X);var Lt={},sn={};Object.defineProperty(sn,"__esModule",{value:!0});sn.HitContext=sn.SceneContext=sn.Context=void 0;const kp=Ce,d5=Y;function f5(t){var e=[],n=t.length,r=kp.Util,i,a;for(i=0;i<n;i++)a=t[i],r._isNumber(a)?a=Math.round(a*1e3)/1e3:r._isString(a)||(a=a+""),e.push(a);return e}var qd=",",p5="(",g5=")",m5="([",v5="])",y5=";",_5="()",S5="=",Jd=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],C5=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const w5=100;class vo{constructor(e){this.canvas=e,d5.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){var r=this.traceArr,i=r.length,a="",s,o,l,u;for(s=0;s<i;s++)o=r[s],l=o.method,l?(u=o.args,a+=l,e?a+=_5:kp.Util._isArray(u[0])?a+=m5+u.join(qd)+v5:(n&&(u=u.map(h=>typeof h=="number"?Math.floor(h):h)),a+=p5+u.join(qd)+g5)):(a+=o.property,e||(a+=S5+o.val)),a+=y5;return a}clearTrace(){this.traceArr=[]}_trace(e){var n=this.traceArr,r;n.push(e),r=n.length,r>=w5&&n.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){var n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,i,a,s){this._context.arc(e,n,r,i,a,s)}arcTo(e,n,r,i,a){this._context.arcTo(e,n,r,i,a)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,i,a,s){this._context.bezierCurveTo(e,n,r,i,a,s)}clearRect(e,n,r,i){this._context.clearRect(e,n,r,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){var r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,i){return this._context.createLinearGradient(e,n,r,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,i,a,s){return this._context.createRadialGradient(e,n,r,i,a,s)}drawImage(e,n,r,i,a,s,o,l,u){var h=arguments,v=this._context;h.length===3?v.drawImage(e,n,r):h.length===5?v.drawImage(e,n,r,i,a):h.length===9&&v.drawImage(e,n,r,i,a,s,o,l,u)}ellipse(e,n,r,i,a,s,o,l){this._context.ellipse(e,n,r,i,a,s,o,l)}isPointInPath(e,n,r,i){return r?this._context.isPointInPath(r,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,i){this._context.fillRect(e,n,r,i)}strokeRect(e,n,r,i){this._context.strokeRect(e,n,r,i)}fillText(e,n,r,i){i?this._context.fillText(e,n,r,i):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,i){return this._context.getImageData(e,n,r,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,i){this._context.rect(e,n,r,i)}roundRect(e,n,r,i,a){this._context.roundRect(e,n,r,i,a)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,i){this._context.quadraticCurveTo(e,n,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,i,a,s){this._context.setTransform(e,n,r,i,a,s)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,i){this._context.strokeText(e,n,r,i)}transform(e,n,r,i,a,s){this._context.transform(e,n,r,i,a,s)}translate(e,n){this._context.translate(e,n)}_enableTrace(){var e=this,n=Jd.length,r=this.setAttr,i,a,s=function(o){var l=e[o],u;e[o]=function(){return a=f5(Array.prototype.slice.call(arguments,0)),u=l.apply(e,arguments),e._trace({method:o,args:a}),u}};for(i=0;i<n;i++)s(Jd[i]);e.setAttr=function(){r.apply(e,arguments);var o=arguments[0],l=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:o,val:l})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;var r=!n||n==="source-over";r||this.setAttr("globalCompositeOperation",n)}}sn.Context=vo;C5.forEach(function(t){Object.defineProperty(vo.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class x5 extends vo{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){var n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}const a=e.getFillLinearGradientColorStops();if(a&&r==="linear-gradient"){this._fillLinearGradient(e);return}const s=e.getFillRadialGradientColorStops();if(s&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):a?this._fillLinearGradient(e):s&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),a=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(var s=0;s<i.length;s+=2)a.addColorStop(i[s],i[s+1]);this.setAttr("strokeStyle",a)}}_stroke(e){var n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var a=e.getStrokeLinearGradientColorStops();a?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,i,a=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",s=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,o=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),u=this.canvas.getPixelRatio(),h=l.x*u,v=l.y*u;this.setAttr("shadowColor",a),this.setAttr("shadowBlur",s*Math.min(Math.abs(h),Math.abs(v))),this.setAttr("shadowOffsetX",o.x*h),this.setAttr("shadowOffsetY",o.y*v)}}sn.SceneContext=x5;class k5 extends vo{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const a=e.getStrokeScaleEnabled();if(!a){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(e);var r=e.hitStrokeWidth(),i=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),a||this.restore()}}}sn.HitContext=k5;Object.defineProperty(Lt,"__esModule",{value:!0});Lt.HitCanvas=Lt.SceneCanvas=Lt.Canvas=void 0;const $s=Ce,Ep=sn,Pp=Y,E5=X,P5=z;var Ka;function T5(){if(Ka)return Ka;var t=$s.Util.createCanvasElement(),e=t.getContext("2d");return Ka=function(){var n=Pp.Konva._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r}(),$s.Util.releaseCanvas(t),Ka}class yo{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var n=e||{},r=n.pixelRatio||Pp.Konva.pixelRatio||T5();this.pixelRatio=r,this._canvas=$s.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var n=this.pixelRatio,r=this.getContext()._context;r.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var n=this.pixelRatio,r=this.getContext()._context;r.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return $s.Util.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Lt.Canvas=yo;E5.Factory.addGetterSetter(yo,"pixelRatio",void 0,(0,P5.getNumberValidator)());class b5 extends yo{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new Ep.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}Lt.SceneCanvas=b5;class N5 extends yo{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new Ep.HitContext(this),this.setSize(e.width,e.height)}}Lt.HitCanvas=N5;var _o={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=Y,n=Ce;t.DD={get isDragging(){var r=!1;return t.DD._dragElements.forEach(i=>{i.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){var r;return t.DD._dragElements.forEach(i=>{r=i.node}),r},_dragElements:new Map,_drag(r){const i=[];t.DD._dragElements.forEach((a,s)=>{const{node:o}=a,l=o.getStage();l.setPointersPositions(r),a.pointerId===void 0&&(a.pointerId=n.Util._getFirstPointerId(r));const u=l._changedPointerPositions.find(p=>p.id===a.pointerId);if(u){if(a.dragStatus!=="dragging"){var h=o.dragDistance(),v=Math.max(Math.abs(u.x-a.startPointerPos.x),Math.abs(u.y-a.startPointerPos.y));if(v<h||(o.startDrag({evt:r}),!o.isDragging()))return}o._setDragPosition(r,a),i.push(o)}}),i.forEach(a=>{a.fire("dragmove",{type:"dragmove",target:a,evt:r},!0)})},_endDragBefore(r){const i=[];t.DD._dragElements.forEach(a=>{const{node:s}=a,o=s.getStage();if(r&&o.setPointersPositions(r),!o._changedPointerPositions.find(h=>h.id===a.pointerId))return;(a.dragStatus==="dragging"||a.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,a.dragStatus="stopped");const u=a.node.getLayer()||a.node instanceof e.Konva.Stage&&a.node;u&&i.indexOf(u)===-1&&i.push(u)}),i.forEach(a=>{a.draw()})},_endDragAfter(r){t.DD._dragElements.forEach((i,a)=>{i.dragStatus==="stopped"&&i.node.fire("dragend",{type:"dragend",target:i.node,evt:r},!0),i.dragStatus!=="dragging"&&t.DD._dragElements.delete(a)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1))})(_o);Object.defineProperty(me,"__esModule",{value:!0});me.Node=void 0;const Q=Ce,Ca=X,Ti=Lt,qn=Y,_t=_o,Re=z;var fs="absoluteOpacity",Xa="allEventListeners",Jt="absoluteTransform",Zd="absoluteScale",Jn="canvas",R5="Change",M5="children",O5="konva",Yu="listening",ef="mouseenter",tf="mouseleave",nf="set",rf="Shape",ps=" ",af="stage",Cn="transform",D5="Stage",Qu="visible",F5=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(ps);let A5=1;class H{constructor(e){this._id=A5++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Cn||e===Jt)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){var r=this._cache.get(e),i=e===Cn||e===Jt,a=r===void 0||i&&r.dirty===!0;return a&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const i=n.map(a=>a+"Change.konva").join(ps);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Jn)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Jt&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Jn)){const{scene:e,filter:n,hit:r}=this._cache.get(Jn);Q.Util.releaseCanvas(e,n,r),this._cache.delete(Jn)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var n=e||{},r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var i=Math.ceil(n.width||r.width),a=Math.ceil(n.height||r.height),s=n.pixelRatio,o=n.x===void 0?Math.floor(r.x):n.x,l=n.y===void 0?Math.floor(r.y):n.y,u=n.offset||0,h=n.drawBorder||!1,v=n.hitCanvasPixelRatio||1;if(!i||!a){Q.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const p=Math.abs(Math.round(r.x)-o)>.5?1:0,m=Math.abs(Math.round(r.y)-l)>.5?1:0;i+=u*2+p,a+=u*2+m,o-=u,l-=u;var d=new Ti.SceneCanvas({pixelRatio:s,width:i,height:a}),_=new Ti.SceneCanvas({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),C=new Ti.HitCanvas({pixelRatio:v,width:i,height:a}),y=d.getContext(),f=C.getContext();return C.isCache=!0,d.isCache=!0,this._cache.delete(Jn),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(d.getContext()._context.imageSmoothingEnabled=!1,_.getContext()._context.imageSmoothingEnabled=!1),y.save(),f.save(),y.translate(-o,-l),f.translate(-o,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(fs),this._clearSelfAndDescendantCache(Zd),this.drawScene(d,this),this.drawHit(C,this),this._isUnderCache=!1,y.restore(),f.restore(),h&&(y.save(),y.beginPath(),y.rect(0,0,i,a),y.closePath(),y.setAttr("strokeStyle","red"),y.setAttr("lineWidth",5),y.stroke(),y.restore()),this._cache.set(Jn,{scene:d,filter:_,hit:C,x:o,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Jn)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){var r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],i=1/0,a=1/0,s=-1/0,o=-1/0,l=this.getAbsoluteTransform(n);return r.forEach(function(u){var h=l.point(u);i===void 0&&(i=s=h.x,a=o=h.y),i=Math.min(i,h.x),a=Math.min(a,h.y),s=Math.max(s,h.x),o=Math.max(o,h.y)}),{x:i,y:a,width:s-i,height:o-a}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);var r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){var n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,a=i.getContext(),s,o,l,u;if(e){if(!this._filterUpToDate){var h=r.pixelRatio;i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(s=e.length,a.clear(),a.drawImage(r._canvas,0,0,r.getWidth()/h,r.getHeight()/h),o=a.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<s;l++){if(u=e[l],typeof u!="function"){Q.Util.error("Filter should be type of function, but got "+typeof u+" instead. Please check correct filters");continue}u.call(this,o),a.putImageData(o,0,0)}}catch(v){Q.Util.error("Unable to apply filter. "+v.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return r}on(e,n){if(this._cache&&this._cache.delete(Xa),arguments.length===3)return this._delegate.apply(this,arguments);var r=e.split(ps),i=r.length,a,s,o,l,u;for(a=0;a<i;a++)s=r[a],o=s.split("."),l=o[0],u=o[1]||"",this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:u,handler:n});return this}off(e,n){var r=(e||"").split(ps),i=r.length,a,s,o,l,u,h;if(this._cache&&this._cache.delete(Xa),!e)for(s in this.eventListeners)this._off(s);for(a=0;a<i;a++)if(o=r[a],l=o.split("."),u=l[0],h=l[1],u)this.eventListeners[u]&&this._off(u,h,n);else for(s in this.eventListeners)this._off(s,h,n);return this}dispatchEvent(e){var n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){var i=this;this.on(e,function(a){for(var s=a.target.findAncestors(n,!0,i),o=0;o<s.length;o++)a=Q.Util.cloneObject(a),a.currentTarget=s[o],r.call(s[o],a)})}remove(){return this.isDragging()&&this.stopDrag(),_t.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Jt),this._clearSelfAndDescendantCache(fs),this._clearSelfAndDescendantCache(Zd),this._clearSelfAndDescendantCache(af),this._clearSelfAndDescendantCache(Qu),this._clearSelfAndDescendantCache(Yu)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){var n="get"+Q.Util._capitalize(e);return Q.Util._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),n=[];e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var n,r;if(!e)return this;for(n in e)n!==M5&&(r=nf+Q.Util._capitalize(n),Q.Util._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(Yu,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(Qu,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);var r=this.getLayer(),i=!1;_t.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===r)&&(i=!0)});var a=!n&&!qn.Konva.hitOnDragEnabled&&i;return this.isListening()&&this.isVisible()&&!a}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e=this.getDepth(),n=this,r=0,i,a,s,o;function l(h){for(i=[],a=h.length,s=0;s<a;s++)o=h[s],r++,o.nodeType!==rf&&(i=i.concat(o.getChildren().slice())),o._id===n._id&&(s=a);i.length>0&&i[0].getDepth()<=e&&l(i)}const u=this.getStage();return n.nodeType!==D5&&u&&l(u.getChildren()),r}getDepth(){for(var e=0,n=this.parent;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Cn),this._clearSelfAndDescendantCache(Jt)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;var n=e.getPointerPosition();if(!n)return null;var r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);var i=this.getAbsoluteTransform(e).getMatrix(),a=new Q.Transform,s=this.offset();return a.m=i.slice(),a.translate(s.x,s.y),a.getTranslation()}setAbsolutePosition(e){const{x:n,y:r,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache(Cn);var a=this._getAbsoluteTransform().copy();return a.invert(),a.translate(e.x,e.y),e={x:this.attrs.x+a.getTranslation().x,y:this.attrs.y+a.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(Cn),this._clearSelfAndDescendantCache(Jt),this}_setTransform(e){var n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var n=e.x,r=e.y,i=this.x(),a=this.y();return n!==void 0&&(i+=n),r!==void 0&&(a+=r),this.setPosition({x:i,y:a}),this}_eachAncestorReverse(e,n){var r=[],i=this.getParent(),a,s;if(!(n&&n._id===this._id)){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(a=r.length,s=0;s<a;s++)e(r[s])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return Q.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Q.Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Q.Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Q.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return Q.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&Q.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(fs,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e=this.getAttrs(),n,r,i,a,s;const o={attrs:{},className:this.getClassName()};for(n in e)r=e[n],s=Q.Util.isObject(r)&&!Q.Util._isPlainObject(r)&&!Q.Util._isArray(r),!s&&(i=typeof this[n]=="function"&&this[n],delete e[n],a=i?i.call(this):null,e[n]=r,a!==r&&(o.attrs[n]=r));return Q.Util._prepareToStringify(o)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){var i=[];n&&this._isMatch(e)&&i.push(this);for(var a=this.parent;a;){if(a===r)return i;a._isMatch(e)&&i.push(a),a=a.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);var n=e.replace(/ /g,"").split(","),r=n.length,i,a;for(i=0;i<r;i++)if(a=n[i],Q.Util.isValidSelector(a)||(Q.Util.warn('Selector "'+a+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Q.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Q.Util.warn("Konva is awesome, right?")),a.charAt(0)==="#"){if(this.id()===a.slice(1))return!0}else if(a.charAt(0)==="."){if(this.hasName(a.slice(1)))return!0}else if(this.className===a||this.nodeType===a)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(af,this._getStage)}_getStage(){var e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Jt,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var n;if(e)return n=new Q.Transform,this._eachAncestorReverse(function(i){var a=i.transformsEnabled();a==="all"?n.multiply(i.getTransform()):a==="position"&&n.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},e),n;n=this._cache.get(Jt)||new Q.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();var r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,a=this.attrs.y||0,s=this.attrs.offsetX||0,o=this.attrs.offsetY||0;n.translate(i-s,a-o)}return n.dirty=!1,n}getAbsoluteScale(e){for(var n=this;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Cn,this._getTransform)}_getTransform(){var e,n,r=this._cache.get(Cn)||new Q.Transform;r.reset();var i=this.x(),a=this.y(),s=qn.Konva.getAngle(this.rotation()),o=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,u=this.attrs.skewX||0,h=this.attrs.skewY||0,v=this.attrs.offsetX||0,p=this.attrs.offsetY||0;return(i!==0||a!==0)&&r.translate(i,a),s!==0&&r.rotate(s),(u!==0||h!==0)&&r.skew(u,h),(o!==1||l!==1)&&r.scale(o,l),(v!==0||p!==0)&&r.translate(-1*v,-1*p),r.dirty=!1,r}clone(e){var n=Q.Util.cloneObject(this.attrs),r,i,a,s,o;for(r in e)n[r]=e[r];var l=new this.constructor(n);for(r in this.eventListeners)for(i=this.eventListeners[r],a=i.length,s=0;s<a;s++)o=i[s],o.name.indexOf(O5)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(o));return l}_toKonvaCanvas(e){e=e||{};var n=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),a=e.y!==void 0?e.y:Math.floor(n.y),s=e.pixelRatio||1,o=new Ti.SceneCanvas({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:s}),l=o.getContext();const u=new Ti.SceneCanvas({width:o.width/o.pixelRatio+Math.abs(i),height:o.height/o.pixelRatio+Math.abs(a),pixelRatio:o.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||a)&&l.translate(-1*i,-1*a),this.drawScene(o,void 0,u),l.restore(),o}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};var n=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,Q.Util._urlToImage(this.toDataURL(e),function(a){n(a),i==null||i(a)})}catch(i){r(i)}})}toBlob(e){return new Promise((n,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,this.toCanvas(e).toBlob(a=>{n(a),i==null||i(a)},e==null?void 0:e.mimeType,e==null?void 0:e.quality)}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():qn.Konva.dragDistance}_off(e,n,r){var i=this.eventListeners[e],a,s,o;for(a=0;a<i.length;a++)if(s=i[a].name,o=i[a].handler,(s!=="konva"||n==="konva")&&(!n||s===n)&&(!r||r===o)){if(i.splice(a,1),i.length===0){delete this.eventListeners[e];break}a--}}_fireChangeEvent(e,n,r){this._fire(e+R5,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){var n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();if(!n)return!1;var r=(n||"").split(/\s/g);return r.indexOf(e)!==-1}removeName(e){var n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){var r=this[nf+Q.Util._capitalize(e)];return Q.Util._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(qn.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){var r=this.attrs[e];r===n&&!Q.Util.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){var i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,n,r){n&&this.nodeType===rf&&(n.target=this);var i=(e===ef||e===tf)&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r);if(!i){this._fire(e,n);var a=(e===ef||e===tf)&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!a&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r,i;const a=(n=this._cache.get(Xa))!==null&&n!==void 0?n:{};let s=a==null?void 0:a[e];if(s===void 0){s=[];let o=Object.getPrototypeOf(this);for(;o;){const l=(i=(r=o.eventListeners)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:[];s.push(...l),o=Object.getPrototypeOf(o)}a[e]=s,this._cache.set(Xa,a)}return s}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(var i=0;i<r.length;i++)r[i].handler.call(this,n);const a=this.eventListeners[e];if(a)for(var i=0;i<a.length;i++)a[i].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var n=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(r){var a=r._getPointerById(n)||r._changedPointerPositions[0]||i;_t.DD._dragElements.set(this._id,{node:this,startPointerPos:a,offset:{x:a.x-i.x,y:a.y-i.y},dragStatus:"ready",pointerId:n})}}startDrag(e,n=!0){_t.DD._dragElements.has(this._id)||this._createDragElement(e);const r=_t.DD._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(r){var i={x:r.x-n.offset.x,y:r.y-n.offset.y},a=this.dragBoundFunc();if(a!==void 0){const s=a.call(this,i,e);s?i=s:Q.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}}stopDrag(e){const n=_t.DD._dragElements.get(this._id);n&&(n.dragStatus="stopped"),_t.DD._endDragBefore(e),_t.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=_t.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){var n=e.evt.button!==void 0,r=!n||qn.Konva.dragButtons.indexOf(e.evt.button)>=0;if(r&&!this.isDragging()){var i=!1;_t.DD._dragElements.forEach(a=>{this.isAncestorOf(a.node)&&(i=!0)}),i||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage();if(!e)return;const n=_t.DD._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";r?this.stopDrag():i&&_t.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return Q.Util.haveIntersection(r,this.getClientRect())}static create(e,n){return Q.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){var r=H.prototype.getClassName.call(e),i=e.children,a,s,o;n&&(e.attrs.container=n),qn.Konva[r]||(Q.Util.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const l=qn.Konva[r];if(a=new l(e.attrs),i)for(s=i.length,o=0;o<s;o++)a.add(H._createNode(i[o]));return a}}me.Node=H;H.prototype.nodeType="Node";H.prototype._attrsAffectingSize=[];H.prototype.eventListeners={};H.prototype.on.call(H.prototype,F5,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Cn),this._clearSelfAndDescendantCache(Jt)});H.prototype.on.call(H.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Qu)});H.prototype.on.call(H.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Yu)});H.prototype.on.call(H.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(fs)});const le=Ca.Factory.addGetterSetter;le(H,"zIndex");le(H,"absolutePosition");le(H,"position");le(H,"x",0,(0,Re.getNumberValidator)());le(H,"y",0,(0,Re.getNumberValidator)());le(H,"globalCompositeOperation","source-over",(0,Re.getStringValidator)());le(H,"opacity",1,(0,Re.getNumberValidator)());le(H,"name","",(0,Re.getStringValidator)());le(H,"id","",(0,Re.getStringValidator)());le(H,"rotation",0,(0,Re.getNumberValidator)());Ca.Factory.addComponentsGetterSetter(H,"scale",["x","y"]);le(H,"scaleX",1,(0,Re.getNumberValidator)());le(H,"scaleY",1,(0,Re.getNumberValidator)());Ca.Factory.addComponentsGetterSetter(H,"skew",["x","y"]);le(H,"skewX",0,(0,Re.getNumberValidator)());le(H,"skewY",0,(0,Re.getNumberValidator)());Ca.Factory.addComponentsGetterSetter(H,"offset",["x","y"]);le(H,"offsetX",0,(0,Re.getNumberValidator)());le(H,"offsetY",0,(0,Re.getNumberValidator)());le(H,"dragDistance",null,(0,Re.getNumberValidator)());le(H,"width",0,(0,Re.getNumberValidator)());le(H,"height",0,(0,Re.getNumberValidator)());le(H,"listening",!0,(0,Re.getBooleanValidator)());le(H,"preventDefault",!0,(0,Re.getBooleanValidator)());le(H,"filters",null,function(t){return this._filterUpToDate=!1,t});le(H,"visible",!0,(0,Re.getBooleanValidator)());le(H,"transformsEnabled","all",(0,Re.getStringValidator)());le(H,"size");le(H,"dragBoundFunc");le(H,"draggable",!1,(0,Re.getBooleanValidator)());Ca.Factory.backCompat(H,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var mr={};Object.defineProperty(mr,"__esModule",{value:!0});mr.Container=void 0;const hi=X,Vl=me,So=z;class vr extends Vl.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const n=this.children||[];var r=[];return n.forEach(function(i){e(i)&&r.push(i)}),r}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(var n=0;n<e.length;n++)this.add(e[n]);return this}const r=e[0];return r.getParent()?(r.moveTo(this),this):(this._validateAdd(r),r.index=this.getChildren().length,r.parent=this,r._clearCaches(),this.getChildren().push(r),this._fire("add",{child:r}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){var r=[];return this._descendants(i=>{const a=i._isMatch(e);return a&&r.push(i),!!(a&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const i of r){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){var e=Vl.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){for(var n=e.getParent();n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){var n=Vl.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){var n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){var i=this.getLayer(),a=e||i&&i.getCanvas(),s=a&&a.getContext(),o=this._getCanvasCache(),l=o&&o.scene,u=a&&a.isCache;if(!this.isVisible()&&!u)return this;if(l){s.save();var h=this.getAbsoluteTransform(n).getMatrix();s.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",a,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;var r=this.getLayer(),i=e||r&&r.hitCanvas,a=i&&i.getContext(),s=this._getCanvasCache(),o=s&&s.hit;if(o){a.save();var l=this.getAbsoluteTransform(n).getMatrix();a.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(a),a.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,r,i){var a,s=n&&n.getContext(),o=this.clipWidth(),l=this.clipHeight(),u=this.clipFunc(),h=o&&l||u;const v=r===this;if(h){s.save();var p=this.getAbsoluteTransform(r),m=p.getMatrix();s.transform(m[0],m[1],m[2],m[3],m[4],m[5]),s.beginPath();let y;if(u)y=u.call(this,s,this);else{var d=this.clipX(),_=this.clipY();s.rect(d,_,o,l)}s.clip.apply(s,y),m=p.copy().invert().getMatrix(),s.transform(m[0],m[1],m[2],m[3],m[4],m[5])}var C=!v&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";C&&(s.save(),s._applyGlobalCompositeOperation(this)),(a=this.children)===null||a===void 0||a.forEach(function(y){y[e](n,r,i)}),C&&s.restore(),h&&s.restore()}getClientRect(e={}){var n,r=e.skipTransform,i=e.relativeTo,a,s,o,l,u={x:1/0,y:1/0,width:0,height:0},h=this;(n=this.children)===null||n===void 0||n.forEach(function(_){if(_.visible()){var C=_.getClientRect({relativeTo:h,skipShadow:e.skipShadow,skipStroke:e.skipStroke});C.width===0&&C.height===0||(a===void 0?(a=C.x,s=C.y,o=C.x+C.width,l=C.y+C.height):(a=Math.min(a,C.x),s=Math.min(s,C.y),o=Math.max(o,C.x+C.width),l=Math.max(l,C.y+C.height)))}});for(var v=this.find("Shape"),p=!1,m=0;m<v.length;m++){var d=v[m];if(d._isVisible(this)){p=!0;break}}return p&&a!==void 0?u={x:a,y:s,width:o-a,height:l-s}:u={x:0,y:0,width:0,height:0},r?u:this._transformedRect(u,i)}}mr.Container=vr;hi.Factory.addComponentsGetterSetter(vr,"clip",["x","y","width","height"]);hi.Factory.addGetterSetter(vr,"clipX",void 0,(0,So.getNumberValidator)());hi.Factory.addGetterSetter(vr,"clipY",void 0,(0,So.getNumberValidator)());hi.Factory.addGetterSetter(vr,"clipWidth",void 0,(0,So.getNumberValidator)());hi.Factory.addGetterSetter(vr,"clipHeight",void 0,(0,So.getNumberValidator)());hi.Factory.addGetterSetter(vr,"clipFunc");var Tp={},ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.releaseCapture=ht.setPointerCapture=ht.hasPointerCapture=ht.createEvent=ht.getCapturedShape=void 0;const L5=Y,da=new Map,bp=L5.Konva._global.PointerEvent!==void 0;function I5(t){return da.get(t)}ht.getCapturedShape=I5;function lh(t){return{evt:t,pointerId:t.pointerId}}ht.createEvent=lh;function U5(t,e){return da.get(t)===e}ht.hasPointerCapture=U5;function G5(t,e){Np(t),e.getStage()&&(da.set(t,e),bp&&e._fire("gotpointercapture",lh(new PointerEvent("gotpointercapture"))))}ht.setPointerCapture=G5;function Np(t,e){const n=da.get(t);if(!n)return;const r=n.getStage();r&&r.content,da.delete(t),bp&&n._fire("lostpointercapture",lh(new PointerEvent("lostpointercapture")))}ht.releaseCapture=Np;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=Ce,n=X,r=mr,i=Y,a=Lt,s=_o,o=Y,l=ht;var u="Stage",h="string",v="px",p="mouseout",m="mouseleave",d="mouseover",_="mouseenter",C="mousemove",y="mousedown",f="mouseup",c="pointermove",g="pointerdown",S="pointerup",x="pointercancel",E="lostpointercapture",w="pointerout",N="pointerleave",k="pointerover",b="pointerenter",A="contextmenu",F="touchstart",V="touchend",U="touchmove",W="touchcancel",K="wheel",R=5,G=[[_,"_pointerenter"],[y,"_pointerdown"],[C,"_pointermove"],[f,"_pointerup"],[m,"_pointerleave"],[F,"_pointerdown"],[U,"_pointermove"],[V,"_pointerup"],[W,"_pointercancel"],[d,"_pointerover"],[K,"_wheel"],[A,"_contextmenu"],[g,"_pointerdown"],[c,"_pointermove"],[S,"_pointerup"],[x,"_pointercancel"],[E,"_lostpointercapture"]];const O={mouse:{[w]:p,[N]:m,[k]:d,[b]:_,[c]:C,[g]:y,[S]:f,[x]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[w]:"touchout",[N]:"touchleave",[k]:"touchover",[b]:"touchenter",[c]:U,[g]:F,[S]:V,[x]:W,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[w]:w,[N]:N,[k]:k,[b]:b,[c]:c,[g]:g,[S]:S,[x]:x,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},L=oe=>oe.indexOf("pointer")>=0?"pointer":oe.indexOf("touch")>=0?"touch":"mouse",B=oe=>{const P=L(oe);if(P==="pointer")return i.Konva.pointerEventsEnabled&&O.pointer;if(P==="touch")return O.touch;if(P==="mouse")return O.mouse};function re(oe={}){return(oe.clipFunc||oe.clipWidth||oe.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),oe}const Z="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class lt extends r.Container{constructor(P){super(re(P)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{re(this.attrs)}),this._checkVisibility()}_validateAdd(P){const D=P.getType()==="Layer",$=P.getType()==="FastLayer";D||$||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const P=this.visible()?"":"none";this.content.style.display=P}setContainer(P){if(typeof P===h){if(P.charAt(0)==="."){var D=P.slice(1);P=document.getElementsByClassName(D)[0]}else{var $;P.charAt(0)!=="#"?$=P:$=P.slice(1),P=document.getElementById($)}if(!P)throw"Can not find container in document with id "+$}return this._setAttr("container",P),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),P.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var P=this.children,D=P.length,$;for($=0;$<D;$++)P[$].clear();return this}clone(P){return P||(P={}),P.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,P)}destroy(){super.destroy();var P=this.content;P&&e.Util._isInDocument(P)&&this.container().removeChild(P);var D=t.stages.indexOf(this);return D>-1&&t.stages.splice(D,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const P=this._pointerPositions[0]||this._changedPointerPositions[0];return P?{x:P.x,y:P.y}:(e.Util.warn(Z),null)}_getPointerById(P){return this._pointerPositions.find(D=>D.id===P)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(P){P=P||{},P.x=P.x||0,P.y=P.y||0,P.width=P.width||this.width(),P.height=P.height||this.height();var D=new a.SceneCanvas({width:P.width,height:P.height,pixelRatio:P.pixelRatio||1}),$=D.getContext()._context,pe=this.children;return(P.x||P.y)&&$.translate(-1*P.x,-1*P.y),pe.forEach(function(ae){if(ae.isVisible()){var Pe=ae._toKonvaCanvas(P);$.drawImage(Pe._canvas,P.x,P.y,Pe.getWidth()/Pe.getPixelRatio(),Pe.getHeight()/Pe.getPixelRatio())}}),D}getIntersection(P){if(!P)return null;var D=this.children,$=D.length,pe=$-1,ae;for(ae=pe;ae>=0;ae--){const Pe=D[ae].getIntersection(P);if(Pe)return Pe}return null}_resizeDOM(){var P=this.width(),D=this.height();this.content&&(this.content.style.width=P+v,this.content.style.height=D+v),this.bufferCanvas.setSize(P,D),this.bufferHitCanvas.setSize(P,D),this.children.forEach($=>{$.setSize({width:P,height:D}),$.draw()})}add(P,...D){if(arguments.length>1){for(var $=0;$<arguments.length;$++)this.add(arguments[$]);return this}super.add(P);var pe=this.children.length;return pe>R&&e.Util.warn("The stage has "+pe+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),P.setSize({width:this.width(),height:this.height()}),P.draw(),i.Konva.isBrowser&&this.content.appendChild(P.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(P){return l.hasPointerCapture(P,this)}setPointerCapture(P){l.setPointerCapture(P,this)}releaseCapture(P){l.releaseCapture(P,this)}getLayers(){return this.children}_bindContentEvents(){i.Konva.isBrowser&&G.forEach(([P,D])=>{this.content.addEventListener(P,$=>{this[D]($)},{passive:!1})})}_pointerenter(P){this.setPointersPositions(P);const D=B(P.type);D&&this._fire(D.pointerenter,{evt:P,target:this,currentTarget:this})}_pointerover(P){this.setPointersPositions(P);const D=B(P.type);D&&this._fire(D.pointerover,{evt:P,target:this,currentTarget:this})}_getTargetShape(P){let D=this[P+"targetShape"];return D&&!D.getStage()&&(D=null),D}_pointerleave(P){const D=B(P.type),$=L(P.type);if(D){this.setPointersPositions(P);var pe=this._getTargetShape($),ae=!s.DD.isDragging||i.Konva.hitOnDragEnabled;pe&&ae?(pe._fireAndBubble(D.pointerout,{evt:P}),pe._fireAndBubble(D.pointerleave,{evt:P}),this._fire(D.pointerleave,{evt:P,target:this,currentTarget:this}),this[$+"targetShape"]=null):ae&&(this._fire(D.pointerleave,{evt:P,target:this,currentTarget:this}),this._fire(D.pointerout,{evt:P,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(P){const D=B(P.type),$=L(P.type);if(D){this.setPointersPositions(P);var pe=!1;this._changedPointerPositions.forEach(ae=>{var Pe=this.getIntersection(ae);if(s.DD.justDragged=!1,i.Konva["_"+$+"ListenClick"]=!0,!Pe||!Pe.isListening())return;i.Konva.capturePointerEventsEnabled&&Pe.setPointerCapture(ae.id),this[$+"ClickStartShape"]=Pe,Pe._fireAndBubble(D.pointerdown,{evt:P,pointerId:ae.id}),pe=!0;const yt=P.type.indexOf("touch")>=0;Pe.preventDefault()&&P.cancelable&&yt&&P.preventDefault()}),pe||this._fire(D.pointerdown,{evt:P,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(P){const D=B(P.type),$=L(P.type);if(!D)return;s.DD.isDragging&&s.DD.node.preventDefault()&&P.cancelable&&P.preventDefault(),this.setPointersPositions(P);var pe=!s.DD.isDragging||i.Konva.hitOnDragEnabled;if(!pe)return;var ae={};let Pe=!1;var yt=this._getTargetShape($);this._changedPointerPositions.forEach(mn=>{const he=l.getCapturedShape(mn.id)||this.getIntersection(mn),kr=mn.id,Yt={evt:P,pointerId:kr};var Er=yt!==he;if(Er&&yt&&(yt._fireAndBubble(D.pointerout,{...Yt},he),yt._fireAndBubble(D.pointerleave,{...Yt},he)),he){if(ae[he._id])return;ae[he._id]=!0}he&&he.isListening()?(Pe=!0,Er&&(he._fireAndBubble(D.pointerover,{...Yt},yt),he._fireAndBubble(D.pointerenter,{...Yt},yt),this[$+"targetShape"]=he),he._fireAndBubble(D.pointermove,{...Yt})):yt&&(this._fire(D.pointerover,{evt:P,target:this,currentTarget:this,pointerId:kr}),this[$+"targetShape"]=null)}),Pe||this._fire(D.pointermove,{evt:P,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(P){const D=B(P.type),$=L(P.type);if(!D)return;this.setPointersPositions(P);const pe=this[$+"ClickStartShape"],ae=this[$+"ClickEndShape"];var Pe={};let yt=!1;this._changedPointerPositions.forEach(mn=>{const he=l.getCapturedShape(mn.id)||this.getIntersection(mn);if(he){if(he.releaseCapture(mn.id),Pe[he._id])return;Pe[he._id]=!0}const kr=mn.id,Yt={evt:P,pointerId:kr};let Er=!1;i.Konva["_"+$+"InDblClickWindow"]?(Er=!0,clearTimeout(this[$+"DblTimeout"])):s.DD.justDragged||(i.Konva["_"+$+"InDblClickWindow"]=!0,clearTimeout(this[$+"DblTimeout"])),this[$+"DblTimeout"]=setTimeout(function(){i.Konva["_"+$+"InDblClickWindow"]=!1},i.Konva.dblClickWindow),he&&he.isListening()?(yt=!0,this[$+"ClickEndShape"]=he,he._fireAndBubble(D.pointerup,{...Yt}),i.Konva["_"+$+"ListenClick"]&&pe&&pe===he&&(he._fireAndBubble(D.pointerclick,{...Yt}),Er&&ae&&ae===he&&he._fireAndBubble(D.pointerdblclick,{...Yt}))):(this[$+"ClickEndShape"]=null,i.Konva["_"+$+"ListenClick"]&&this._fire(D.pointerclick,{evt:P,target:this,currentTarget:this,pointerId:kr}),Er&&this._fire(D.pointerdblclick,{evt:P,target:this,currentTarget:this,pointerId:kr}))}),yt||this._fire(D.pointerup,{evt:P,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i.Konva["_"+$+"ListenClick"]=!1,P.cancelable&&$!=="touch"&&P.preventDefault()}_contextmenu(P){this.setPointersPositions(P);var D=this.getIntersection(this.getPointerPosition());D&&D.isListening()?D._fireAndBubble(A,{evt:P}):this._fire(A,{evt:P,target:this,currentTarget:this})}_wheel(P){this.setPointersPositions(P);var D=this.getIntersection(this.getPointerPosition());D&&D.isListening()?D._fireAndBubble(K,{evt:P}):this._fire(K,{evt:P,target:this,currentTarget:this})}_pointercancel(P){this.setPointersPositions(P);const D=l.getCapturedShape(P.pointerId)||this.getIntersection(this.getPointerPosition());D&&D._fireAndBubble(S,l.createEvent(P)),l.releaseCapture(P.pointerId)}_lostpointercapture(P){l.releaseCapture(P.pointerId)}setPointersPositions(P){var D=this._getContentPosition(),$=null,pe=null;P=P||window.event,P.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(P.touches,ae=>{this._pointerPositions.push({id:ae.identifier,x:(ae.clientX-D.left)/D.scaleX,y:(ae.clientY-D.top)/D.scaleY})}),Array.prototype.forEach.call(P.changedTouches||P.touches,ae=>{this._changedPointerPositions.push({id:ae.identifier,x:(ae.clientX-D.left)/D.scaleX,y:(ae.clientY-D.top)/D.scaleY})})):($=(P.clientX-D.left)/D.scaleX,pe=(P.clientY-D.top)/D.scaleY,this.pointerPos={x:$,y:pe},this._pointerPositions=[{x:$,y:pe,id:e.Util._getFirstPointerId(P)}],this._changedPointerPositions=[{x:$,y:pe,id:e.Util._getFirstPointerId(P)}])}_setPointerPosition(P){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(P)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var P=this.content.getBoundingClientRect();return{top:P.top,left:P.left,scaleX:P.width/this.content.clientWidth||1,scaleY:P.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new a.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new a.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!i.Konva.isBrowser){var P=this.container();if(!P)throw"Stage has no container. A container is required.";P.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),P.appendChild(this.content),this._resizeDOM()}}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(P){P.batchDraw()}),this}}t.Stage=lt,lt.prototype.nodeType=u,(0,o._registerNode)(lt),n.Factory.addGetterSetter(lt,"container")})(Tp);var wa={},Ae={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=Y,n=Ce,r=X,i=me,a=z,s=Y,o=ht;var l="hasShadow",u="shadowRGBA",h="patternImage",v="linearGradient",p="radialGradient";let m;function d(){return m||(m=n.Util.createCanvasElement().getContext("2d"),m)}t.shapes={};function _(N){const k=this.attrs.fillRule;k?N.fill(k):N.fill()}function C(N){N.stroke()}function y(N){N.fill()}function f(N){N.stroke()}function c(){this._clearCache(l)}function g(){this._clearCache(u)}function S(){this._clearCache(h)}function x(){this._clearCache(v)}function E(){this._clearCache(p)}class w extends i.Node{constructor(k){super(k);let b;for(;b=n.Util.getRandomColor(),!(b&&!(b in t.shapes)););this.colorKey=b,t.shapes[b]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(h,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var k=d();const b=k.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(b&&b.setTransform){const A=new n.Transform;A.translate(this.fillPatternX(),this.fillPatternY()),A.rotate(e.Konva.getAngle(this.fillPatternRotation())),A.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),A.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const F=A.getMatrix(),V=typeof DOMMatrix>"u"?{a:F[0],b:F[1],c:F[2],d:F[3],e:F[4],f:F[5]}:new DOMMatrix(F);b.setTransform(V)}return b}}_getLinearGradient(){return this._getCache(v,this.__getLinearGradient)}__getLinearGradient(){var k=this.fillLinearGradientColorStops();if(k){for(var b=d(),A=this.fillLinearGradientStartPoint(),F=this.fillLinearGradientEndPoint(),V=b.createLinearGradient(A.x,A.y,F.x,F.y),U=0;U<k.length;U+=2)V.addColorStop(k[U],k[U+1]);return V}}_getRadialGradient(){return this._getCache(p,this.__getRadialGradient)}__getRadialGradient(){var k=this.fillRadialGradientColorStops();if(k){for(var b=d(),A=this.fillRadialGradientStartPoint(),F=this.fillRadialGradientEndPoint(),V=b.createRadialGradient(A.x,A.y,this.fillRadialGradientStartRadius(),F.x,F.y,this.fillRadialGradientEndRadius()),U=0;U<k.length;U+=2)V.addColorStop(k[U],k[U+1]);return V}}getShadowRGBA(){return this._getCache(u,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var k=n.Util.colorToRGBA(this.shadowColor());if(k)return"rgba("+k.r+","+k.g+","+k.b+","+k.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const k=this.hitStrokeWidth();return k==="auto"?this.hasStroke():this.strokeEnabled()&&!!k}intersects(k){var b=this.getStage();if(!b)return!1;const A=b.bufferHitCanvas;return A.getContext().clear(),this.drawHit(A,void 0,!0),A.context.getImageData(Math.round(k.x),Math.round(k.y),1,1).data[3]>0}destroy(){return i.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(k){var b;if(!((b=this.attrs.perfectDrawEnabled)!==null&&b!==void 0?b:!0))return!1;const F=k||this.hasFill(),V=this.hasStroke(),U=this.getAbsoluteOpacity()!==1;if(F&&V&&U)return!0;const W=this.hasShadow(),K=this.shadowForStrokeEnabled();return!!(F&&V&&W&&K)}setStrokeHitEnabled(k){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),k?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var k=this.size();return{x:this._centroid?-k.width/2:0,y:this._centroid?-k.height/2:0,width:k.width,height:k.height}}getClientRect(k={}){const b=k.skipTransform,A=k.relativeTo,F=this.getSelfRect(),U=!k.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,W=F.width+U,K=F.height+U,R=!k.skipShadow&&this.hasShadow(),G=R?this.shadowOffsetX():0,O=R?this.shadowOffsetY():0,L=W+Math.abs(G),B=K+Math.abs(O),re=R&&this.shadowBlur()||0,Z=L+re*2,lt=B+re*2,oe={width:Z,height:lt,x:-(U/2+re)+Math.min(G,0)+F.x,y:-(U/2+re)+Math.min(O,0)+F.y};return b?oe:this._transformedRect(oe,A)}drawScene(k,b,A){var F=this.getLayer(),V=k||F.getCanvas(),U=V.getContext(),W=this._getCanvasCache(),K=this.getSceneFunc(),R=this.hasShadow(),G,O,L=V.isCache,B=b===this;if(!this.isVisible()&&!B)return this;if(W){U.save();var re=this.getAbsoluteTransform(b).getMatrix();return U.transform(re[0],re[1],re[2],re[3],re[4],re[5]),this._drawCachedSceneCanvas(U),U.restore(),this}if(!K)return this;if(U.save(),this._useBufferCanvas()&&!L){G=this.getStage();const oe=A||G.bufferCanvas;O=oe.getContext(),O.clear(),O.save(),O._applyLineJoin(this);var Z=this.getAbsoluteTransform(b).getMatrix();O.transform(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]),K.call(this,O,this),O.restore();var lt=oe.pixelRatio;R&&U._applyShadow(this),U._applyOpacity(this),U._applyGlobalCompositeOperation(this),U.drawImage(oe._canvas,0,0,oe.width/lt,oe.height/lt)}else{if(U._applyLineJoin(this),!B){var Z=this.getAbsoluteTransform(b).getMatrix();U.transform(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]),U._applyOpacity(this),U._applyGlobalCompositeOperation(this)}R&&U._applyShadow(this),K.call(this,U,this)}return U.restore(),this}drawHit(k,b,A=!1){if(!this.shouldDrawHit(b,A))return this;var F=this.getLayer(),V=k||F.hitCanvas,U=V&&V.getContext(),W=this.hitFunc()||this.sceneFunc(),K=this._getCanvasCache(),R=K&&K.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),R){U.save();var G=this.getAbsoluteTransform(b).getMatrix();return U.transform(G[0],G[1],G[2],G[3],G[4],G[5]),this._drawCachedHitCanvas(U),U.restore(),this}if(!W)return this;if(U.save(),U._applyLineJoin(this),!(this===b)){var L=this.getAbsoluteTransform(b).getMatrix();U.transform(L[0],L[1],L[2],L[3],L[4],L[5])}return W.call(this,U,this),U.restore(),this}drawHitFromCache(k=0){var b=this._getCanvasCache(),A=this._getCachedSceneCanvas(),F=b.hit,V=F.getContext(),U=F.getWidth(),W=F.getHeight(),K,R,G,O,L,B;V.clear(),V.drawImage(A._canvas,0,0,U,W);try{for(K=V.getImageData(0,0,U,W),R=K.data,G=R.length,O=n.Util._hexToRgb(this.colorKey),L=0;L<G;L+=4)B=R[L+3],B>k?(R[L]=O.r,R[L+1]=O.g,R[L+2]=O.b,R[L+3]=255):R[L+3]=0;V.putImageData(K,0,0)}catch(re){n.Util.error("Unable to draw hit graph from cached scene canvas. "+re.message)}return this}hasPointerCapture(k){return o.hasPointerCapture(k,this)}setPointerCapture(k){o.setPointerCapture(k,this)}releaseCapture(k){o.releaseCapture(k,this)}}t.Shape=w,w.prototype._fillFunc=_,w.prototype._strokeFunc=C,w.prototype._fillFuncHit=y,w.prototype._strokeFuncHit=f,w.prototype._centroid=!1,w.prototype.nodeType="Shape",(0,s._registerNode)(w),w.prototype.eventListeners={},w.prototype.on.call(w.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",c),w.prototype.on.call(w.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",g),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",S),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",x),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",E),r.Factory.addGetterSetter(w,"stroke",void 0,(0,a.getStringOrGradientValidator)()),r.Factory.addGetterSetter(w,"strokeWidth",2,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(w,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(w,"hitStrokeWidth","auto",(0,a.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(w,"strokeHitEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(w,"perfectDrawEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(w,"shadowForStrokeEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(w,"lineJoin"),r.Factory.addGetterSetter(w,"lineCap"),r.Factory.addGetterSetter(w,"sceneFunc"),r.Factory.addGetterSetter(w,"hitFunc"),r.Factory.addGetterSetter(w,"dash"),r.Factory.addGetterSetter(w,"dashOffset",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(w,"shadowColor",void 0,(0,a.getStringValidator)()),r.Factory.addGetterSetter(w,"shadowBlur",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(w,"shadowOpacity",1,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(w,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(w,"shadowOffsetX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(w,"shadowOffsetY",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(w,"fillPatternImage"),r.Factory.addGetterSetter(w,"fill",void 0,(0,a.getStringOrGradientValidator)()),r.Factory.addGetterSetter(w,"fillPatternX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(w,"fillPatternY",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(w,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(w,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(w,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(w,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(w,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(w,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(w,"fillEnabled",!0),r.Factory.addGetterSetter(w,"strokeEnabled",!0),r.Factory.addGetterSetter(w,"shadowEnabled",!0),r.Factory.addGetterSetter(w,"dashEnabled",!0),r.Factory.addGetterSetter(w,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(w,"fillPriority","color"),r.Factory.addComponentsGetterSetter(w,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(w,"fillPatternOffsetX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(w,"fillPatternOffsetY",0,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(w,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(w,"fillPatternScaleX",1,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(w,"fillPatternScaleY",1,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(w,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(w,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(w,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(w,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(w,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(w,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(w,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(w,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(w,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(w,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(w,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(w,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(w,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(w,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(w,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(w,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(w,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(w,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(w,"fillPatternRotation",0),r.Factory.addGetterSetter(w,"fillRule",void 0,(0,a.getStringValidator)()),r.Factory.backCompat(w,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(Ae);Object.defineProperty(wa,"__esModule",{value:!0});wa.Layer=void 0;const qt=Ce,$l=mr,Tr=me,uh=X,sf=Lt,j5=z,z5=Ae,V5=Y;var $5="#",B5="beforeDraw",H5="draw",Rp=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],W5=Rp.length;class di extends $l.Container{constructor(e){super(e),this.canvas=new sf.SceneCanvas,this.hitCanvas=new sf.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Tr.Node.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var e=Tr.Node.prototype.moveUp.call(this);if(!e)return!1;var n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Tr.Node.prototype.moveDown.call(this)){var e=this.getStage();if(e){var n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Tr.Node.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return Tr.Node.prototype.remove.call(this),e&&e.parentNode&&qt.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){var n=e.getType();n!=="Group"&&n!=="Shape"&&qt.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Tr.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){qt.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){qt.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,qt.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var n=1,r=!1;;){for(let i=0;i<W5;i++){const a=Rp[i],s=this._getIntersection({x:e.x+a.x*n,y:e.y+a.y*n}),o=s.shape;if(o)return o;if(r=!!s.antialiased,!s.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=r[3];if(i===255){const a=qt.Util._rgbToHex(r[0],r[1],r[2]),s=z5.shapes[$5+a];return s?{shape:s}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n){var r=this.getLayer(),i=e||r&&r.getCanvas();return this._fire(B5,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),$l.Container.prototype.drawScene.call(this,i,n),this._fire(H5,{node:this}),this}drawHit(e,n){var r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),$l.Container.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){qt.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return qt.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var e=this.parent,n=!!this.hitCanvas._canvas.parentNode;n?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}destroy(){return qt.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}wa.Layer=di;di.prototype.nodeType="Layer";(0,V5._registerNode)(di);uh.Factory.addGetterSetter(di,"imageSmoothingEnabled",!0);uh.Factory.addGetterSetter(di,"clearBeforeDraw",!0);uh.Factory.addGetterSetter(di,"hitGraphEnabled",!0,(0,j5.getBooleanValidator)());var Co={};Object.defineProperty(Co,"__esModule",{value:!0});Co.FastLayer=void 0;const K5=Ce,X5=wa,Y5=Y;class ch extends X5.Layer{constructor(e){super(e),this.listening(!1),K5.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Co.FastLayer=ch;ch.prototype.nodeType="FastLayer";(0,Y5._registerNode)(ch);var fi={};Object.defineProperty(fi,"__esModule",{value:!0});fi.Group=void 0;const Q5=Ce,q5=mr,J5=Y;class hh extends q5.Container{_validateAdd(e){var n=e.getType();n!=="Group"&&n!=="Shape"&&Q5.Util.throw("You may only add groups and shapes to groups.")}}fi.Group=hh;hh.prototype.nodeType="Group";(0,J5._registerNode)(hh);var pi={};Object.defineProperty(pi,"__esModule",{value:!0});pi.Animation=void 0;const Bl=Y,of=Ce,Hl=function(){return Bl.glob.performance&&Bl.glob.performance.now?function(){return Bl.glob.performance.now()}:function(){return new Date().getTime()}}();class Vt{constructor(e,n){this.id=Vt.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Hl(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,r=n.length;for(let i=0;i<r;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=Vt.animations,r=n.length;for(let i=0;i<r;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Hl(),Vt._addAnimation(this),this}stop(){return Vt._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,r=this.animations,i=r.length;for(let a=0;a<i;a++)if(r[a].id===n){this.animations.splice(a,1);break}}static _runFrames(){const e={},n=this.animations;for(let r=0;r<n.length;r++){const i=n[r],a=i.layers,s=i.func;i._updateFrameObject(Hl());const o=a.length;let l;if(s?l=s.call(i,i.frame)!==!1:l=!0,!!l)for(let u=0;u<o;u++){const h=a[u];h._id!==void 0&&(e[h._id]=h)}}for(let r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=Vt;e.animations.length?(e._runFrames(),of.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,of.Util.requestAnimFrame(this._animationLoop))}}pi.Animation=Vt;Vt.animations=[];Vt.animIdCounter=0;Vt.animRunning=!1;var Mp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=Ce,n=pi,r=me,i=Y;var a={node:1,duration:1,easing:1,onFinish:1,yoyo:1},s=1,o=2,l=3,u=0,h=["fill","stroke","shadowColor"];class v{constructor(d,_,C,y,f,c,g){this.prop=d,this.propFunc=_,this.begin=y,this._pos=y,this.duration=c,this._change=0,this.prevPos=0,this.yoyo=g,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=C,this._change=f-this.begin,this.pause()}fire(d){var _=this[d];_&&_()}setTime(d){d>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():d<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=d,this.update())}getTime(){return this._time}setPosition(d){this.prevPos=this._pos,this.propFunc(d),this._pos=d}getPosition(d){return d===void 0&&(d=this._time),this.func(d,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(d){this.pause(),this._time=d,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var d=this.getTimer()-this._startTime;this.state===o?this.setTime(d):this.state===l&&this.setTime(this.duration-d)}pause(){this.state=s,this.fire("onPause")}getTimer(){return new Date().getTime()}}class p{constructor(d){var _=this,C=d.node,y=C._id,f,c=d.easing||t.Easings.Linear,g=!!d.yoyo,S;typeof d.duration>"u"?f=.3:d.duration===0?f=.001:f=d.duration,this.node=C,this._id=u++;var x=C.getLayer()||(C instanceof i.Konva.Stage?C.getLayers():null);x||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){_.tween.onEnterFrame()},x),this.tween=new v(S,function(E){_._tweenFunc(E)},c,0,1,f*1e3,g),this._addListeners(),p.attrs[y]||(p.attrs[y]={}),p.attrs[y][this._id]||(p.attrs[y][this._id]={}),p.tweens[y]||(p.tweens[y]={});for(S in d)a[S]===void 0&&this._addAttr(S,d[S]);this.reset(),this.onFinish=d.onFinish,this.onReset=d.onReset,this.onUpdate=d.onUpdate}_addAttr(d,_){var C=this.node,y=C._id,f,c,g,S,x,E,w,N;if(g=p.tweens[y][d],g&&delete p.attrs[y][g][d],f=C.getAttr(d),e.Util._isArray(_))if(c=[],x=Math.max(_.length,f.length),d==="points"&&_.length!==f.length&&(_.length>f.length?(w=f,f=e.Util._prepareArrayForTween(f,_,C.closed())):(E=_,_=e.Util._prepareArrayForTween(_,f,C.closed()))),d.indexOf("fill")===0)for(S=0;S<x;S++)if(S%2===0)c.push(_[S]-f[S]);else{var k=e.Util.colorToRGBA(f[S]);N=e.Util.colorToRGBA(_[S]),f[S]=k,c.push({r:N.r-k.r,g:N.g-k.g,b:N.b-k.b,a:N.a-k.a})}else for(S=0;S<x;S++)c.push(_[S]-f[S]);else h.indexOf(d)!==-1?(f=e.Util.colorToRGBA(f),N=e.Util.colorToRGBA(_),c={r:N.r-f.r,g:N.g-f.g,b:N.b-f.b,a:N.a-f.a}):c=_-f;p.attrs[y][this._id][d]={start:f,diff:c,end:_,trueEnd:E,trueStart:w},p.tweens[y][d]=this._id}_tweenFunc(d){var _=this.node,C=p.attrs[_._id][this._id],y,f,c,g,S,x,E,w;for(y in C){if(f=C[y],c=f.start,g=f.diff,w=f.end,e.Util._isArray(c))if(S=[],E=Math.max(c.length,w.length),y.indexOf("fill")===0)for(x=0;x<E;x++)x%2===0?S.push((c[x]||0)+g[x]*d):S.push("rgba("+Math.round(c[x].r+g[x].r*d)+","+Math.round(c[x].g+g[x].g*d)+","+Math.round(c[x].b+g[x].b*d)+","+(c[x].a+g[x].a*d)+")");else for(x=0;x<E;x++)S.push((c[x]||0)+g[x]*d);else h.indexOf(y)!==-1?S="rgba("+Math.round(c.r+g.r*d)+","+Math.round(c.g+g.g*d)+","+Math.round(c.b+g.b*d)+","+(c.a+g.a*d)+")":S=c+g*d;_.setAttr(y,S)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var d=this.node,_=p.attrs[d._id][this._id];_.points&&_.points.trueEnd&&d.setAttr("points",_.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var d=this.node,_=p.attrs[d._id][this._id];_.points&&_.points.trueStart&&d.points(_.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(d){return this.tween.seek(d*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var d=this.node._id,_=this._id,C=p.tweens[d],y;this.pause();for(y in C)delete p.tweens[d][y];delete p.attrs[d][_]}}t.Tween=p,p.attrs={},p.tweens={},r.Node.prototype.to=function(m){var d=m.onFinish;m.node=this,m.onFinish=function(){this.destroy(),d&&d()};var _=new p(m);_.play()},t.Easings={BackEaseIn(m,d,_,C){var y=1.70158;return _*(m/=C)*m*((y+1)*m-y)+d},BackEaseOut(m,d,_,C){var y=1.70158;return _*((m=m/C-1)*m*((y+1)*m+y)+1)+d},BackEaseInOut(m,d,_,C){var y=1.70158;return(m/=C/2)<1?_/2*(m*m*(((y*=1.525)+1)*m-y))+d:_/2*((m-=2)*m*(((y*=1.525)+1)*m+y)+2)+d},ElasticEaseIn(m,d,_,C,y,f){var c=0;return m===0?d:(m/=C)===1?d+_:(f||(f=C*.3),!y||y<Math.abs(_)?(y=_,c=f/4):c=f/(2*Math.PI)*Math.asin(_/y),-(y*Math.pow(2,10*(m-=1))*Math.sin((m*C-c)*(2*Math.PI)/f))+d)},ElasticEaseOut(m,d,_,C,y,f){var c=0;return m===0?d:(m/=C)===1?d+_:(f||(f=C*.3),!y||y<Math.abs(_)?(y=_,c=f/4):c=f/(2*Math.PI)*Math.asin(_/y),y*Math.pow(2,-10*m)*Math.sin((m*C-c)*(2*Math.PI)/f)+_+d)},ElasticEaseInOut(m,d,_,C,y,f){var c=0;return m===0?d:(m/=C/2)===2?d+_:(f||(f=C*(.3*1.5)),!y||y<Math.abs(_)?(y=_,c=f/4):c=f/(2*Math.PI)*Math.asin(_/y),m<1?-.5*(y*Math.pow(2,10*(m-=1))*Math.sin((m*C-c)*(2*Math.PI)/f))+d:y*Math.pow(2,-10*(m-=1))*Math.sin((m*C-c)*(2*Math.PI)/f)*.5+_+d)},BounceEaseOut(m,d,_,C){return(m/=C)<1/2.75?_*(7.5625*m*m)+d:m<2/2.75?_*(7.5625*(m-=1.5/2.75)*m+.75)+d:m<2.5/2.75?_*(7.5625*(m-=2.25/2.75)*m+.9375)+d:_*(7.5625*(m-=2.625/2.75)*m+.984375)+d},BounceEaseIn(m,d,_,C){return _-t.Easings.BounceEaseOut(C-m,0,_,C)+d},BounceEaseInOut(m,d,_,C){return m<C/2?t.Easings.BounceEaseIn(m*2,0,_,C)*.5+d:t.Easings.BounceEaseOut(m*2-C,0,_,C)*.5+_*.5+d},EaseIn(m,d,_,C){return _*(m/=C)*m+d},EaseOut(m,d,_,C){return-_*(m/=C)*(m-2)+d},EaseInOut(m,d,_,C){return(m/=C/2)<1?_/2*m*m+d:-_/2*(--m*(m-2)-1)+d},StrongEaseIn(m,d,_,C){return _*(m/=C)*m*m*m*m+d},StrongEaseOut(m,d,_,C){return _*((m=m/C-1)*m*m*m*m+1)+d},StrongEaseInOut(m,d,_,C){return(m/=C/2)<1?_/2*m*m*m*m*m+d:_/2*((m-=2)*m*m*m*m+2)+d},Linear(m,d,_,C){return _*m/C+d}}})(Mp);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=Y,n=Ce,r=me,i=mr,a=Tp,s=wa,o=Co,l=fi,u=_o,h=Ae,v=pi,p=Mp,m=sn,d=Lt;t.Konva=n.Util._assign(e.Konva,{Util:n.Util,Transform:n.Transform,Node:r.Node,Container:i.Container,Stage:a.Stage,stages:a.stages,Layer:s.Layer,FastLayer:o.FastLayer,Group:l.Group,DD:u.DD,Shape:h.Shape,shapes:h.shapes,Animation:v.Animation,Tween:p.Tween,Easings:p.Easings,Context:m.Context,Canvas:d.Canvas}),t.default=t.Konva})(xp);var wo={};Object.defineProperty(wo,"__esModule",{value:!0});wo.Arc=void 0;const xo=X,Z5=Ae,lf=Y,ko=z,e4=Y;class pn extends Z5.Shape{_sceneFunc(e){var n=lf.Konva.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),i=lf.Konva.getAngle(r?360-this.angle():this.angle()),a=Math.cos(Math.min(i,Math.PI)),s=1,o=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),u=a*(a>0?e:n),h=s*n,v=o*(o>0?e:n),p=l*(l>0?n:e);return{x:u,y:r?-1*p:v,width:h-u,height:p-v}}}wo.Arc=pn;pn.prototype._centroid=!0;pn.prototype.className="Arc";pn.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,e4._registerNode)(pn);xo.Factory.addGetterSetter(pn,"innerRadius",0,(0,ko.getNumberValidator)());xo.Factory.addGetterSetter(pn,"outerRadius",0,(0,ko.getNumberValidator)());xo.Factory.addGetterSetter(pn,"angle",0,(0,ko.getNumberValidator)());xo.Factory.addGetterSetter(pn,"clockwise",!1,(0,ko.getBooleanValidator)());var Eo={},xa={};Object.defineProperty(xa,"__esModule",{value:!0});xa.Line=void 0;const Po=X,t4=Ae,Op=z,n4=Y;function qu(t,e,n,r,i,a,s){var o=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(a-r,2)),u=s*o/(o+l),h=s*l/(o+l),v=n-u*(i-t),p=r-u*(a-e),m=n+h*(i-t),d=r+h*(a-e);return[v,p,m,d]}function uf(t,e){var n=t.length,r=[],i,a;for(i=2;i<n-2;i+=2)a=qu(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e),!isNaN(a[0])&&(r.push(a[0]),r.push(a[1]),r.push(t[i]),r.push(t[i+1]),r.push(a[2]),r.push(a[3]));return r}class Wn extends t4.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var n=this.points(),r=n.length,i=this.tension(),a=this.closed(),s=this.bezier(),o,l,u;if(r){if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&r>4){for(o=this.getTensionPoints(),l=o.length,u=a?0:4,a||e.quadraticCurveTo(o[0],o[1],o[2],o[3]);u<l-2;)e.bezierCurveTo(o[u++],o[u++],o[u++],o[u++],o[u++],o[u++]);a||e.quadraticCurveTo(o[l-2],o[l-1],n[r-2],n[r-1])}else if(s)for(u=2;u<r;)e.bezierCurveTo(n[u++],n[u++],n[u++],n[u++],n[u++],n[u++]);else for(u=2;u<r;u+=2)e.lineTo(n[u],n[u+1]);a?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():uf(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),n=e.length,r=this.tension(),i=qu(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),a=qu(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),s=uf(e,r),o=[i[2],i[3]].concat(s).concat([a[0],a[1],e[n-2],e[n-1],a[2],a[3],i[0],i[1],e[0],e[1]]);return o}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();for(var n=e[0],r=e[0],i=e[1],a=e[1],s,o,l=0;l<e.length/2;l++)s=e[l*2],o=e[l*2+1],n=Math.min(n,s),r=Math.max(r,s),i=Math.min(i,o),a=Math.max(a,o);return{x:n,y:i,width:r-n,height:a-i}}}xa.Line=Wn;Wn.prototype.className="Line";Wn.prototype._attrsAffectingSize=["points","bezier","tension"];(0,n4._registerNode)(Wn);Po.Factory.addGetterSetter(Wn,"closed",!1);Po.Factory.addGetterSetter(Wn,"bezier",!1);Po.Factory.addGetterSetter(Wn,"tension",0,(0,Op.getNumberValidator)());Po.Factory.addGetterSetter(Wn,"points",[],(0,Op.getNumberArrayValidator)());var gi={},Dp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(s,o,l)=>{let u,h,v;u=l/2,h=0;for(let m=0;m<20;m++)v=u*t.tValues[20][m]+u,h+=t.cValues[20][m]*r(s,o,v);return u*h};t.getCubicArcLength=e;const n=(s,o,l)=>{l===void 0&&(l=1);const u=s[0]-2*s[1]+s[2],h=o[0]-2*o[1]+o[2],v=2*s[1]-2*s[0],p=2*o[1]-2*o[0],m=4*(u*u+h*h),d=4*(u*v+h*p),_=v*v+p*p;if(m===0)return l*Math.sqrt(Math.pow(s[2]-s[0],2)+Math.pow(o[2]-o[0],2));const C=d/(2*m),y=_/m,f=l+C,c=y-C*C,g=f*f+c>0?Math.sqrt(f*f+c):0,S=C*C+c>0?Math.sqrt(C*C+c):0,x=C+Math.sqrt(C*C+c)!==0?c*Math.log(Math.abs((f+g)/(C+S))):0;return Math.sqrt(m)/2*(f*g-C*S+x)};t.getQuadraticArcLength=n;function r(s,o,l){const u=i(1,l,s),h=i(1,l,o),v=u*u+h*h;return Math.sqrt(v)}const i=(s,o,l)=>{const u=l.length-1;let h,v;if(u===0)return 0;if(s===0){v=0;for(let p=0;p<=u;p++)v+=t.binomialCoefficients[u][p]*Math.pow(1-o,u-p)*Math.pow(o,p)*l[p];return v}else{h=new Array(u);for(let p=0;p<u;p++)h[p]=u*(l[p+1]-l[p]);return i(s-1,o,h)}},a=(s,o,l)=>{let u=1,h=s/o,v=(s-l(h))/o,p=0;for(;u>.001;){const m=l(h+v),d=Math.abs(s-m)/o;if(d<u)u=d,h+=v;else{const _=l(h-v),C=Math.abs(s-_)/o;C<u?(u=C,h-=v):v/=2}if(p++,p>500)break}return h};t.t2length=a})(Dp);Object.defineProperty(gi,"__esModule",{value:!0});gi.Path=void 0;const r4=X,i4=Ae,a4=Y,br=Dp;class Oe extends i4.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Oe.parsePathData(this.data()),this.pathLength=Oe.getPathLength(this.dataArray)}_sceneFunc(e){var n=this.dataArray;e.beginPath();for(var r=!1,i=0;i<n.length;i++){var a=n[i].command,s=n[i].points;switch(a){case"L":e.lineTo(s[0],s[1]);break;case"M":e.moveTo(s[0],s[1]);break;case"C":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":e.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":var o=s[0],l=s[1],u=s[2],h=s[3],v=s[4],p=s[5],m=s[6],d=s[7],_=u>h?u:h,C=u>h?1:u/h,y=u>h?h/u:1;e.translate(o,l),e.rotate(m),e.scale(C,y),e.arc(0,0,_,v,v+p,1-d),e.scale(1/C,1/y),e.rotate(-m),e.translate(-o,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(u){if(u.command==="A"){var h=u.points[4],v=u.points[5],p=u.points[4]+v,m=Math.PI/180;if(Math.abs(h-p)<m&&(m=Math.abs(h-p)),v<0)for(let d=h-m;d>p;d-=m){const _=Oe.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],d,0);e.push(_.x,_.y)}else for(let d=h+m;d<p;d+=m){const _=Oe.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],d,0);e.push(_.x,_.y)}}else if(u.command==="C")for(let d=0;d<=1;d+=.01){const _=Oe.getPointOnCubicBezier(d,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3],u.points[4],u.points[5]);e.push(_.x,_.y)}else e=e.concat(u.points)});for(var n=e[0],r=e[0],i=e[1],a=e[1],s,o,l=0;l<e.length/2;l++)s=e[l*2],o=e[l*2+1],isNaN(s)||(n=Math.min(n,s),r=Math.max(r,s)),isNaN(o)||(i=Math.min(i,o),a=Math.max(a,o));return{x:n,y:i,width:r-n,height:a-i}}getLength(){return this.pathLength}getPointAtLength(e){return Oe.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(var r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){var r,i=0,a=n.length;if(!a)return null;for(;i<a&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===a)return r=n[i-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return r=n[i].points.slice(0,2),{x:r[0],y:r[1]};var s=n[i],o=s.points;switch(s.command){case"L":return Oe.getPointOnLine(e,s.start.x,s.start.y,o[0],o[1]);case"C":return Oe.getPointOnCubicBezier((0,br.t2length)(e,Oe.getPathLength(n),_=>(0,br.getCubicArcLength)([s.start.x,o[0],o[2],o[4]],[s.start.y,o[1],o[3],o[5]],_)),s.start.x,s.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return Oe.getPointOnQuadraticBezier((0,br.t2length)(e,Oe.getPathLength(n),_=>(0,br.getQuadraticArcLength)([s.start.x,o[0],o[2]],[s.start.y,o[1],o[3]],_)),s.start.x,s.start.y,o[0],o[1],o[2],o[3]);case"A":var l=o[0],u=o[1],h=o[2],v=o[3],p=o[4],m=o[5],d=o[6];return p+=m*e/s.pathLength,Oe.getPointOnEllipticalArc(l,u,h,v,p,d)}return null}static getPointOnLine(e,n,r,i,a,s,o){s===void 0&&(s=n),o===void 0&&(o=r);var l=(a-r)/(i-n+1e-8),u=Math.sqrt(e*e/(1+l*l));i<n&&(u*=-1);var h=l*u,v;if(i===n)v={x:s,y:o+h};else if((o-r)/(s-n+1e-8)===l)v={x:s+u,y:o+h};else{var p,m,d=this.getLineLength(n,r,i,a),_=(s-n)*(i-n)+(o-r)*(a-r);_=_/(d*d),p=n+_*(i-n),m=r+_*(a-r);var C=this.getLineLength(s,o,p,m),y=Math.sqrt(e*e-C*C);u=Math.sqrt(y*y/(1+l*l)),i<n&&(u*=-1),h=l*u,v={x:p+u,y:m+h}}return v}static getPointOnCubicBezier(e,n,r,i,a,s,o,l,u){function h(C){return C*C*C}function v(C){return 3*C*C*(1-C)}function p(C){return 3*C*(1-C)*(1-C)}function m(C){return(1-C)*(1-C)*(1-C)}var d=l*h(e)+s*v(e)+i*p(e)+n*m(e),_=u*h(e)+o*v(e)+a*p(e)+r*m(e);return{x:d,y:_}}static getPointOnQuadraticBezier(e,n,r,i,a,s,o){function l(m){return m*m}function u(m){return 2*m*(1-m)}function h(m){return(1-m)*(1-m)}var v=s*l(e)+i*u(e)+n*h(e),p=o*l(e)+a*u(e)+r*h(e);return{x:v,y:p}}static getPointOnEllipticalArc(e,n,r,i,a,s){var o=Math.cos(s),l=Math.sin(s),u={x:r*Math.cos(a),y:i*Math.sin(a)};return{x:e+(u.x*o-u.y*l),y:n+(u.x*l+u.y*o)}}static parsePathData(e){if(!e)return[];var n=e,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(var i=0;i<r.length;i++)n=n.replace(new RegExp(r[i],"g"),"|"+r[i]);var a=n.split("|"),s=[],o=[],l=0,u=0,h=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,v;for(i=1;i<a.length;i++){var p=a[i],m=p.charAt(0);for(p=p.slice(1),o.length=0;v=h.exec(p);)o.push(v[0]);for(var d=[],_=0,C=o.length;_<C;_++){if(o[_]==="00"){d.push(0,0);continue}var y=parseFloat(o[_]);isNaN(y)?d.push(0):d.push(y)}for(;d.length>0&&!isNaN(d[0]);){var f="",c=[],g=l,S=u,x,E,w,N,k,b,A,F,V,U;switch(m){case"l":l+=d.shift(),u+=d.shift(),f="L",c.push(l,u);break;case"L":l=d.shift(),u=d.shift(),c.push(l,u);break;case"m":var W=d.shift(),K=d.shift();if(l+=W,u+=K,f="M",s.length>2&&s[s.length-1].command==="z"){for(var R=s.length-2;R>=0;R--)if(s[R].command==="M"){l=s[R].points[0]+W,u=s[R].points[1]+K;break}}c.push(l,u),m="l";break;case"M":l=d.shift(),u=d.shift(),f="M",c.push(l,u),m="L";break;case"h":l+=d.shift(),f="L",c.push(l,u);break;case"H":l=d.shift(),f="L",c.push(l,u);break;case"v":u+=d.shift(),f="L",c.push(l,u);break;case"V":u=d.shift(),f="L",c.push(l,u);break;case"C":c.push(d.shift(),d.shift(),d.shift(),d.shift()),l=d.shift(),u=d.shift(),c.push(l,u);break;case"c":c.push(l+d.shift(),u+d.shift(),l+d.shift(),u+d.shift()),l+=d.shift(),u+=d.shift(),f="C",c.push(l,u);break;case"S":E=l,w=u,x=s[s.length-1],x.command==="C"&&(E=l+(l-x.points[2]),w=u+(u-x.points[3])),c.push(E,w,d.shift(),d.shift()),l=d.shift(),u=d.shift(),f="C",c.push(l,u);break;case"s":E=l,w=u,x=s[s.length-1],x.command==="C"&&(E=l+(l-x.points[2]),w=u+(u-x.points[3])),c.push(E,w,l+d.shift(),u+d.shift()),l+=d.shift(),u+=d.shift(),f="C",c.push(l,u);break;case"Q":c.push(d.shift(),d.shift()),l=d.shift(),u=d.shift(),c.push(l,u);break;case"q":c.push(l+d.shift(),u+d.shift()),l+=d.shift(),u+=d.shift(),f="Q",c.push(l,u);break;case"T":E=l,w=u,x=s[s.length-1],x.command==="Q"&&(E=l+(l-x.points[0]),w=u+(u-x.points[1])),l=d.shift(),u=d.shift(),f="Q",c.push(E,w,l,u);break;case"t":E=l,w=u,x=s[s.length-1],x.command==="Q"&&(E=l+(l-x.points[0]),w=u+(u-x.points[1])),l+=d.shift(),u+=d.shift(),f="Q",c.push(E,w,l,u);break;case"A":N=d.shift(),k=d.shift(),b=d.shift(),A=d.shift(),F=d.shift(),V=l,U=u,l=d.shift(),u=d.shift(),f="A",c=this.convertEndpointToCenterParameterization(V,U,l,u,A,F,N,k,b);break;case"a":N=d.shift(),k=d.shift(),b=d.shift(),A=d.shift(),F=d.shift(),V=l,U=u,l+=d.shift(),u+=d.shift(),f="A",c=this.convertEndpointToCenterParameterization(V,U,l,u,A,F,N,k,b);break}s.push({command:f||m,points:c,start:{x:g,y:S},pathLength:this.calcLength(g,S,f||m,c)})}(m==="z"||m==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(e,n,r,i){var a,s,o,l,u=Oe;switch(r){case"L":return u.getLineLength(e,n,i[0],i[1]);case"C":return(0,br.getCubicArcLength)([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return(0,br.getQuadraticArcLength)([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":a=0;var h=i[4],v=i[5],p=i[4]+v,m=Math.PI/180;if(Math.abs(h-p)<m&&(m=Math.abs(h-p)),s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),v<0)for(l=h-m;l>p;l-=m)o=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),a+=u.getLineLength(s.x,s.y,o.x,o.y),s=o;else for(l=h+m;l<p;l+=m)o=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),a+=u.getLineLength(s.x,s.y,o.x,o.y),s=o;return o=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],p,0),a+=u.getLineLength(s.x,s.y,o.x,o.y),a}return 0}static convertEndpointToCenterParameterization(e,n,r,i,a,s,o,l,u){var h=u*(Math.PI/180),v=Math.cos(h)*(e-r)/2+Math.sin(h)*(n-i)/2,p=-1*Math.sin(h)*(e-r)/2+Math.cos(h)*(n-i)/2,m=v*v/(o*o)+p*p/(l*l);m>1&&(o*=Math.sqrt(m),l*=Math.sqrt(m));var d=Math.sqrt((o*o*(l*l)-o*o*(p*p)-l*l*(v*v))/(o*o*(p*p)+l*l*(v*v)));a===s&&(d*=-1),isNaN(d)&&(d=0);var _=d*o*p/l,C=d*-l*v/o,y=(e+r)/2+Math.cos(h)*_-Math.sin(h)*C,f=(n+i)/2+Math.sin(h)*_+Math.cos(h)*C,c=function(k){return Math.sqrt(k[0]*k[0]+k[1]*k[1])},g=function(k,b){return(k[0]*b[0]+k[1]*b[1])/(c(k)*c(b))},S=function(k,b){return(k[0]*b[1]<k[1]*b[0]?-1:1)*Math.acos(g(k,b))},x=S([1,0],[(v-_)/o,(p-C)/l]),E=[(v-_)/o,(p-C)/l],w=[(-1*v-_)/o,(-1*p-C)/l],N=S(E,w);return g(E,w)<=-1&&(N=Math.PI),g(E,w)>=1&&(N=0),s===0&&N>0&&(N=N-2*Math.PI),s===1&&N<0&&(N=N+2*Math.PI),[y,f,o,l,x,N,h,s]}}gi.Path=Oe;Oe.prototype.className="Path";Oe.prototype._attrsAffectingSize=["data"];(0,a4._registerNode)(Oe);r4.Factory.addGetterSetter(Oe,"data");Object.defineProperty(Eo,"__esModule",{value:!0});Eo.Arrow=void 0;const To=X,s4=xa,Fp=z,o4=Y,cf=gi;class yr extends s4.Line{_sceneFunc(e){super._sceneFunc(e);var n=Math.PI*2,r=this.points(),i=r,a=this.tension()!==0&&r.length>4;a&&(i=this.getTensionPoints());var s=this.pointerLength(),o=r.length,l,u;if(a){const p=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[o-2],r[o-1]],m=cf.Path.calcLength(i[i.length-4],i[i.length-3],"C",p),d=cf.Path.getPointOnQuadraticBezier(Math.min(1,1-s/m),p[0],p[1],p[2],p[3],p[4],p[5]);l=r[o-2]-d.x,u=r[o-1]-d.y}else l=r[o-2]-r[o-4],u=r[o-1]-r[o-3];var h=(Math.atan2(u,l)+n)%n,v=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[o-2],r[o-1]),e.rotate(h),e.moveTo(0,0),e.lineTo(-s,v/2),e.lineTo(-s,-v/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),a?(l=(i[0]+i[2])/2-r[0],u=(i[1]+i[3])/2-r[1]):(l=r[2]-r[0],u=r[3]-r[1]),e.rotate((Math.atan2(-u,-l)+n)%n),e.moveTo(0,0),e.lineTo(-s,v/2),e.lineTo(-s,-v/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x-n,y:e.y-n,width:e.width+n*2,height:e.height+n*2}}}Eo.Arrow=yr;yr.prototype.className="Arrow";(0,o4._registerNode)(yr);To.Factory.addGetterSetter(yr,"pointerLength",10,(0,Fp.getNumberValidator)());To.Factory.addGetterSetter(yr,"pointerWidth",10,(0,Fp.getNumberValidator)());To.Factory.addGetterSetter(yr,"pointerAtBeginning",!1);To.Factory.addGetterSetter(yr,"pointerAtEnding",!0);var bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.Circle=void 0;const l4=X,u4=Ae,c4=z,h4=Y;class mi extends u4.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}bo.Circle=mi;mi.prototype._centroid=!0;mi.prototype.className="Circle";mi.prototype._attrsAffectingSize=["radius"];(0,h4._registerNode)(mi);l4.Factory.addGetterSetter(mi,"radius",0,(0,c4.getNumberValidator)());var No={};Object.defineProperty(No,"__esModule",{value:!0});No.Ellipse=void 0;const dh=X,d4=Ae,Ap=z,f4=Y;class Kn extends d4.Shape{_sceneFunc(e){var n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}No.Ellipse=Kn;Kn.prototype.className="Ellipse";Kn.prototype._centroid=!0;Kn.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,f4._registerNode)(Kn);dh.Factory.addComponentsGetterSetter(Kn,"radius",["x","y"]);dh.Factory.addGetterSetter(Kn,"radiusX",0,(0,Ap.getNumberValidator)());dh.Factory.addGetterSetter(Kn,"radiusY",0,(0,Ap.getNumberValidator)());var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.Image=void 0;const Wl=Ce,_r=X,p4=Ae,g4=Y,ka=z;class Pt extends p4.Shape{constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),a=this.attrs.image;let s;if(a){const o=this.attrs.cropWidth,l=this.attrs.cropHeight;o&&l?s=[a,this.cropX(),this.cropY(),o,l,0,0,n,r]:s=[a,0,0,n,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?Wl.Util.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),a&&(i&&e.clip(),e.drawImage.apply(e,s))}_hitFunc(e){var n=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?Wl.Util.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,r=null){var i=Wl.Util.createImageElement();i.onload=function(){var a=new Pt({image:i});n(a)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}}Ro.Image=Pt;Pt.prototype.className="Image";(0,g4._registerNode)(Pt);_r.Factory.addGetterSetter(Pt,"cornerRadius",0,(0,ka.getNumberOrArrayOfNumbersValidator)(4));_r.Factory.addGetterSetter(Pt,"image");_r.Factory.addComponentsGetterSetter(Pt,"crop",["x","y","width","height"]);_r.Factory.addGetterSetter(Pt,"cropX",0,(0,ka.getNumberValidator)());_r.Factory.addGetterSetter(Pt,"cropY",0,(0,ka.getNumberValidator)());_r.Factory.addGetterSetter(Pt,"cropWidth",0,(0,ka.getNumberValidator)());_r.Factory.addGetterSetter(Pt,"cropHeight",0,(0,ka.getNumberValidator)());var ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.Tag=ri.Label=void 0;const Mo=X,m4=Ae,v4=fi,fh=z,Lp=Y;var Ip=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],y4="Change.konva",_4="none",Ju="up",Zu="right",ec="down",tc="left",S4=Ip.length;class ph extends v4.Group{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var n=this,r,i=function(){n._sync()};for(r=0;r<S4;r++)e.on(Ip[r]+y4,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e=this.getText(),n=this.getTag(),r,i,a,s,o,l,u;if(e&&n){switch(r=e.width(),i=e.height(),a=n.pointerDirection(),s=n.pointerWidth(),u=n.pointerHeight(),o=0,l=0,a){case Ju:o=r/2,l=-1*u;break;case Zu:o=r+s,l=i/2;break;case ec:o=r/2,l=i+u;break;case tc:o=-1*s,l=i/2;break}n.setAttrs({x:-1*o,y:-1*l,width:r,height:i}),e.setAttrs({x:-1*o,y:-1*l})}}}ri.Label=ph;ph.prototype.className="Label";(0,Lp._registerNode)(ph);class Sr extends m4.Shape{_sceneFunc(e){var n=this.width(),r=this.height(),i=this.pointerDirection(),a=this.pointerWidth(),s=this.pointerHeight(),o=this.cornerRadius();let l=0,u=0,h=0,v=0;typeof o=="number"?l=u=h=v=Math.min(o,n/2,r/2):(l=Math.min(o[0]||0,n/2,r/2),u=Math.min(o[1]||0,n/2,r/2),v=Math.min(o[2]||0,n/2,r/2),h=Math.min(o[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(l,0),i===Ju&&(e.lineTo((n-a)/2,0),e.lineTo(n/2,-1*s),e.lineTo((n+a)/2,0)),e.lineTo(n-u,0),e.arc(n-u,u,u,Math.PI*3/2,0,!1),i===Zu&&(e.lineTo(n,(r-s)/2),e.lineTo(n+a,r/2),e.lineTo(n,(r+s)/2)),e.lineTo(n,r-v),e.arc(n-v,r-v,v,0,Math.PI/2,!1),i===ec&&(e.lineTo((n+a)/2,r),e.lineTo(n/2,r+s),e.lineTo((n-a)/2,r)),e.lineTo(h,r),e.arc(h,r-h,h,Math.PI/2,Math.PI,!1),i===tc&&(e.lineTo(0,(r+s)/2),e.lineTo(-1*a,r/2),e.lineTo(0,(r-s)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,n=0,r=this.pointerWidth(),i=this.pointerHeight(),a=this.pointerDirection(),s=this.width(),o=this.height();return a===Ju?(n-=i,o+=i):a===ec?o+=i:a===tc?(e-=r*1.5,s+=r):a===Zu&&(s+=r*1.5),{x:e,y:n,width:s,height:o}}}ri.Tag=Sr;Sr.prototype.className="Tag";(0,Lp._registerNode)(Sr);Mo.Factory.addGetterSetter(Sr,"pointerDirection",_4);Mo.Factory.addGetterSetter(Sr,"pointerWidth",0,(0,fh.getNumberValidator)());Mo.Factory.addGetterSetter(Sr,"pointerHeight",0,(0,fh.getNumberValidator)());Mo.Factory.addGetterSetter(Sr,"cornerRadius",0,(0,fh.getNumberOrArrayOfNumbersValidator)(4));var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.Rect=void 0;const C4=X,w4=Ae,x4=Y,k4=Ce,E4=z;class Oo extends w4.Shape{_sceneFunc(e){var n=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),n?k4.Util.drawRoundedRectPath(e,r,i,n):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}}Ea.Rect=Oo;Oo.prototype.className="Rect";(0,x4._registerNode)(Oo);C4.Factory.addGetterSetter(Oo,"cornerRadius",0,(0,E4.getNumberOrArrayOfNumbersValidator)(4));var Do={};Object.defineProperty(Do,"__esModule",{value:!0});Do.RegularPolygon=void 0;const Up=X,P4=Ae,Gp=z,T4=Y;class Cr extends P4.Shape{_sceneFunc(e){const n=this._getPoints();e.beginPath(),e.moveTo(n[0].x,n[0].y);for(var r=1;r<n.length;r++)e.lineTo(n[r].x,n[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(var i=0;i<e;i++)r.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();var n=e[0].x,r=e[0].y,i=e[0].x,a=e[0].y;return e.forEach(s=>{n=Math.min(n,s.x),r=Math.max(r,s.x),i=Math.min(i,s.y),a=Math.max(a,s.y)}),{x:n,y:i,width:r-n,height:a-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Do.RegularPolygon=Cr;Cr.prototype.className="RegularPolygon";Cr.prototype._centroid=!0;Cr.prototype._attrsAffectingSize=["radius"];(0,T4._registerNode)(Cr);Up.Factory.addGetterSetter(Cr,"radius",0,(0,Gp.getNumberValidator)());Up.Factory.addGetterSetter(Cr,"sides",0,(0,Gp.getNumberValidator)());var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.Ring=void 0;const jp=X,b4=Ae,zp=z,N4=Y;var hf=Math.PI*2;class wr extends b4.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,hf,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),hf,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Fo.Ring=wr;wr.prototype.className="Ring";wr.prototype._centroid=!0;wr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,N4._registerNode)(wr);jp.Factory.addGetterSetter(wr,"innerRadius",0,(0,zp.getNumberValidator)());jp.Factory.addGetterSetter(wr,"outerRadius",0,(0,zp.getNumberValidator)());var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.Sprite=void 0;const xr=X,R4=Ae,M4=pi,Vp=z,O4=Y;class Xt extends R4.Shape{constructor(e){super(e),this._updated=!0,this.anim=new M4.Animation(()=>{var n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var n=this.animation(),r=this.frameIndex(),i=r*4,a=this.animations()[n],s=this.frameOffsets(),o=a[i+0],l=a[i+1],u=a[i+2],h=a[i+3],v=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,u,h),e.closePath(),e.fillStrokeShape(this)),v)if(s){var p=s[n],m=r*2;e.drawImage(v,o,l,u,h,p[m+0],p[m+1],u,h)}else e.drawImage(v,o,l,u,h,0,0,u,h)}_hitFunc(e){var n=this.animation(),r=this.frameIndex(),i=r*4,a=this.animations()[n],s=this.frameOffsets(),o=a[i+2],l=a[i+3];if(e.beginPath(),s){var u=s[n],h=r*2;e.rect(u[h+0],u[h+1],o,l)}else e.rect(0,0,o,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),n=this.animation(),r=this.animations(),i=r[n],a=i.length/4;e<a-1?this.frameIndex(e+1):this.frameIndex(0)}}Ao.Sprite=Xt;Xt.prototype.className="Sprite";(0,O4._registerNode)(Xt);xr.Factory.addGetterSetter(Xt,"animation");xr.Factory.addGetterSetter(Xt,"animations");xr.Factory.addGetterSetter(Xt,"frameOffsets");xr.Factory.addGetterSetter(Xt,"image");xr.Factory.addGetterSetter(Xt,"frameIndex",0,(0,Vp.getNumberValidator)());xr.Factory.addGetterSetter(Xt,"frameRate",17,(0,Vp.getNumberValidator)());xr.Factory.backCompat(Xt,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.Star=void 0;const gh=X,D4=Ae,mh=z,F4=Y;class Xn extends D4.Shape{_sceneFunc(e){var n=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(var a=1;a<i*2;a++){var s=a%2===0?r:n,o=s*Math.sin(a*Math.PI/i),l=-1*s*Math.cos(a*Math.PI/i);e.lineTo(o,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Lo.Star=Xn;Xn.prototype.className="Star";Xn.prototype._centroid=!0;Xn.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,F4._registerNode)(Xn);gh.Factory.addGetterSetter(Xn,"numPoints",5,(0,mh.getNumberValidator)());gh.Factory.addGetterSetter(Xn,"innerRadius",0,(0,mh.getNumberValidator)());gh.Factory.addGetterSetter(Xn,"outerRadius",0,(0,mh.getNumberValidator)());var dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.Text=dr.stringToArray=void 0;const nc=Ce,Ye=X,A4=Ae,Yn=z,L4=Y;function $p(t){return Array.from(t)}dr.stringToArray=$p;var Nr="auto",I4="center",Bp="inherit",bi="justify",U4="Change.konva",G4="2d",df="-",Hp="left",j4="text",z4="Text",V4="top",$4="bottom",ff="middle",Wp="normal",B4="px ",Ya=" ",H4="right",pf="rtl",W4="word",K4="char",gf="none",Kl="…",Kp=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],X4=Kp.length;function Y4(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}var Qa;function Xl(){return Qa||(Qa=nc.Util.createCanvasElement().getContext(G4),Qa)}function Q4(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function q4(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function J4(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class Ee extends A4.Shape{constructor(e){super(J4(e)),this._partialTextX=0,this._partialTextY=0;for(var n=0;n<X4;n++)this.on(Kp[n]+U4,this._setTextData);this._setTextData()}_sceneFunc(e){var n=this.textArr,r=n.length;if(this.text()){var i=this.padding(),a=this.fontSize(),s=this.lineHeight()*a,o=this.verticalAlign(),l=this.direction(),u=0,h=this.align(),v=this.getWidth(),p=this.letterSpacing(),m=this.fill(),d=this.textDecoration(),_=d.indexOf("underline")!==-1,C=d.indexOf("line-through")!==-1,y;l=l===Bp?e.direction:l;var f=0,f=s/2,c=0,g=0;for(l===pf&&e.setAttr("direction",l),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",ff),e.setAttr("textAlign",Hp),o===ff?u=(this.getHeight()-r*s-i*2)/2:o===$4&&(u=this.getHeight()-r*s-i*2),e.translate(i,u+i),y=0;y<r;y++){var c=0,g=0,S=n[y],x=S.text,E=S.width,w=S.lastInParagraph,N,k,b;if(e.save(),h===H4?c+=v-E-i*2:h===I4&&(c+=(v-E-i*2)/2),_){e.save(),e.beginPath(),e.moveTo(c,f+g+Math.round(a/2)),N=x.split(" ").length-1,k=N===0,b=h===bi&&!w?v-i*2:E,e.lineTo(c+Math.round(b),f+g+Math.round(a/2)),e.lineWidth=a/15;const K=this._getLinearGradient();e.strokeStyle=K||m,e.stroke(),e.restore()}if(C){e.save(),e.beginPath(),e.moveTo(c,f+g),N=x.split(" ").length-1,k=N===0,b=h===bi&&w&&!k?v-i*2:E,e.lineTo(c+Math.round(b),f+g),e.lineWidth=a/15;const K=this._getLinearGradient();e.strokeStyle=K||m,e.stroke(),e.restore()}if(l!==pf&&(p!==0||h===bi)){N=x.split(" ").length-1;for(var A=$p(x),F=0;F<A.length;F++){var V=A[F];V===" "&&!w&&h===bi&&(c+=(v-i*2-E)/N),this._partialTextX=c,this._partialTextY=f+g,this._partialText=V,e.fillStrokeShape(this),c+=this.measureSize(V).width+p}}else p!==0&&e.setAttr("letterSpacing",`${p}px`),this._partialTextX=c,this._partialTextY=f+g,this._partialText=x,e.fillStrokeShape(this);e.restore(),r>1&&(f+=s)}}}_hitFunc(e){var n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){var n=nc.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(j4,n),this}getWidth(){var e=this.attrs.width===Nr||this.attrs.width===void 0;return e?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var e=this.attrs.height===Nr||this.attrs.height===void 0;return e?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return nc.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n=Xl(),r=this.fontSize(),i;return n.save(),n.font=this._getContextFont(),i=n.measureText(e),n.restore(),{width:i.width,height:r}}_getContextFont(){return this.fontStyle()+Ya+this.fontVariant()+Ya+(this.fontSize()+B4)+Y4(this.fontFamily())}_addTextLine(e){this.align()===bi&&(e=e.trim());var r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){var n=this.letterSpacing(),r=e.length;return Xl().measureText(e).width+(r?n*(r-1):0)}_setTextData(){var e=this.text().split(`
`),n=+this.fontSize(),r=0,i=this.lineHeight()*n,a=this.attrs.width,s=this.attrs.height,o=a!==Nr&&a!==void 0,l=s!==Nr&&s!==void 0,u=this.padding(),h=a-u*2,v=s-u*2,p=0,m=this.wrap(),d=m!==gf,_=m!==K4&&d,C=this.ellipsis();this.textArr=[],Xl().font=this._getContextFont();for(var y=C?this._getTextWidth(Kl):0,f=0,c=e.length;f<c;++f){var g=e[f],S=this._getTextWidth(g);if(o&&S>h)for(;g.length>0;){for(var x=0,E=g.length,w="",N=0;x<E;){var k=x+E>>>1,b=g.slice(0,k+1),A=this._getTextWidth(b)+y;A<=h?(x=k+1,w=b,N=A):E=k}if(w){if(_){var F,V=g[w.length],U=V===Ya||V===df;U&&N<=h?F=w.length:F=Math.max(w.lastIndexOf(Ya),w.lastIndexOf(df))+1,F>0&&(x=F,w=w.slice(0,x),N=this._getTextWidth(w))}w=w.trimRight(),this._addTextLine(w),r=Math.max(r,N),p+=i;var W=this._shouldHandleEllipsis(p);if(W){this._tryToAddEllipsisToLastLine();break}if(g=g.slice(x),g=g.trimLeft(),g.length>0&&(S=this._getTextWidth(g),S<=h)){this._addTextLine(g),p+=i,r=Math.max(r,S);break}}else break}else this._addTextLine(g),p+=i,r=Math.max(r,S),this._shouldHandleEllipsis(p)&&f<c-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&p+i>v)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){var n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,a=i!==Nr&&i!==void 0,s=this.padding(),o=i-s*2,l=this.wrap(),u=l!==gf;return!u||a&&e+r>o}_tryToAddEllipsisToLastLine(){var e=this.attrs.width,n=e!==Nr&&e!==void 0,r=this.padding(),i=e-r*2,a=this.ellipsis(),s=this.textArr[this.textArr.length-1];if(!(!s||!a)){if(n){var o=this._getTextWidth(s.text+Kl)<i;o||(s.text=s.text.slice(0,s.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+Kl)}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}}dr.Text=Ee;Ee.prototype._fillFunc=Q4;Ee.prototype._strokeFunc=q4;Ee.prototype.className=z4;Ee.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,L4._registerNode)(Ee);Ye.Factory.overWriteSetter(Ee,"width",(0,Yn.getNumberOrAutoValidator)());Ye.Factory.overWriteSetter(Ee,"height",(0,Yn.getNumberOrAutoValidator)());Ye.Factory.addGetterSetter(Ee,"direction",Bp);Ye.Factory.addGetterSetter(Ee,"fontFamily","Arial");Ye.Factory.addGetterSetter(Ee,"fontSize",12,(0,Yn.getNumberValidator)());Ye.Factory.addGetterSetter(Ee,"fontStyle",Wp);Ye.Factory.addGetterSetter(Ee,"fontVariant",Wp);Ye.Factory.addGetterSetter(Ee,"padding",0,(0,Yn.getNumberValidator)());Ye.Factory.addGetterSetter(Ee,"align",Hp);Ye.Factory.addGetterSetter(Ee,"verticalAlign",V4);Ye.Factory.addGetterSetter(Ee,"lineHeight",1,(0,Yn.getNumberValidator)());Ye.Factory.addGetterSetter(Ee,"wrap",W4);Ye.Factory.addGetterSetter(Ee,"ellipsis",!1,(0,Yn.getBooleanValidator)());Ye.Factory.addGetterSetter(Ee,"letterSpacing",0,(0,Yn.getNumberValidator)());Ye.Factory.addGetterSetter(Ee,"text","",(0,Yn.getStringValidator)());Ye.Factory.addGetterSetter(Ee,"textDecoration","");var Io={};Object.defineProperty(Io,"__esModule",{value:!0});Io.TextPath=void 0;const Yl=Ce,Ut=X,Z4=Ae,Ni=gi,Ql=dr,Xp=z,e6=Y;var t6="",Yp="normal";function Qp(t){t.fillText(this.partialText,0,0)}function qp(t){t.strokeText(this.partialText,0,0)}class Le extends Z4.Shape{constructor(e){super(e),this.dummyCanvas=Yl.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Ni.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e-1>n?null:Ni.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Ni.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var n=this.textDecoration(),r=this.fill(),i=this.fontSize(),a=this.glyphInfo;n==="underline"&&e.beginPath();for(var s=0;s<a.length;s++){e.save();var o=a[s].p0;e.translate(o.x,o.y),e.rotate(a[s].rotation),this.partialText=a[s].text,e.fillStrokeShape(this),n==="underline"&&(s===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var n=this.glyphInfo;if(n.length>=1){var r=n[0].p0;e.moveTo(r.x,r.y)}for(var i=0;i<n.length;i++){var a=n[i].p1;e.lineTo(a.x,a.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Yl.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Ql.Text.prototype.setText.call(this,e)}_getContextFont(){return Ql.Text.prototype._getContextFont.call(this)}_getTextSize(e){var n=this.dummyCanvas,r=n.getContext("2d");r.save(),r.font=this._getContextFont();var i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:n}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=n,this.glyphInfo=[],!this.attrs.data)return null;const r=this.letterSpacing(),i=this.align(),a=this.kerningFunc(),s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);let o=0;i==="center"&&(o=Math.max(0,this.pathLength/2-s/2)),i==="right"&&(o=Math.max(0,this.pathLength-s));const l=(0,Ql.stringToArray)(this.text());let u=o;for(var h=0;h<l.length;h++){const v=this._getPointAtLength(u);if(!v)return;let p=this._getTextSize(l[h]).width+r;if(l[h]===" "&&i==="justify"){const f=this.text().split(" ").length-1;p+=(this.pathLength-s)/f}const m=this._getPointAtLength(u+p);if(!m)return;const d=Ni.Path.getLineLength(v.x,v.y,m.x,m.y);let _=0;if(a)try{_=a(l[h-1],l[h])*this.fontSize()}catch{_=0}v.x+=_,m.x+=_,this.textWidth+=_;const C=Ni.Path.getPointOnLine(_+d/2,v.x,v.y,m.x,m.y),y=Math.atan2(m.y-v.y,m.x-v.x);this.glyphInfo.push({transposeX:C.x,transposeY:C.y,text:l[h],rotation:y,p0:v,p1:m}),u+=p}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(h){e.push(h.p0.x),e.push(h.p0.y),e.push(h.p1.x),e.push(h.p1.y)});for(var n=e[0]||0,r=e[0]||0,i=e[1]||0,a=e[1]||0,s,o,l=0;l<e.length/2;l++)s=e[l*2],o=e[l*2+1],n=Math.min(n,s),r=Math.max(r,s),i=Math.min(i,o),a=Math.max(a,o);var u=this.fontSize();return{x:n-u/2,y:i-u/2,width:r-n+u,height:a-i+u}}destroy(){return Yl.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}Io.TextPath=Le;Le.prototype._fillFunc=Qp;Le.prototype._strokeFunc=qp;Le.prototype._fillFuncHit=Qp;Le.prototype._strokeFuncHit=qp;Le.prototype.className="TextPath";Le.prototype._attrsAffectingSize=["text","fontSize","data"];(0,e6._registerNode)(Le);Ut.Factory.addGetterSetter(Le,"data");Ut.Factory.addGetterSetter(Le,"fontFamily","Arial");Ut.Factory.addGetterSetter(Le,"fontSize",12,(0,Xp.getNumberValidator)());Ut.Factory.addGetterSetter(Le,"fontStyle",Yp);Ut.Factory.addGetterSetter(Le,"align","left");Ut.Factory.addGetterSetter(Le,"letterSpacing",0,(0,Xp.getNumberValidator)());Ut.Factory.addGetterSetter(Le,"textBaseline","middle");Ut.Factory.addGetterSetter(Le,"fontVariant",Yp);Ut.Factory.addGetterSetter(Le,"text",t6);Ut.Factory.addGetterSetter(Le,"textDecoration",null);Ut.Factory.addGetterSetter(Le,"kerningFunc",null);var Uo={};Object.defineProperty(Uo,"__esModule",{value:!0});Uo.Transformer=void 0;const se=Ce,ne=X,mf=me,n6=Ae,r6=Ea,vf=fi,Rt=Y,Qn=z,i6=Y;var Jp="tr-konva",a6=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${Jp}`).join(" "),yf="nodesRect",s6=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],o6={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const l6="ontouchstart"in Rt.Konva._global;function u6(t,e,n){if(t==="rotater")return n;e+=se.Util.degToRad(o6[t]||0);var r=(se.Util.radToDeg(e)%360+360)%360;return se.Util._inRange(r,315+22.5,360)||se.Util._inRange(r,0,22.5)?"ns-resize":se.Util._inRange(r,45-22.5,45+22.5)?"nesw-resize":se.Util._inRange(r,90-22.5,90+22.5)?"ew-resize":se.Util._inRange(r,135-22.5,135+22.5)?"nwse-resize":se.Util._inRange(r,180-22.5,180+22.5)?"ns-resize":se.Util._inRange(r,225-22.5,225+22.5)?"nesw-resize":se.Util._inRange(r,270-22.5,270+22.5)?"ew-resize":se.Util._inRange(r,315-22.5,315+22.5)?"nwse-resize":(se.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}var Bs=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],_f=1e8;function c6(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function Zp(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:i}}function h6(t,e){const n=c6(t);return Zp(t,e,n)}function d6(t,e,n){let r=e;for(let i=0;i<t.length;i++){const a=Rt.Konva.getAngle(t[i]),s=Math.abs(a-e)%(Math.PI*2);Math.min(s,Math.PI*2-s)<n&&(r=a)}return r}class ee extends vf.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(a6,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return se.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Jp+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(se.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const a=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},s=i._attrsAffectingSize.map(o=>o+"Change."+this._getEventNamespace()).join(" ");i.on(s,a),i.on(s6.map(o=>o+`.${this._getEventNamespace()}`).join(" "),a),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,a),this._proxyDrag(i)}),this._resetTransformCache();var r=!!this.findOne(".top-left");return r&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const i=e.getAbsolutePosition(),a=i.x-n.x,s=i.y-n.y;this.nodes().forEach(o=>{if(o===e||o.isDragging())return;const l=o.getAbsolutePosition();o.setAbsolutePosition({x:l.x+a,y:l.y+s}),o.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(yf),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(yf,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){var i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),a=e.getAbsoluteScale(r),s=e.getAbsolutePosition(r),o=i.x*a.x-e.offsetX()*a.x,l=i.y*a.y-e.offsetY()*a.y;const u=(Rt.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),h={x:s.x+o*Math.cos(u)+l*Math.sin(-u),y:s.y+l*Math.cos(u)+o*Math.sin(u),width:i.width*a.x,height:i.height*a.y,rotation:u};return Zp(h,-Rt.Konva.getAngle(n),{x:0,y:0})}__getNodeRect(){var e=this.getNode();if(!e)return{x:-_f,y:-_f,width:0,height:0,rotation:0};const n=[];this.nodes().map(u=>{const h=u.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var v=[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}],p=u.getAbsoluteTransform();v.forEach(function(m){var d=p.point(m);n.push(d)})});const r=new se.Transform;r.rotate(-Rt.Konva.getAngle(this.rotation()));var i=1/0,a=1/0,s=-1/0,o=-1/0;n.forEach(function(u){var h=r.point(u);i===void 0&&(i=s=h.x,a=o=h.y),i=Math.min(i,h.x),a=Math.min(a,h.y),s=Math.max(s,h.x),o=Math.max(o,h.y)}),r.invert();const l=r.point({x:i,y:a});return{x:l.x,y:l.y,width:s-i,height:o-a,rotation:Rt.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Bs.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){var n=new r6.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:l6?10:"auto"}),r=this;n.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{var i=Rt.Konva.getAngle(this.rotation()),a=this.rotateAnchorCursor(),s=u6(e,i,a);n.getStage().content&&(n.getStage().content.style.cursor=s),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){var e=new n6.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(n,r){var i=r.getParent(),a=i.padding();n.beginPath(),n.rect(-a,-a,r.width()+a*2,r.height()+a*2),n.moveTo(r.width()/2,-a),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(r.width()/2,-i.rotateAnchorOffset()*se.Util._sign(r.height())-a),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(this.shouldOverdrawWholeArea()){var i=this.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.fillStrokeShape(r)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var n=this._getNodeRect(),r=n.width,i=n.height,a=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/a),this.cos=Math.abs(r/a),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var s=e.target.getAbsolutePosition(),o=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-s.x,y:o.y-s.y},this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){var n,r,i,a=this.findOne("."+this._movingAnchorName),s=a.getStage();s.setPointersPositions(e);const o=s.getPointerPosition();let l={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const u=a.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(u,l,e)),a.setAbsolutePosition(l);const h=a.getAbsolutePosition();if(!(u.x===h.x&&u.y===h.y)){if(this._movingAnchorName==="rotater"){var v=this._getNodeRect();n=a.x()-v.width/2,r=-a.y()+v.height/2;let F=Math.atan2(-r,n)+Math.PI/2;v.height<0&&(F-=Math.PI);var p=Rt.Konva.getAngle(this.rotation());const V=p+F,U=Rt.Konva.getAngle(this.rotationSnapTolerance()),K=d6(this.rotationSnaps(),V,U)-v.rotation,R=h6(v,K);this._fitNodesInto(R,e);return}var m=this.shiftBehavior(),d;m==="inverted"?d=this.keepRatio()&&!e.shiftKey:m==="none"?d=this.keepRatio():d=this.keepRatio()||e.shiftKey;var c=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(d){var _=c?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(_.x-a.x(),2)+Math.pow(_.y-a.y(),2));var C=this.findOne(".top-left").x()>_.x?-1:1,y=this.findOne(".top-left").y()>_.y?-1:1;n=i*this.cos*C,r=i*this.sin*y,this.findOne(".top-left").x(_.x-n),this.findOne(".top-left").y(_.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(a.y());else if(this._movingAnchorName==="top-right"){if(d){var _=c?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(a.x()-_.x,2)+Math.pow(_.y-a.y(),2));var C=this.findOne(".top-right").x()<_.x?-1:1,y=this.findOne(".top-right").y()>_.y?-1:1;n=i*this.cos*C,r=i*this.sin*y,this.findOne(".top-right").x(_.x+n),this.findOne(".top-right").y(_.y-r)}var f=a.position();this.findOne(".top-left").y(f.y),this.findOne(".bottom-right").x(f.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(a.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(a.x());else if(this._movingAnchorName==="bottom-left"){if(d){var _=c?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(_.x-a.x(),2)+Math.pow(a.y()-_.y,2));var C=_.x<a.x()?-1:1,y=a.y()<_.y?-1:1;n=i*this.cos*C,r=i*this.sin*y,a.x(_.x-n),a.y(_.y+r)}f=a.position(),this.findOne(".top-left").x(f.x),this.findOne(".bottom-right").y(f.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(a.y());else if(this._movingAnchorName==="bottom-right"){if(d){var _=c?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(a.x()-_.x,2)+Math.pow(a.y()-_.y,2));var C=this.findOne(".bottom-right").x()<_.x?-1:1,y=this.findOne(".bottom-right").y()<_.y?-1:1;n=i*this.cos*C,r=i*this.sin*y,this.findOne(".bottom-right").x(_.x+n),this.findOne(".bottom-right").y(_.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var c=this.centeredScaling()||e.altKey;if(c){var g=this.findOne(".top-left"),S=this.findOne(".bottom-right"),x=g.x(),E=g.y(),w=this.getWidth()-S.x(),N=this.getHeight()-S.y();S.move({x:-x,y:-E}),g.move({x:w,y:N})}var k=this.findOne(".top-left").getAbsolutePosition();n=k.x,r=k.y;var b=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),A=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:b,height:A,rotation:Rt.Konva.getAngle(this.rotation())},e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var n=this.getNode();this._fire("transformend",{evt:e,target:n}),n&&this._nodes.forEach(r=>{r._fire("transformend",{evt:e,target:r})}),this._movingAnchorName=null}}_fitNodesInto(e,n){var r=this._getNodeRect();const i=1;if(se.Util._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(se.Util._inRange(e.height,-this.padding()*2-i,i)){this.update();return}var a=new se.Transform;if(a.rotate(Rt.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const p=a.point({x:-this.padding()*2,y:0});e.x+=p.x,e.y+=p.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const p=a.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const p=a.point({x:0,y:-this.padding()*2});e.x+=p.x,e.y+=p.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const p=a.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const p=this.boundBoxFunc()(r,e);p?e=p:se.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const s=1e7,o=new se.Transform;o.translate(r.x,r.y),o.rotate(r.rotation),o.scale(r.width/s,r.height/s);const l=new se.Transform,u=e.width/s,h=e.height/s;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(u),Math.abs(h))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(u,h));const v=l.multiply(o.invert());this._nodes.forEach(p=>{var m;const d=p.getParent().getAbsoluteTransform(),_=p.getTransform().copy();_.translate(p.offsetX(),p.offsetY());const C=new se.Transform;C.multiply(d.copy().invert()).multiply(v).multiply(d).multiply(_);const y=C.decompose();p.setAttrs(y),this._fire("transform",{evt:n,target:p}),p._fire("transform",{evt:n,target:p}),(m=p.getLayer())===null||m===void 0||m.batchDraw()}),this.rotation(se.Util._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e,n=this._getNodeRect();this.rotation(se.Util._getRotation(n.rotation));var r=n.width,i=n.height,a=this.enabledAnchors(),s=this.resizeEnabled(),o=this.padding(),l=this.anchorSize();const u=this.find("._anchor");u.forEach(v=>{v.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+o,offsetY:l/2+o,visible:s&&a.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+o,visible:s&&a.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-o,offsetY:l/2+o,visible:s&&a.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+o,visible:s&&a.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-o,visible:s&&a.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+o,offsetY:l/2-o,visible:s&&a.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-o,visible:s&&a.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-o,offsetY:l/2-o,visible:s&&a.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*se.Util._sign(i)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const h=this.anchorStyleFunc();h&&u.forEach(v=>{h(v)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),vf.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return mf.Node.prototype.toObject.call(this)}clone(e){var n=mf.Node.prototype.clone.call(this,e);return n}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Uo.Transformer=ee;function f6(t){return t instanceof Array||se.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){Bs.indexOf(e)===-1&&se.Util.warn("Unknown anchor name: "+e+". Available names are: "+Bs.join(", "))}),t||[]}ee.prototype.className="Transformer";(0,i6._registerNode)(ee);ne.Factory.addGetterSetter(ee,"enabledAnchors",Bs,f6);ne.Factory.addGetterSetter(ee,"flipEnabled",!0,(0,Qn.getBooleanValidator)());ne.Factory.addGetterSetter(ee,"resizeEnabled",!0);ne.Factory.addGetterSetter(ee,"anchorSize",10,(0,Qn.getNumberValidator)());ne.Factory.addGetterSetter(ee,"rotateEnabled",!0);ne.Factory.addGetterSetter(ee,"rotateLineVisible",!0);ne.Factory.addGetterSetter(ee,"rotationSnaps",[]);ne.Factory.addGetterSetter(ee,"rotateAnchorOffset",50,(0,Qn.getNumberValidator)());ne.Factory.addGetterSetter(ee,"rotateAnchorCursor","crosshair");ne.Factory.addGetterSetter(ee,"rotationSnapTolerance",5,(0,Qn.getNumberValidator)());ne.Factory.addGetterSetter(ee,"borderEnabled",!0);ne.Factory.addGetterSetter(ee,"anchorStroke","rgb(0, 161, 255)");ne.Factory.addGetterSetter(ee,"anchorStrokeWidth",1,(0,Qn.getNumberValidator)());ne.Factory.addGetterSetter(ee,"anchorFill","white");ne.Factory.addGetterSetter(ee,"anchorCornerRadius",0,(0,Qn.getNumberValidator)());ne.Factory.addGetterSetter(ee,"borderStroke","rgb(0, 161, 255)");ne.Factory.addGetterSetter(ee,"borderStrokeWidth",1,(0,Qn.getNumberValidator)());ne.Factory.addGetterSetter(ee,"borderDash");ne.Factory.addGetterSetter(ee,"keepRatio",!0);ne.Factory.addGetterSetter(ee,"shiftBehavior","default");ne.Factory.addGetterSetter(ee,"centeredScaling",!1);ne.Factory.addGetterSetter(ee,"ignoreStroke",!1);ne.Factory.addGetterSetter(ee,"padding",0,(0,Qn.getNumberValidator)());ne.Factory.addGetterSetter(ee,"node");ne.Factory.addGetterSetter(ee,"nodes");ne.Factory.addGetterSetter(ee,"boundBoxFunc");ne.Factory.addGetterSetter(ee,"anchorDragBoundFunc");ne.Factory.addGetterSetter(ee,"anchorStyleFunc");ne.Factory.addGetterSetter(ee,"shouldOverdrawWholeArea",!1);ne.Factory.addGetterSetter(ee,"useSingleNodeRotation",!0);ne.Factory.backCompat(ee,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var Go={};Object.defineProperty(Go,"__esModule",{value:!0});Go.Wedge=void 0;const jo=X,p6=Ae,g6=Y,eg=z,m6=Y;class gn extends p6.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,g6.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Go.Wedge=gn;gn.prototype.className="Wedge";gn.prototype._centroid=!0;gn.prototype._attrsAffectingSize=["radius"];(0,m6._registerNode)(gn);jo.Factory.addGetterSetter(gn,"radius",0,(0,eg.getNumberValidator)());jo.Factory.addGetterSetter(gn,"angle",0,(0,eg.getNumberValidator)());jo.Factory.addGetterSetter(gn,"clockwise",!1);jo.Factory.backCompat(gn,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var zo={};Object.defineProperty(zo,"__esModule",{value:!0});zo.Blur=void 0;const Sf=X,v6=me,y6=z;function Cf(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var _6=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],S6=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function C6(t,e){var n=t.data,r=t.width,i=t.height,a,s,o,l,u,h,v,p,m,d,_,C,y,f,c,g,S,x,E,w,N,k,b,A,F=e+e+1,V=r-1,U=i-1,W=e+1,K=W*(W+1)/2,R=new Cf,G=null,O=R,L=null,B=null,re=_6[e],Z=S6[e];for(o=1;o<F;o++)O=O.next=new Cf,o===W&&(G=O);for(O.next=R,v=h=0,s=0;s<i;s++){for(g=S=x=E=p=m=d=_=0,C=W*(w=n[h]),y=W*(N=n[h+1]),f=W*(k=n[h+2]),c=W*(b=n[h+3]),p+=K*w,m+=K*N,d+=K*k,_+=K*b,O=R,o=0;o<W;o++)O.r=w,O.g=N,O.b=k,O.a=b,O=O.next;for(o=1;o<W;o++)l=h+((V<o?V:o)<<2),p+=(O.r=w=n[l])*(A=W-o),m+=(O.g=N=n[l+1])*A,d+=(O.b=k=n[l+2])*A,_+=(O.a=b=n[l+3])*A,g+=w,S+=N,x+=k,E+=b,O=O.next;for(L=R,B=G,a=0;a<r;a++)n[h+3]=b=_*re>>Z,b!==0?(b=255/b,n[h]=(p*re>>Z)*b,n[h+1]=(m*re>>Z)*b,n[h+2]=(d*re>>Z)*b):n[h]=n[h+1]=n[h+2]=0,p-=C,m-=y,d-=f,_-=c,C-=L.r,y-=L.g,f-=L.b,c-=L.a,l=v+((l=a+e+1)<V?l:V)<<2,g+=L.r=n[l],S+=L.g=n[l+1],x+=L.b=n[l+2],E+=L.a=n[l+3],p+=g,m+=S,d+=x,_+=E,L=L.next,C+=w=B.r,y+=N=B.g,f+=k=B.b,c+=b=B.a,g-=w,S-=N,x-=k,E-=b,B=B.next,h+=4;v+=r}for(a=0;a<r;a++){for(S=x=E=g=m=d=_=p=0,h=a<<2,C=W*(w=n[h]),y=W*(N=n[h+1]),f=W*(k=n[h+2]),c=W*(b=n[h+3]),p+=K*w,m+=K*N,d+=K*k,_+=K*b,O=R,o=0;o<W;o++)O.r=w,O.g=N,O.b=k,O.a=b,O=O.next;for(u=r,o=1;o<=e;o++)h=u+a<<2,p+=(O.r=w=n[h])*(A=W-o),m+=(O.g=N=n[h+1])*A,d+=(O.b=k=n[h+2])*A,_+=(O.a=b=n[h+3])*A,g+=w,S+=N,x+=k,E+=b,O=O.next,o<U&&(u+=r);for(h=a,L=R,B=G,s=0;s<i;s++)l=h<<2,n[l+3]=b=_*re>>Z,b>0?(b=255/b,n[l]=(p*re>>Z)*b,n[l+1]=(m*re>>Z)*b,n[l+2]=(d*re>>Z)*b):n[l]=n[l+1]=n[l+2]=0,p-=C,m-=y,d-=f,_-=c,C-=L.r,y-=L.g,f-=L.b,c-=L.a,l=a+((l=s+W)<U?l:U)*r<<2,p+=g+=L.r=n[l],m+=S+=L.g=n[l+1],d+=x+=L.b=n[l+2],_+=E+=L.a=n[l+3],L=L.next,C+=w=B.r,y+=N=B.g,f+=k=B.b,c+=b=B.a,g-=w,S-=N,x-=k,E-=b,B=B.next,h+=r}}const w6=function(e){var n=Math.round(this.blurRadius());n>0&&C6(e,n)};zo.Blur=w6;Sf.Factory.addGetterSetter(v6.Node,"blurRadius",0,(0,y6.getNumberValidator)(),Sf.Factory.afterSetFilter);var Vo={};Object.defineProperty(Vo,"__esModule",{value:!0});Vo.Brighten=void 0;const wf=X,x6=me,k6=z,E6=function(t){var e=this.brightness()*255,n=t.data,r=n.length,i;for(i=0;i<r;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};Vo.Brighten=E6;wf.Factory.addGetterSetter(x6.Node,"brightness",0,(0,k6.getNumberValidator)(),wf.Factory.afterSetFilter);var $o={};Object.defineProperty($o,"__esModule",{value:!0});$o.Contrast=void 0;const xf=X,P6=me,T6=z,b6=function(t){var e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length,i=150,a=150,s=150,o;for(o=0;o<r;o+=4)i=n[o],a=n[o+1],s=n[o+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,i=i<0?0:i>255?255:i,a=a<0?0:a>255?255:a,s=s<0?0:s>255?255:s,n[o]=i,n[o+1]=a,n[o+2]=s};$o.Contrast=b6;xf.Factory.addGetterSetter(P6.Node,"contrast",0,(0,T6.getNumberValidator)(),xf.Factory.afterSetFilter);var Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.Emboss=void 0;const jn=X,Ho=me,N6=Ce,tg=z,R6=function(t){var e=this.embossStrength()*10,n=this.embossWhiteLevel()*255,r=this.embossDirection(),i=this.embossBlend(),a=0,s=0,o=t.data,l=t.width,u=t.height,h=l*4,v=u;switch(r){case"top-left":a=-1,s=-1;break;case"top":a=-1,s=0;break;case"top-right":a=-1,s=1;break;case"right":a=0,s=1;break;case"bottom-right":a=1,s=1;break;case"bottom":a=1,s=0;break;case"bottom-left":a=1,s=-1;break;case"left":a=0,s=-1;break;default:N6.Util.error("Unknown emboss direction: "+r)}do{var p=(v-1)*h,m=a;v+m<1&&(m=0),v+m>u&&(m=0);var d=(v-1+m)*l*4,_=l;do{var C=p+(_-1)*4,y=s;_+y<1&&(y=0),_+y>l&&(y=0);var f=d+(_-1+y)*4,c=o[C]-o[f],g=o[C+1]-o[f+1],S=o[C+2]-o[f+2],x=c,E=x>0?x:-x,w=g>0?g:-g,N=S>0?S:-S;if(w>E&&(x=g),N>E&&(x=S),x*=e,i){var k=o[C]+x,b=o[C+1]+x,A=o[C+2]+x;o[C]=k>255?255:k<0?0:k,o[C+1]=b>255?255:b<0?0:b,o[C+2]=A>255?255:A<0?0:A}else{var F=n-x;F<0?F=0:F>255&&(F=255),o[C]=o[C+1]=o[C+2]=F}}while(--_)}while(--v)};Bo.Emboss=R6;jn.Factory.addGetterSetter(Ho.Node,"embossStrength",.5,(0,tg.getNumberValidator)(),jn.Factory.afterSetFilter);jn.Factory.addGetterSetter(Ho.Node,"embossWhiteLevel",.5,(0,tg.getNumberValidator)(),jn.Factory.afterSetFilter);jn.Factory.addGetterSetter(Ho.Node,"embossDirection","top-left",null,jn.Factory.afterSetFilter);jn.Factory.addGetterSetter(Ho.Node,"embossBlend",!1,null,jn.Factory.afterSetFilter);var Wo={};Object.defineProperty(Wo,"__esModule",{value:!0});Wo.Enhance=void 0;const kf=X,M6=me,O6=z;function ql(t,e,n,r,i){var a=n-e,s=i-r,o;return a===0?r+s/2:s===0?r:(o=(t-e)/a,o=s*o+r,o)}const D6=function(t){var e=t.data,n=e.length,r=e[0],i=r,a,s=e[1],o=s,l,u=e[2],h=u,v,p,m=this.enhance();if(m!==0){for(p=0;p<n;p+=4)a=e[p+0],a<r?r=a:a>i&&(i=a),l=e[p+1],l<s?s=l:l>o&&(o=l),v=e[p+2],v<u?u=v:v>h&&(h=v);i===r&&(i=255,r=0),o===s&&(o=255,s=0),h===u&&(h=255,u=0);var d,_,C,y,f,c,g,S,x;for(m>0?(_=i+m*(255-i),C=r-m*(r-0),f=o+m*(255-o),c=s-m*(s-0),S=h+m*(255-h),x=u-m*(u-0)):(d=(i+r)*.5,_=i+m*(i-d),C=r+m*(r-d),y=(o+s)*.5,f=o+m*(o-y),c=s+m*(s-y),g=(h+u)*.5,S=h+m*(h-g),x=u+m*(u-g)),p=0;p<n;p+=4)e[p+0]=ql(e[p+0],r,i,C,_),e[p+1]=ql(e[p+1],s,o,c,f),e[p+2]=ql(e[p+2],u,h,x,S)}};Wo.Enhance=D6;kf.Factory.addGetterSetter(M6.Node,"enhance",0,(0,O6.getNumberValidator)(),kf.Factory.afterSetFilter);var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});Ko.Grayscale=void 0;const F6=function(t){var e=t.data,n=e.length,r,i;for(r=0;r<n;r+=4)i=.34*e[r]+.5*e[r+1]+.16*e[r+2],e[r]=i,e[r+1]=i,e[r+2]=i};Ko.Grayscale=F6;var Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.HSL=void 0;const ii=X,vh=me,yh=z;ii.Factory.addGetterSetter(vh.Node,"hue",0,(0,yh.getNumberValidator)(),ii.Factory.afterSetFilter);ii.Factory.addGetterSetter(vh.Node,"saturation",0,(0,yh.getNumberValidator)(),ii.Factory.afterSetFilter);ii.Factory.addGetterSetter(vh.Node,"luminance",0,(0,yh.getNumberValidator)(),ii.Factory.afterSetFilter);const A6=function(t){var e=t.data,n=e.length,r=1,i=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,s=this.luminance()*127,o,l=r*i*Math.cos(a*Math.PI/180),u=r*i*Math.sin(a*Math.PI/180),h=.299*r+.701*l+.167*u,v=.587*r-.587*l+.33*u,p=.114*r-.114*l-.497*u,m=.299*r-.299*l-.328*u,d=.587*r+.413*l+.035*u,_=.114*r-.114*l+.293*u,C=.299*r-.3*l+1.25*u,y=.587*r-.586*l-1.05*u,f=.114*r+.886*l-.2*u,c,g,S,x;for(o=0;o<n;o+=4)c=e[o+0],g=e[o+1],S=e[o+2],x=e[o+3],e[o+0]=h*c+v*g+p*S+s,e[o+1]=m*c+d*g+_*S+s,e[o+2]=C*c+y*g+f*S+s,e[o+3]=x};Xo.HSL=A6;var Yo={};Object.defineProperty(Yo,"__esModule",{value:!0});Yo.HSV=void 0;const ai=X,_h=me,Sh=z,L6=function(t){var e=t.data,n=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,s,o=r*i*Math.cos(a*Math.PI/180),l=r*i*Math.sin(a*Math.PI/180),u=.299*r+.701*o+.167*l,h=.587*r-.587*o+.33*l,v=.114*r-.114*o-.497*l,p=.299*r-.299*o-.328*l,m=.587*r+.413*o+.035*l,d=.114*r-.114*o+.293*l,_=.299*r-.3*o+1.25*l,C=.587*r-.586*o-1.05*l,y=.114*r+.886*o-.2*l,f,c,g,S;for(s=0;s<n;s+=4)f=e[s+0],c=e[s+1],g=e[s+2],S=e[s+3],e[s+0]=u*f+h*c+v*g,e[s+1]=p*f+m*c+d*g,e[s+2]=_*f+C*c+y*g,e[s+3]=S};Yo.HSV=L6;ai.Factory.addGetterSetter(_h.Node,"hue",0,(0,Sh.getNumberValidator)(),ai.Factory.afterSetFilter);ai.Factory.addGetterSetter(_h.Node,"saturation",0,(0,Sh.getNumberValidator)(),ai.Factory.afterSetFilter);ai.Factory.addGetterSetter(_h.Node,"value",0,(0,Sh.getNumberValidator)(),ai.Factory.afterSetFilter);var Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.Invert=void 0;const I6=function(t){var e=t.data,n=e.length,r;for(r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};Qo.Invert=I6;var qo={};Object.defineProperty(qo,"__esModule",{value:!0});qo.Kaleidoscope=void 0;const Hs=X,ng=me,Ef=Ce,rg=z;var U6=function(t,e,n){var r=t.data,i=e.data,a=t.width,s=t.height,o=n.polarCenterX||a/2,l=n.polarCenterY||s/2,u,h,v,p=0,m=0,d=0,_=0,C,y=Math.sqrt(o*o+l*l);h=a-o,v=s-l,C=Math.sqrt(h*h+v*v),y=C>y?C:y;var f=s,c=a,g,S,x=360/c*Math.PI/180,E,w;for(S=0;S<c;S+=1)for(E=Math.sin(S*x),w=Math.cos(S*x),g=0;g<f;g+=1)h=Math.floor(o+y*g/f*w),v=Math.floor(l+y*g/f*E),u=(v*a+h)*4,p=r[u+0],m=r[u+1],d=r[u+2],_=r[u+3],u=(S+g*a)*4,i[u+0]=p,i[u+1]=m,i[u+2]=d,i[u+3]=_},G6=function(t,e,n){var r=t.data,i=e.data,a=t.width,s=t.height,o=n.polarCenterX||a/2,l=n.polarCenterY||s/2,u,h,v,p,m,d=0,_=0,C=0,y=0,f,c=Math.sqrt(o*o+l*l);h=a-o,v=s-l,f=Math.sqrt(h*h+v*v),c=f>c?f:c;var g=s,S=a,x,E,w=n.polarRotation||0,N,k;for(h=0;h<a;h+=1)for(v=0;v<s;v+=1)p=h-o,m=v-l,x=Math.sqrt(p*p+m*m)*g/c,E=(Math.atan2(m,p)*180/Math.PI+360+w)%360,E=E*S/360,N=Math.floor(E),k=Math.floor(x),u=(k*a+N)*4,d=r[u+0],_=r[u+1],C=r[u+2],y=r[u+3],u=(v*a+h)*4,i[u+0]=d,i[u+1]=_,i[u+2]=C,i[u+3]=y};const j6=function(t){var e=t.width,n=t.height,r,i,a,s,o,l,u,h,v,p,m=Math.round(this.kaleidoscopePower()),d=Math.round(this.kaleidoscopeAngle()),_=Math.floor(e*(d%360)/360);if(!(m<1)){var C=Ef.Util.createCanvasElement();C.width=e,C.height=n;var y=C.getContext("2d").getImageData(0,0,e,n);Ef.Util.releaseCanvas(C),U6(t,y,{polarCenterX:e/2,polarCenterY:n/2});for(var f=e/Math.pow(2,m);f<=8;)f=f*2,m-=1;f=Math.ceil(f);var c=f,g=0,S=c,x=1;for(_+f>e&&(g=c,S=0,x=-1),i=0;i<n;i+=1)for(r=g;r!==S;r+=x)a=Math.round(r+_)%e,v=(e*i+a)*4,o=y.data[v+0],l=y.data[v+1],u=y.data[v+2],h=y.data[v+3],p=(e*i+r)*4,y.data[p+0]=o,y.data[p+1]=l,y.data[p+2]=u,y.data[p+3]=h;for(i=0;i<n;i+=1)for(c=Math.floor(f),s=0;s<m;s+=1){for(r=0;r<c+1;r+=1)v=(e*i+r)*4,o=y.data[v+0],l=y.data[v+1],u=y.data[v+2],h=y.data[v+3],p=(e*i+c*2-r-1)*4,y.data[p+0]=o,y.data[p+1]=l,y.data[p+2]=u,y.data[p+3]=h;c*=2}G6(y,t,{polarRotation:0})}};qo.Kaleidoscope=j6;Hs.Factory.addGetterSetter(ng.Node,"kaleidoscopePower",2,(0,rg.getNumberValidator)(),Hs.Factory.afterSetFilter);Hs.Factory.addGetterSetter(ng.Node,"kaleidoscopeAngle",0,(0,rg.getNumberValidator)(),Hs.Factory.afterSetFilter);var Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});Jo.Mask=void 0;const Pf=X,z6=me,V6=z;function qa(t,e,n){var r=(n*t.width+e)*4,i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function Ri(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function $6(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function B6(t,e){var n=qa(t,0,0),r=qa(t,t.width-1,0),i=qa(t,0,t.height-1),a=qa(t,t.width-1,t.height-1),s=e||10;if(Ri(n,r)<s&&Ri(r,a)<s&&Ri(a,i)<s&&Ri(i,n)<s){for(var o=$6([r,n,a,i]),l=[],u=0;u<t.width*t.height;u++){var h=Ri(o,[t.data[u*4],t.data[u*4+1],t.data[u*4+2]]);l[u]=h<s?0:255}return l}}function H6(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function W6(t,e,n){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),s=[],o=0;o<n;o++)for(var l=0;l<e;l++){for(var u=o*e+l,h=0,v=0;v<i;v++)for(var p=0;p<i;p++){var m=o+v-a,d=l+p-a;if(m>=0&&m<n&&d>=0&&d<e){var _=m*e+d,C=r[v*i+p];h+=t[_]*C}}s[u]=h===255*8?255:0}return s}function K6(t,e,n){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),s=[],o=0;o<n;o++)for(var l=0;l<e;l++){for(var u=o*e+l,h=0,v=0;v<i;v++)for(var p=0;p<i;p++){var m=o+v-a,d=l+p-a;if(m>=0&&m<n&&d>=0&&d<e){var _=m*e+d,C=r[v*i+p];h+=t[_]*C}}s[u]=h>=255*4?255:0}return s}function X6(t,e,n){for(var r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),s=[],o=0;o<n;o++)for(var l=0;l<e;l++){for(var u=o*e+l,h=0,v=0;v<i;v++)for(var p=0;p<i;p++){var m=o+v-a,d=l+p-a;if(m>=0&&m<n&&d>=0&&d<e){var _=m*e+d,C=r[v*i+p];h+=t[_]*C}}s[u]=h}return s}const Y6=function(t){var e=this.threshold(),n=B6(t,e);return n&&(n=W6(n,t.width,t.height),n=K6(n,t.width,t.height),n=X6(n,t.width,t.height),H6(t,n)),t};Jo.Mask=Y6;Pf.Factory.addGetterSetter(z6.Node,"threshold",0,(0,V6.getNumberValidator)(),Pf.Factory.afterSetFilter);var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.Noise=void 0;const Tf=X,Q6=me,q6=z,J6=function(t){var e=this.noise()*255,n=t.data,r=n.length,i=e/2,a;for(a=0;a<r;a+=4)n[a+0]+=i-2*i*Math.random(),n[a+1]+=i-2*i*Math.random(),n[a+2]+=i-2*i*Math.random()};Zo.Noise=J6;Tf.Factory.addGetterSetter(Q6.Node,"noise",.2,(0,q6.getNumberValidator)(),Tf.Factory.afterSetFilter);var el={};Object.defineProperty(el,"__esModule",{value:!0});el.Pixelate=void 0;const bf=X,Z6=Ce,e8=me,t8=z,n8=function(t){var e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,i,a,s,o,l,u,h,v=Math.ceil(n/e),p=Math.ceil(r/e),m,d,_,C,y,f,c,g=t.data;if(e<=0){Z6.Util.error("pixelSize value can not be <= 0");return}for(y=0;y<v;y+=1)for(f=0;f<p;f+=1){for(o=0,l=0,u=0,h=0,m=y*e,d=m+e,_=f*e,C=_+e,c=0,i=m;i<d;i+=1)if(!(i>=n))for(a=_;a<C;a+=1)a>=r||(s=(n*a+i)*4,o+=g[s+0],l+=g[s+1],u+=g[s+2],h+=g[s+3],c+=1);for(o=o/c,l=l/c,u=u/c,h=h/c,i=m;i<d;i+=1)if(!(i>=n))for(a=_;a<C;a+=1)a>=r||(s=(n*a+i)*4,g[s+0]=o,g[s+1]=l,g[s+2]=u,g[s+3]=h)}};el.Pixelate=n8;bf.Factory.addGetterSetter(e8.Node,"pixelSize",8,(0,t8.getNumberValidator)(),bf.Factory.afterSetFilter);var tl={};Object.defineProperty(tl,"__esModule",{value:!0});tl.Posterize=void 0;const Nf=X,r8=me,i8=z,a8=function(t){var e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,i=255/e,a;for(a=0;a<r;a+=1)n[a]=Math.floor(n[a]/i)*i};tl.Posterize=a8;Nf.Factory.addGetterSetter(r8.Node,"levels",.5,(0,i8.getNumberValidator)(),Nf.Factory.afterSetFilter);var nl={};Object.defineProperty(nl,"__esModule",{value:!0});nl.RGB=void 0;const Ws=X,Ch=me,s8=z,o8=function(t){var e=t.data,n=e.length,r=this.red(),i=this.green(),a=this.blue(),s,o;for(s=0;s<n;s+=4)o=(.34*e[s]+.5*e[s+1]+.16*e[s+2])/255,e[s]=o*r,e[s+1]=o*i,e[s+2]=o*a,e[s+3]=e[s+3]};nl.RGB=o8;Ws.Factory.addGetterSetter(Ch.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Ws.Factory.addGetterSetter(Ch.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Ws.Factory.addGetterSetter(Ch.Node,"blue",0,s8.RGBComponent,Ws.Factory.afterSetFilter);var rl={};Object.defineProperty(rl,"__esModule",{value:!0});rl.RGBA=void 0;const fa=X,il=me,l8=z,u8=function(t){var e=t.data,n=e.length,r=this.red(),i=this.green(),a=this.blue(),s=this.alpha(),o,l;for(o=0;o<n;o+=4)l=1-s,e[o]=r*s+e[o]*l,e[o+1]=i*s+e[o+1]*l,e[o+2]=a*s+e[o+2]*l};rl.RGBA=u8;fa.Factory.addGetterSetter(il.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});fa.Factory.addGetterSetter(il.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});fa.Factory.addGetterSetter(il.Node,"blue",0,l8.RGBComponent,fa.Factory.afterSetFilter);fa.Factory.addGetterSetter(il.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});var al={};Object.defineProperty(al,"__esModule",{value:!0});al.Sepia=void 0;const c8=function(t){var e=t.data,n=e.length,r,i,a,s;for(r=0;r<n;r+=4)i=e[r+0],a=e[r+1],s=e[r+2],e[r+0]=Math.min(255,i*.393+a*.769+s*.189),e[r+1]=Math.min(255,i*.349+a*.686+s*.168),e[r+2]=Math.min(255,i*.272+a*.534+s*.131)};al.Sepia=c8;var sl={};Object.defineProperty(sl,"__esModule",{value:!0});sl.Solarize=void 0;const h8=function(t){var e=t.data,n=t.width,r=t.height,i=n*4,a=r;do{var s=(a-1)*i,o=n;do{var l=s+(o-1)*4,u=e[l],h=e[l+1],v=e[l+2];u>127&&(u=255-u),h>127&&(h=255-h),v>127&&(v=255-v),e[l]=u,e[l+1]=h,e[l+2]=v}while(--o)}while(--a)};sl.Solarize=h8;var ol={};Object.defineProperty(ol,"__esModule",{value:!0});ol.Threshold=void 0;const Rf=X,d8=me,f8=z,p8=function(t){var e=this.threshold()*255,n=t.data,r=n.length,i;for(i=0;i<r;i+=1)n[i]=n[i]<e?0:255};ol.Threshold=p8;Rf.Factory.addGetterSetter(d8.Node,"threshold",.5,(0,f8.getNumberValidator)(),Rf.Factory.afterSetFilter);Object.defineProperty(mo,"__esModule",{value:!0});mo.Konva=void 0;const Mf=xp,g8=wo,m8=Eo,v8=bo,y8=No,_8=Ro,Of=ri,S8=xa,C8=gi,w8=Ea,x8=Do,k8=Fo,E8=Ao,P8=Lo,T8=dr,b8=Io,N8=Uo,R8=Go,M8=zo,O8=Vo,D8=$o,F8=Bo,A8=Wo,L8=Ko,I8=Xo,U8=Yo,G8=Qo,j8=qo,z8=Jo,V8=Zo,$8=el,B8=tl,H8=nl,W8=rl,K8=al,X8=sl,Y8=ol;mo.Konva=Mf.Konva.Util._assign(Mf.Konva,{Arc:g8.Arc,Arrow:m8.Arrow,Circle:v8.Circle,Ellipse:y8.Ellipse,Image:_8.Image,Label:Of.Label,Tag:Of.Tag,Line:S8.Line,Path:C8.Path,Rect:w8.Rect,RegularPolygon:x8.RegularPolygon,Ring:k8.Ring,Sprite:E8.Sprite,Star:P8.Star,Text:T8.Text,TextPath:b8.TextPath,Transformer:N8.Transformer,Wedge:R8.Wedge,Filters:{Blur:M8.Blur,Brighten:O8.Brighten,Contrast:D8.Contrast,Emboss:F8.Emboss,Enhance:A8.Enhance,Grayscale:L8.Grayscale,HSL:I8.HSL,HSV:U8.HSV,Invert:G8.Invert,Kaleidoscope:j8.Kaleidoscope,Mask:z8.Mask,Noise:V8.Noise,Pixelate:$8.Pixelate,Posterize:B8.Posterize,RGB:H8.RGB,RGBA:W8.RGBA,Sepia:K8.Sepia,Solarize:X8.Solarize,Threshold:Y8.Threshold}});var Q8=oh.exports;Object.defineProperty(Q8,"__esModule",{value:!0});const q8=mo;oh.exports=q8.Konva;var J8=oh.exports;const Sn=Ks(J8),Df=-10;class Z8 extends Ne.Component{constructor(n){super(n);Tt(this,"canvasRef");Tt(this,"group");this.state={error:!1,lastScale:0,scale:0,cursorXPos:Df,timeRulers:[]},this.canvasRef=Ne.createRef(),this.group=null,this.captionSelectionHandler=this.captionSelectionHandler.bind(this),this.initTimeRuler=this.initTimeRuler.bind(this),this.updateRuler=this.updateRuler.bind(this),this.setTimeFromPixels=this.setTimeFromPixels.bind(this),this.zoom=this.zoom.bind(this),this.zoomIn=this.zoomIn.bind(this),this.zoomOut=this.zoomOut.bind(this),this.isZoomInValid=this.isZoomInValid.bind(this),this.isZoomOutValid=this.isZoomOutValid.bind(this),this.calculateRealOffset=this.calculateRealOffset.bind(this)}captionSelectionHandler(n){this.props.onCaptionSelected(n)}zoom(n){const r=this.state.scale+n;this.isZoomInValid(r)&&this.isZoomOutValid(r)&&this.setState({scale:r})}isZoomInValid(n){return n<=X3}isZoomOutValid(n){return n>0}zoomIn(){this.zoom(+Wa)}zoomOut(){this.zoom(-Wa)}calculateRealOffset(n){const r=n.pageX,i=n.currentTarget.getBoundingClientRect();return r-i.left}setTimeFromPixels(n){this.props.onSelectNewTime(this.props.currentTime-zl+n/this.state.scale)}initTimeRuler(){let n=new Sn.Stage({container:this.canvasRef.current,width:window.innerWidth,height:32}),r=new Sn.Layer;this.group=new Sn.Group,r.add(this.group),n.add(r),this.updateRuler()}updateRuler(){var o,l,u,h,v,p,m;let n=[],r=this.state.scale,i=Math.floor(Y3/r),a=this.props.duration,s=0;for(;s<a;){let d=Math.min(a,s+i);for(let _=s;_<=d;_++){const C=hr(_,"minute"),y={text:C,x:this.state.scale*_-14,y:4,fontSize:13,fontFamily:"tahoma"};r<20?_%5===0&&((o=this.group)==null||o.add(new Sn.Text(y))):r<30?_%3===0&&((l=this.group)==null||l.add(new Sn.Text(y))):r<40?_%2===0&&((u=this.group)==null||u.add(new Sn.Text(y))):(h=this.group)==null||h.add(new Sn.Text(y)),(v=this.group)==null||v.add(new Sn.Rect({x:r*_,y:22,width:2,height:10,fill:"black"}))}n.push((p=this.group)==null?void 0:p.toDataURL()),(m=this.group)==null||m.destroyChildren(),s=d}this.setState({timeRulers:n})}componentDidMount(){q("ctrl+=",n=>{n.preventDefault(),this.zoomIn()}),q("ctrl+-",n=>{n.preventDefault(),this.zoomOut()})}componentDidUpdate(){if(this.props.duration!==0){if(this.state.scale===0){let n=K3;this.setState({scale:n})}else this.state.lastScale!==this.state.scale&&this.setState({lastScale:this.state.scale},this.updateRuler);this.group===null&&this.initTimeRuler()}}render(){if(this.state.error)return T.jsx("div",{className:"center badge-danger",children:" an error acuured "});const n=this.props.duration,r=-(this.props.currentTime-zl)/n*100,i=this.state.scale;return T.jsxs("div",{className:"advanced-timeline "+this.props.className,children:[T.jsxs("div",{className:"side-bar",children:[T.jsx(Je,{className:"mb-1",onClick:this.zoomIn,disabled:!this.isZoomInValid(this.state.scale+Wa),iconClassName:"fas fa-search-plus"}),T.jsx("div",{className:"center scale-text",children:i}),T.jsx(Je,{className:"mb-1",onClick:this.zoomOut,disabled:!this.isZoomOutValid(this.state.scale-Wa),iconClassName:"fas fa-search-minus"})]}),T.jsxs("div",{className:"advanced-timeline-wrapper",children:[T.jsx("div",{className:"current-time-cursor",style:{marginLeft:`${zl*i}px`}}),T.jsxs("div",{className:"mover",onMouseMove:a=>this.setState({cursorXPos:this.calculateRealOffset(a)}),onMouseLeave:()=>this.setState({cursorXPos:Df}),children:[T.jsx("div",{className:"konva-instance",ref:this.canvasRef}),T.jsx("div",{className:"time-cursor-wrapper",children:T.jsx(ty,{posx:this.state.cursorXPos,onclick:a=>this.setTimeFromPixels(this.calculateRealOffset(a))})}),T.jsxs("div",{className:"inside-timeline",style:{transform:`translateX(${r}%)`,width:`${n*i}px`,transition:"0.1s linear"},children:[T.jsx("div",{className:"times",children:this.state.timeRulers.map((a,s)=>T.jsx("img",{src:a,alt:`time-ruler-${s}`}))}),T.jsx("div",{className:"captions-side",children:this.props.captions.map((a,s)=>T.jsx(ey,{cap:a,index:s,selected_i:this.props.selectedCaption_i??-1,clickFunc:this.captionSelectionHandler,onCaptionChanged:this.props.onCaptionChanged,scale:i}))})]})]})]})]})}}class ey extends Ne.Component{constructor(e){super(e),this.state={cachedCap:e.cap},this.onClick=this.onClick.bind(this),this.onDragCenterStop=this.onDragCenterStop.bind(this),this.onDragHeadStop=this.onDragHeadStop.bind(this),this.onDragTailStop=this.onDragTailStop.bind(this)}onDragCenterStop(e,n){if(this.props.selected_i!==this.props.index)return;let r=this.props.cap,i=this.props.scale,a={...r,start:r.start+n.lastX/i,end:r.end+n.lastX/i};this.props.onCaptionChanged(this.props.selected_i,a)}onDragHeadStop(e,n){if(this.props.selected_i!==this.props.index)return;let r=this.props.cap,i=this.props.scale,a={...r,start:r.start+n.lastX/i};this.props.onCaptionChanged(this.props.selected_i,a)}onDragTailStop(e,n){if(this.props.selected_i!==this.props.index)return;let r=this.props.cap,i=this.props.scale,a={...r,end:r.end+n.lastX/i};this.props.onCaptionChanged(this.props.selected_i,a)}onClick(e){this.props.clickFunc(this.props.index)}render(){let e=this.props.cap,n=e.end-e.start,r=this.props.selected_i===this.props.index;return T.jsxs("div",{className:"caption-item "+(r?"selected":""),onClick:this.onClick,style:{left:`${e.start*this.props.scale}px`,width:`${n*this.props.scale}px`},children:[T.jsx("div",{className:"start-pad",children:T.jsx(ds,{axis:r?"x":"none",position:{x:0,y:0},onStop:this.onDragHeadStop,children:T.jsx("div",{className:"inside"})})}),T.jsxs("div",{className:"content",children:[T.jsx(ds,{axis:r?"x":"none",position:{x:0,y:0},onStop:this.onDragCenterStop,children:T.jsx("div",{className:"slide"})}),T.jsx("span",{children:e.content})]}),T.jsx("div",{className:"end-pad",children:T.jsx(ds,{axis:r?"x":"none",position:{x:0,y:0},onStop:this.onDragTailStop,children:T.jsx("div",{className:"inside"})})})]},e.hash)}}class ty extends Ne.Component{render(){return T.jsx("div",{className:"user-time-cursor-wrapper",onClick:this.props.onclick,children:T.jsx("div",{className:"user-time-cursor",style:{transform:`translateX(${this.props.posx}px)`}})})}}class Ja extends Ne.Component{constructor(e){super(e),this.state={isEditing:!1,timeEditing:""},this.changeHandler=this.changeHandler.bind(this),this.changeTimeEditing=this.changeTimeEditing.bind(this),this.textEditorTimeChange=this.textEditorTimeChange.bind(this)}changeEditingState(e){this.props.onChange&&this.setState({isEditing:e,timeEditing:e?hr(this.props.time,"complete"):""})}textEditorTimeChange(e){const n=e.target.value;let r;try{r=Ku(n)}catch{return}const i=r-this.props.time;this.changeHandler(i),this.changeEditingState(!1)}changeTimeEditing(e){this.setState({timeEditing:e.target.value})}changeHandler(e){this.props.onChange&&this.props.onChange(e)}render(){const e=this.props.onChange===void 0,n=hr(this.props.time,"complete"),r=this.state.isEditing?T.jsx("div",{className:"time-editor",children:T.jsx("input",{type:"text",className:"time-text-editor",onChange:this.changeTimeEditing,value:this.state.timeEditing,autoFocus:!0,onBlur:this.textEditorTimeChange})}):T.jsx("div",{className:"time-text",onDoubleClick:()=>this.changeEditingState(!0),children:T.jsxs("span",{children:[" ",n," "]})});return T.jsxs("div",{className:"time-control-wrapper",children:[T.jsx(Je,{className:"time-control-btn minus-time",disabled:e,iconClassName:"fas fa-minus",onClick:()=>this.changeHandler(-$r)}),T.jsx(Je,{className:"time-control-btn minus-time little",disabled:e,onClick:()=>this.changeHandler(-Qd),iconClassName:"fas fa-minus"}),r,T.jsx(Je,{className:"time-control-btn add-time little",disabled:e,onClick:()=>this.changeHandler(+Qd),iconClassName:"fas fa-plus"}),T.jsx(Je,{className:"time-control-btn add-time",disabled:e,onClick:()=>this.changeHandler(+$r),iconClassName:"fas fa-plus"}),T.jsx(Je,{className:"time-control-btn add-time",disabled:e,onClick:()=>this.changeHandler(null),iconClassName:"fas fa-angle-double-up"})]})}}var ny=function(t,e,n,r){var i=typeof r<"u"?[r,t]:[t],a=new Blob(i,{type:n||"application/octet-stream"});if(typeof window.navigator.msSaveBlob<"u")window.navigator.msSaveBlob(a,e);else{var s=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(a):window.webkitURL.createObjectURL(a),o=document.createElement("a");o.style.display="none",o.href=s,o.setAttribute("download",e),typeof o.download>"u"&&o.setAttribute("target","_blank"),document.body.appendChild(o),o.click(),setTimeout(function(){document.body.removeChild(o),window.URL.revokeObjectURL(s)},200)}};const ry=Ks(ny);function iy(t,e,n){return Object.assign([],t,{[e]:n})}class ay extends Ne.Component{constructor(n){super(n);Tt(this,"VideoPlayerRef");this.state={videoUrl:zs.videoUrl.getData(),videoHeight:400,acc:0,currentTime:0,totalTime:0,subFileName:"subtitle.srt",captions:[],selected_caption_i:null,historyCursor:-1,history:[]},this.VideoPlayerRef=Ne.createRef(),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onVideoError=this.onVideoError.bind(this),this.handleSeparatorDrag=this.handleSeparatorDrag.bind(this),this.handleSeparatorStop=this.handleSeparatorStop.bind(this),this.addCaptionUIHandler=this.addCaptionUIHandler.bind(this),this.changeCaptionUIHandler=this.changeCaptionUIHandler.bind(this),this.changeCaptionObject=this.changeCaptionObject.bind(this),this.deleteCaptionUIHandler=this.deleteCaptionUIHandler.bind(this),this.deleteCaptionObject=this.deleteCaptionObject.bind(this),this.captionSelectionToggle=this.captionSelectionToggle.bind(this),this.updatedHistory=this.updatedHistory.bind(this),this.undoRedo=this.undoRedo.bind(this),this.goToLastStart=this.goToLastStart.bind(this),this.goToNextEnd=this.goToNextEnd.bind(this),this.saveFile=this.saveFile.bind(this)}componentDidMount(){const n=zs.subtitles.getData();this.setState({captions:n,...this.updatedHistory(n)}),q.filter=()=>!0,q("alt+*, tab, shift+tab",r=>r.preventDefault()),q("ctrl+shift+left",r=>{var i;this.state.selected_caption_i===null&&(r.preventDefault(),(i=this.VideoPlayerRef.current)==null||i.shootTime(-Xd))}),q("ctrl+shift+right",r=>{var i;this.state.selected_caption_i===null&&(r.preventDefault(),(i=this.VideoPlayerRef.current)==null||i.shootTime(+Xd))}),q("ctrl+6",r=>{r.preventDefault(),this.goToLastStart()}),q("ctrl+7",r=>{r.preventDefault(),this.goToNextEnd()}),q("ctrl+left",r=>{var i;r.preventDefault(),(i=this.VideoPlayerRef.current)==null||i.shootTime(-Yd)}),q("ctrl+right",r=>{var i;r.preventDefault(),(i=this.VideoPlayerRef.current)==null||i.shootTime(+Yd)}),q("ctrl+enter",()=>this.addCaptionUIHandler()),q("ctrl+down",r=>{r.preventDefault();const i=this.state.currentTime,a=this.state.captions.findIndex(s=>i>=s.start&&i<=s.end);a!==-1&&this.setState({selected_caption_i:a})}),q("escape",r=>{this.setState({selected_caption_i:null})}),q("space",r=>{r.target.tagName!=="INPUT"&&r.preventDefault()}),q("ctrl+space",r=>{var i;(i=this.VideoPlayerRef.current)==null||i.togglePlay()}),q("ctrl+delete",()=>this.deleteCaptionUIHandler()),q("ctrl+z",()=>this.undoRedo(!0)),q("ctrl+y",()=>this.undoRedo(!1)),q("ctrl+s",r=>{r.preventDefault(),this.saveFile()})}componentWillUnmount(){q.unbind()}onTimeUpdate(n){var i,a,s,o;const r=this.state.selected_caption_i;if(r!==null){const l=this.state.captions[r],u=this.VideoPlayerRef,h=(i=u.current)==null?void 0:i.isPlaying();n>=l.end?h&&((a=u.current)==null||a.setPlay(!1),(s=u.current)==null||s.setTime(l.start)):n<l.start&&h&&((o=u.current)==null||o.setTime(l.start))}this.setState({currentTime:n})}onVideoError(n){rp({kind:"danger",message:"error happend while loading video",duration:5e3})}changeCaptionObject(n,r){return iy(this.state.captions,n,{...r,hash:Vs()})}deleteCaptionObject(n){let r=[...this.state.captions],i=r.length-1;return n!==i&&(r[n]=r[i]),r.pop(),r}addCaptionUIHandler(){let n=this.state.currentTime,r=this.state.captions.find(o=>n>=o.start&&n<=o.end),i=r&&r.end-n<.6?r.end+.001:n,a={start:i,end:i+1,content:"New Caption",hash:Vs()},s=this.state.captions.concat(a);this.setState({captions:s,selected_caption_i:this.state.captions.length,...this.updatedHistory(s)})}changeCaptionUIHandler(n,r){if(n<0||n>=this.state.captions.length)return;let i=this.changeCaptionObject(n,r);this.setState({captions:i,...this.updatedHistory(i)})}deleteCaptionUIHandler(){if(this.state.selected_caption_i===null)return;let n=this.deleteCaptionObject(this.state.selected_caption_i);this.setState({selected_caption_i:null,captions:n,...this.updatedHistory(n)})}updatedHistory(n){let r=this.state.history,i=r.length-1,a=this.state.historyCursor;return a<i?r=[...r.slice(0,a+1),n]:r=[...r,n],r=r.slice(-W3),{historyCursor:r.length-1,history:r}}undoRedo(n){const r=this.state.historyCursor,i=this.state.history,a=n?-1:1;r+a<-1||r+a>=i.length||this.setState({selected_caption_i:null,captions:this.state.history[r+(n?0:1)],historyCursor:r+a})}captionSelectionToggle(n){this.setState({selected_caption_i:this.state.selected_caption_i===n?null:n})}goToNextEnd(){var i;const n=this.state,r=n.captions.filter(a=>n.currentTime<a.end).map(a=>a.end).sort(Kd);r.length&&((i=this.VideoPlayerRef.current)==null||i.setTime(r[0]))}goToLastStart(){var i;const n=this.state,r=n.captions.filter(a=>n.currentTime>a.start).map(a=>a.start).sort(Kd);r.length&&((i=this.VideoPlayerRef.current)==null||i.setTime(r[r.length-1]))}saveFile(){this.state.captions.sort(jv),ry(Vv(this.state.captions),this.state.subFileName)}handleSeparatorStop(){this.setState({videoHeight:this.state.videoHeight+this.state.acc,acc:0})}handleSeparatorDrag(n,r){this.setState({acc:this.state.acc+r.deltaY})}render(){const n=this.state.captions,r=this.state.selected_caption_i;return T.jsxs(T.Fragment,{children:[T.jsx("h2",{className:"page-title",children:"Studio"}),T.jsxs("div",{className:"wrapper",children:[T.jsx("div",{className:"video-wrapper",children:T.jsx(e5,{ref:this.VideoPlayerRef,videoUrl:this.state.videoUrl,onTimeUpdate:this.onTimeUpdate,onError:this.onVideoError,height:this.state.videoHeight,onDurationChanges:i=>this.setState({totalTime:i})})}),T.jsx(ds,{axis:"y",position:{x:0,y:0},onDrag:this.handleSeparatorDrag,onStop:this.handleSeparatorStop,children:T.jsx("div",{className:"separator mt-3"})}),T.jsx(q3,{currentTime:this.state.currentTime,captions:n}),T.jsx(J3,{className:"my-2",currentTime:this.state.currentTime,totalTime:this.state.totalTime,onSelectNewTime:i=>{var a;return(a=this.VideoPlayerRef.current)==null?void 0:a.setTime(i)}}),T.jsxs("div",{className:"d-flex justify-content-center action-button-group my-2",children:[T.jsx(Je,{iconClassName:"fas fa-plus",text:"add caption",onClick:this.addCaptionUIHandler}),T.jsx(Je,{iconClassName:"fas fa-undo",disabled:this.state.historyCursor===-1,text:"undo "+(this.state.historyCursor+1),onClick:()=>this.undoRedo(!0)}),T.jsx(Je,{iconClassName:"fas fa-redo",text:"redo "+(this.state.history.length-1-this.state.historyCursor),disabled:this.state.historyCursor>=this.state.history.length-1,onClick:()=>this.undoRedo(!1)}),T.jsx(Je,{iconClassName:"fas fa-times",disabled:this.state.selected_caption_i===null,text:"unselect",onClick:()=>this.setState({selected_caption_i:null})}),T.jsx(Je,{iconClassName:"fas fa-trash",disabled:this.state.selected_caption_i===null,text:"delete",onClick:this.deleteCaptionUIHandler}),T.jsx(Je,{iconClassName:"fas fa-chevron-left",disabled:n.length===0,text:"last start",onClick:this.goToLastStart}),T.jsx(Je,{iconClassName:"fas fa-chevron-right",disabled:n.length===0,text:"next end ",onClick:this.goToNextEnd})]}),T.jsx(Z8,{className:"my-1",duration:this.state.totalTime,currentTime:this.state.currentTime,onSelectNewTime:i=>{var a;return(a=this.VideoPlayerRef.current)==null?void 0:a.setTime(i)},captions:n,onCaptionSelected:this.captionSelectionToggle,selectedCaption_i:r,onCaptionChanged:this.changeCaptionUIHandler}),T.jsx(Q3,{currentTime:this.state.currentTime,totalTime:this.state.totalTime,caption:r===null?null:n[r],captionIndex:r===null?-1:r,onCaptionChanged:this.changeCaptionUIHandler})]}),T.jsxs("div",{className:"d-flex justify-content-center my-2 download-form",children:[T.jsx("input",{className:"form-control",placeholder:"file-name.srt",value:this.state.subFileName,onChange:i=>this.setState({subFileName:i.currentTarget.value})}),T.jsx("button",{className:"btn btn-danger",onClick:this.saveFile,children:T.jsxs("strong",{children:[" save as a file ",T.jsx("span",{className:"fas fa-file"}),"  "]})})]})]})}}const sy="/subtitle-editor/assets/captionDrag-DSPGcmeX.gif",oy="/subtitle-editor/assets/TimeControll-CSD95MQa.jpg",ly="/subtitle-editor/assets/stickTime-_dElgDDA.png",uy="/subtitle-editor/assets/textAlign-DEjfL-RW.png",cy="/subtitle-editor/assets/addNewCaptionToEndOfLastOne-CRACNIyJ.jpg",hy="/subtitle-editor/assets/resizeVideo-Baapgnr3.png";class dy extends Ne.Component{constructor(){super(...arguments);Tt(this,"state",{shortcuts:[{keys:["ctrl","space"],clue:"play/pause video player"},{keys:["ctrl","right/left"],clue:"go forward/backward in timeline [small step]"},{keys:["ctrl","shift","right/left"],clue:"go forward/backward in timeline [big step]"},{keys:["ctrl","+/-"],clue:"zoom in/out in timeline"},{keys:["ctrl","shift","+/-"],clue:"zoom in/out web page"},{keys:["ctrl","6/7"],clue:"go to [start of last caption]/[end of next caption]"},{keys:["ctrl","down"],clue:"select current caption"},{keys:["escape"],clue:"unselect selected caption"},{keys:["tab","left/right"],clue:"shoot end of selected caption forward/backward"},{keys:["alt","left/right"],clue:"shoot start of selected caption forward/backward"},{keys:["ctrl","8/9"],clue:"shoot start/end of selected caption to the current time"},{keys:["ctrl","enter"],clue:"create new caption"},{keys:["enter"],clue:"updates caption value, it works automatically when you switch between captions too"},{keys:["ctrl","delete"],clue:"delete selected caption"},{keys:["ctrl","0"],clue:"toggle text direction in caption editor input [left to right]/[right to left]"},{keys:["ctrl","z/y"],clue:"undo/redo"},{keys:["ctrl","s"],clue:"save subtitle"}],features:[{imageSrc:sy,details:`you can drag head/tail of the captions to extend/limit the timing of the caption. 
        dragCaption.GIF                  you can also drag center of the caption to move caption forward/backward in time.`},{imageSrc:oy,details:`you can change timestamp manually by double clicking on it
        changes will be applied after clicking out of the timestamp`},{imageSrc:ly,details:"use stick time button to stick start/end of selected caption to the timeline cursor"},{imageSrc:uy,details:"you can change text align according to the language you write in"},{imageSrc:cy,details:"if you add a new caption to the last 600ms of the last caption, the new caption will be inserted after last one"},{imageSrc:hy,details:"you can resize video by draging the thin line after video and before caption view"}]})}render(){return T.jsxs(T.Fragment,{children:[T.jsx("h2",{className:"page-title",children:"Help"}),T.jsxs("div",{className:"wrapper",children:[T.jsxs("h3",{children:[" ",T.jsx("a",{href:"#features",children:"#features"})," "]}),T.jsx("ul",{id:"features",children:this.state.features.map(n=>T.jsxs("li",{children:[T.jsx("img",{src:n.imageSrc,className:"d-block",alt:""}),T.jsxs("span",{children:[" ",n.details," "]})]}))}),T.jsxs("h3",{children:[" ",T.jsx("a",{href:"#shortcuts",children:"#shortcuts"})," "]}),T.jsx("ul",{id:"shortcuts",children:this.state.shortcuts.map(n=>T.jsxs("li",{className:"shortcut d-flex justify-content-between",children:[T.jsx("span",{className:"keys",children:n.keys.map((r,i)=>T.jsxs(T.Fragment,{children:[i!==0?T.jsx("span",{className:"plus",children:"+"}):"",T.jsx("code",{className:"key",children:r})]}))}),T.jsxs("span",{className:"clue",children:[" ",n.clue," "]})]}))})]})]})}}class fy extends Ne.Component{render(){return T.jsxs(T.Fragment,{children:[T.jsx(Rv,{basename:"/subtitle-editor",children:T.jsxs(xv,{children:[T.jsx(hs,{path:"/",element:T.jsx(Hv,{})}),T.jsx(hs,{path:"/studio",element:T.jsx(ay,{})}),T.jsx(hs,{path:"/help",element:T.jsx(dy,{})})]})}),T.jsx(Av,{})]})}}let py=K1(document.getElementById("root"));py.render(T.jsx(Ne.StrictMode,{children:T.jsx(fy,{})}));
